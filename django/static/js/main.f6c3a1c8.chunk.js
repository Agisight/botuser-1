(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t){e.exports="data:image/png;base64,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"},334:function(e,t,a){e.exports=a.p+"static/media/VideoPlaceholder.1dba7393.svg"},357:function(e,t,a){e.exports=a(785)},362:function(e,t,a){},364:function(e,t,a){},785:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(42),i=a.n(l),o=a(51),c=(a(362),a(364),a(4)),s=a(5),d=a(7),u=a(6),m=a(8),p=a(786),h=a(791),b=a(789),E=a(790),f=a(25),g=a(788),v=a(303),y=a.n(v),C=a(307),x=a.n(C),O=a(305),j=a.n(O),S=a(306),N=a.n(S),k=a(308),w=a.n(k),I=function(e){var t=e.match;return r.a.createElement("aside",{className:"aside"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.a,{to:"/bot/".concat(t.params.id,"/editor"),activeClassName:"active"},r.a.createElement(y.a,{className:"aside_icon"}),"\u0427\u0430\u0442-\u0431\u043e\u0442")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/bot/".concat(t.params.id,"/analytics"),activeClassName:"active"},r.a.createElement(j.a,{className:"aside_icon"}),"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/bot/".concat(t.params.id,"/clients"),activeClassName:"active"},r.a.createElement(N.a,{className:"aside_icon"}),"\u041a\u043b\u0438\u0435\u043d\u0442\u044b")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/bot/".concat(t.params.id,"/mailing"),activeClassName:"active"},r.a.createElement(x.a,{className:"aside_icon"}),"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/bot/".concat(t.params.id,"/payment"),activeClassName:"active"},r.a.createElement(w.a,{className:"aside_icon"}),"\u0422\u0430\u0440\u0438\u0444\u044b"))))},T=a(370),D=a(48),B=a.n(D),A=a(47),M=a(309),P=a(22),L=a(49),q=a(89),G=a.n(q),R=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),z=!!(R&&R.refreshExpires>(new Date).getTime()),V={editor:null,editorChanges:!1,auth:{isSignedIn:z,token:R&&z?R.token:null,refresh:R&&z?R.refresh:null,expires:R&&z?R.expires:null,refreshExpires:R&&z?R.refreshExpires:null}},W=a(310),F=a.n(W),Y=Object(A.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":var a=(new Date).getTime()+3e5,n=(new Date).getTime()+11232e5;return Object(P.a)({},e,{auth:{isSignedIn:!0,token:t.payload.access,refresh:t.payload.refresh,expires:a,refreshExpires:n}});case"REFRESH_TOKEN":return Object(P.a)({},e,{auth:Object(P.a)({},e.auth,{expires:new Date((new Date).getTime()+3e5).getTime(),token:t.userData.token})});case"LOGOUT":return Object(P.a)({},e,{editor:null,editorChanges:!1,editorDragDisabled:!1,analytics:{numbers:null,charts:null,fromDate:new Date(Date.now()-2592e6),toDate:new Date,period:"day"},settings:null,auth:{isSignedIn:!1,expires:null,token:null,refresh:null,refreshExpires:null}});case"LOAD_EDITOR_DATA":return Object(P.a)({},e,{editor:t.editor,editorChanges:!1});case"TOGGLE_EDITOR_ACTIVE":return Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{is_active:!e.editor.is_active}),editorChanges:!1});case"SAVE_EDITOR_DATA":return Object(P.a)({},e,{editorChanges:!1});case"LOAD_ANALYTICS_DATA":return Object(P.a)({},e,{analytics:t.analytics});case"LOAD_SETTINGS_DATA":return Object(P.a)({},e,{settings:t.settings});case"LOAD_FAQ_DATA":return Object(P.a)({},e,{faq:t.faq});case"CLEAR_EDITOR_DATA":return Object(P.a)({},e,{editor:null,editorChanges:!1,analytics:{numbers:null,charts:null,fromDate:new Date(Date.now()-2592e6),toDate:new Date,period:"day"},settings:null});case"ADD_CHAIN":return Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:e.editor.data.concat([[]])}),editorChanges:!0});case"ADD_PAGE":var r=L(e.editor.data);return r[t.chainIndex].push({name:t.pageName,id:G()(),elements:[]}),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:r}),editorChanges:!0});case"EDIT_PAGE_TITLE":var l=L(e.editor.data);return l[t.chainIndex][t.pageIndex].name=t.newTitle,Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:l}),editorChanges:!0});case"DUPLICATE_PAGE":var i=L(e.editor.data),o=Object(P.a)({},i[t.chainIndex][t.pageIndex]);return o.id=G()(),o.elements=o.elements.map(function(e){return e.id=G()(),e}),i[t.chainIndex].splice(t.pageIndex,0,o),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:i}),editorChanges:!0});case"REMOVE_PAGE":var c=L(e.editor.data);return c[t.chainIndex].splice(t.pageIndex,1),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:c}),editorChanges:!0});case"ADD_ELEMENT":var s=L(e.editor.data),d=s[t.chainIndex][t.pageIndex].elements,u=t.data;return u.id=G()(),d.push(u),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:s}),editorChanges:!0});case"REMOVE_ELEMENT":var m=L(e.editor.data);return m[t.chainIndex][t.pageIndex].elements.splice(t.index,1),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:m}),editorChanges:!0});case"DISABLE_EDITOR_DRAG":return Object(P.a)({},e,{editorDragDisabled:!0});case"ENABLE_EDITOR_DRAG":return Object(P.a)({},e,{editorDragDisabled:!1});case"MOVE_ELEMENT":var p=t.destination,h=t.source;if(!p||p.droppableId===h.droppableId&&p.index===h.index)return e;var b=L(e.editor.data);if("page"===t.draggableId.split(":")[0]){var E=t.draggableId.split(":")[1],f=t.draggableId.split(":")[2],g=p.droppableId.split(":")[0],v=L(b[E][f]);return b[E].splice(h.index,1),b[g].splice(p.index,0,v),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:b}),editorChanges:!0})}var y=t.draggableId.split(":")[2],C=t.draggableId.split(":")[3],x=p.droppableId.split(":")[1],O=p.droppableId.split(":")[2],j=L(b[y][C].elements[h.index]);return b[y][C].elements.splice(h.index,1),b[x][O].elements.splice(p.index,0,j),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:b}),editorChanges:!0});case"EDIT_ELEMENT":var S=L(e.editor.data);return S[t.chainIndex][t.pageIndex].elements[t.index].data=t.data.data,Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:S}),editorChanges:!0});case"DUPLICATE_ELEMENT":var N=L(e.editor.data),k=Object(P.a)({},N[t.chainIndex][t.pageIndex].elements[t.index]);return k.data=L(k.data),k.id=G()(),N[t.chainIndex][t.pageIndex].elements.splice(t.index,0,k),Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{data:N}),editorChanges:!0});case"CONNECT_BOT":return Object(P.a)({},e,{editor:Object(P.a)({},e.editor,{status:"on"})});default:return e}},Object(M.composeWithDevTools)());Y.subscribe(F()(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}({token:Y.getState().auth.token,refresh:Y.getState().auth.refresh,expires:Y.getState().auth.expires,refreshExpires:Y.getState().auth.refreshExpires,partner:Y.getState().auth.partner})},1e3));var H=Y,U=D.create({headers:{Authorization:"Bearer ".concat(localStorage?localStorage.token:null)}});U.interceptors.request.use(function(e){var t=JSON.parse(window.localStorage.getItem("state")),a=e,n=t.token,r=t.expires<(new Date).getTime();return t.refreshExpires<(new Date).getTime()&&H.dispatch({type:"LOGOUT"}),n&&r?new Promise(function(e,t){var a=JSON.parse(window.localStorage.getItem("state"));return D.post("/api/token/refresh/",{refresh:a.refresh}).then(function(t){e(t.data)}).catch(function(e){H.dispatch({type:"LOGOUT"})})}).then(function(e){return a.headers.Authorization="Bearer "+e.access,H.dispatch({type:"REFRESH_TOKEN",userData:{token:e.access}}),Promise.resolve(a)}).catch(function(e){H.dispatch({type:"LOGOUT"})}):(a.headers.Authorization="Bearer "+t.token,e)},function(e){return Promise.reject(e)});var K=U,Z=a(140),Q=a.n(Z),_=a(87),J=a.n(_),X=a(39),$=a.n(X),ee=a(9),te=a.n(ee),ae=a(316),ne=a.n(ae),re=a(313),le=a.n(re),ie=a(72),oe=a.n(ie),ce=a(314),se=a.n(ce),de=a(315),ue=a.n(de),me=a(139),pe=a.n(me),he=a(135),be=a.n(he),Ee=a(12),fe=a(17),ge=a.n(fe),ve=a(26),ye=a.n(ve),Ce=a(29),xe=a.n(Ce),Oe=a(28),je=a.n(Oe),Se=a(27),Ne=a.n(Se),ke=a(16),we=a.n(ke),Ie=a(36),Te=a.n(Ie),De=a(14),Be=Ee.object().shape({token:Ee.string().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),Ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,submiting:!1,error:!1},a.onConnectClick=function(){a.setState({open:!0})},a.onClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e){a.setState({submiting:!0,error:!1}),K.post("/api/set_webhook/".concat(a.props.botId,"/"),{token:e.token}).then(function(e){a.props.connectBot(),a.setState({submiting:!1,open:!1,error:!1})}).catch(function(e){a.setState({error:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0442\u043e\u043a\u0435\u043d\u0430",submiting:!1})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderSubmitingLoader",value:function(){return!0===this.state.submiting?r.a.createElement("div",{className:"submiting"},r.a.createElement(Te.a,null)):null}},{key:"render",value:function(){var e=this;if(!this.props.editor)return null;var t="on"===this.props.editor.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{style:{marginLeft:8},color:"secondary",onClick:this.onConnectClick},t?"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c"),r.a.createElement(ye.a,{open:this.state.open},r.a.createElement(Ne.a,null,"\u041f\u043e\u0434\u043a\u044e\u0447\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430"),r.a.createElement(je.a,null,this.renderSubmitingLoader(),this.state.error?r.a.createElement(we.a,{variant:"caption",color:"error",display:"block",gutterBottom:!0},this.state.error):null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:{token:""},validationSchema:Be,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=e.values,i=e.errors,o=e.touched;return r.a.createElement(De.c,{onSubmit:t,style:{minWidth:"344px"}},r.a.createElement(ge.a,{name:"token",value:l.token,label:"\u0422\u043e\u043a\u0435\u043d",margin:"normal",variant:"filled",onChange:a,onBlur:n,error:o.token&&Boolean(i.token),helperText:i.token&&o.token?i.token:"",required:!0,style:{width:"100%"}}),r.a.createElement("br",null))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.onClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c"))))}}]),t}(r.a.Component),Me=Object(f.b)(function(e){return{editor:e.editor}},function(e){return{connectBot:function(){return e({type:"CONNECT_BOT"})}}})(Ae),Pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSave=function(){K.put("/api/bot_data/".concat(a.props.match.params.id,"/"),a.props.editor,{crossDomain:!0,withCredentials:!0}),a.props.saveEditorData()},a.onActiveToggle=function(){K.put("/api/bot_data/".concat(a.props.match.params.id,"/"),{is_active:!a.props.editor.is_active},{crossDomain:!0,withCredentials:!0}).then(function(e){a.props.toggleActive()})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderSaveElements",value:function(){return this.props.editorChanges?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{in:!0},r.a.createElement("div",{className:"unsaved"},r.a.createElement(se.a,{style:{marginRight:8}}),"\u0415\u0441\u0442\u044c \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")),r.a.createElement(oe.a,{in:!0},r.a.createElement(te.a,{variant:"contained",style:{boxShadow:"none"},color:"primary",onClick:this.onSave},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))):null}},{key:"renderActivityButton",value:function(){return this.props.editor?r.a.createElement($.a,{onClick:this.onActiveToggle,disabled:!this.props.editor,style:{marginLeft:8}},this.props.editor.is_active?r.a.createElement(pe.a,{color:"secondary"}):r.a.createElement(ue.a,{color:"secondary"})):null}},{key:"renderControls",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderSaveElements(),r.a.createElement(Me,{botId:this.props.match.params.id}),this.renderActivityButton())}},{key:"render",value:function(){var e=this;return r.a.createElement(Q.a,{position:"static",className:"header",color:"inherit",elevation:0},r.a.createElement(J.a,{style:{padding:"0px 20px"}},r.a.createElement($.a,{style:{marginRight:"16px"},className:"button-link",component:T.a,to:"/"},r.a.createElement(ne.a,{color:"secondary"})),r.a.createElement("div",{className:"logo",style:{flexGrow:1}},r.a.createElement("img",{src:be.a,alt:"INBOT24"})),r.a.createElement(p.a,{exact:!0,path:"/bot/:id/editor",render:function(){return e.renderControls()}})))}}]),t}(r.a.Component),Le=Object(f.b)(function(e){return{editor:e.editor,editorChanges:e.editorChanges}},function(e){return{saveEditorData:function(){return e({type:"SAVE_EDITOR_DATA"})},toggleActive:function(){return e({type:"TOGGLE_EDITOR_ACTIVE"})}}})(Pe),qe=a(103),Ge=a(318),Re=a.n(Ge),ze=a(62),Ve=a.n(ze),We=Ee.object().shape({botName:Ee.string().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),Fe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){K.post("api/bot_list/",{name:e.botName},{crossDomain:!0,withCredentials:!0}).then(function(e){e.data.error||(a.props.addBot(e.data),a.handleClose())}).catch(function(e){console.log(e),t.setSubmitting(!1)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-12 xol-md-6 col-lg-3 xol-xl-3"},r.a.createElement(te.a,{onClick:this.handleClickOpen,className:"list_new",variant:"outlined",color:"primary"},r.a.createElement(Ve.a,{style:{marginRight:4}}),"\u041d\u043e\u0432\u044b\u0439 \u0431\u043e\u0442"),r.a.createElement(ye.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"\u041d\u043e\u0432\u044b\u0439 \u0431\u043e\u0442"),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:{botName:""},validationSchema:We,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=(e.values,e.errors),i=e.touched;return r.a.createElement(De.c,{onSubmit:t},r.a.createElement(ge.a,{type:"text",name:"botName",id:"botName",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",margin:"normal",variant:"filled",onChange:a,onBlur:n,error:i.botName&&Boolean(l.botName),helperText:l.botName&&i.botName?l.botName:"",required:!0,style:{minWidth:"300px"}}))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))))}}]),t}(r.a.Component),Ye=a(317),He=a.n(Ye),Ue=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,{className:"list-card",key:this.props.id,to:"bot/".concat(this.props.id,"/editor")},r.a.createElement("div",{className:"list-card_icon ".concat(this.props.active?"active":"")},r.a.createElement(He.a,{style:{fontSize:48}})),r.a.createElement("div",{className:"list-card-content"},r.a.createElement("div",{className:"list-card-content_left"},r.a.createElement(we.a,{variant:"subtitle2",color:"secondary",style:{textOverflow:"ellipsis"}},this.props.name),r.a.createElement(we.a,{variant:"caption",color:"secondary"},this.props.active?"\u0420\u0410\u0411\u041e\u0422\u0410\u0415\u0422":"\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d")),r.a.createElement("div",{className:"list-card-content_right"})))}}]),t}(r.a.Component),Ke=Ue,Ze=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loader:!0,dialog:!1,bots:null},a.componentDidMount=function(){a.props.clearEditorData(),K.get("api/bot_list/",{crossDomain:!0,withCredentials:!0}).then(function(e){e.data.error&&console.log(e.data.error);var t=e.data;a.setState({loader:!1,bots:t})}).catch(function(e){console.log(e)})},a.handleBotAdd=function(e){var t=Object(qe.a)(a.state.bots);t.push(e),a.setState({bots:t})},a.editBot=function(e,t){var n=Object(qe.a)(a.state.bots),r=n.findIndex(function(t){return t.id===e});n[r].name=t,a.setState({bots:n})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderBotList",value:function(){return null===this.state.bots?r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"text-center"},r.a.createElement(Te.a,{style:{marginTop:"24px"}}))):this.state.bots.map(function(e){return r.a.createElement("div",{className:"col-12 xol-md-6 col-lg-3 xol-xl-3",key:e.id},r.a.createElement(Ke,{id:e.id,name:e.name,active:e.is_active}))})}},{key:"render",value:function(){return r.a.createElement("main",{className:"list-main"},r.a.createElement(Q.a,{position:"static",className:"header",color:"inherit",elevation:0},r.a.createElement(J.a,null,r.a.createElement("div",{className:"logo",style:{flexGrow:1}},r.a.createElement("img",{src:be.a,alt:"INBOT24"})),r.a.createElement($.a,{style:{marginLeft:"16px"},onClick:this.props.logout},r.a.createElement(Re.a,null)))),r.a.createElement("div",{className:"container list-container"},r.a.createElement("div",{className:"row"},this.renderBotList(),this.state.bots?r.a.createElement(Fe,{addBot:this.handleBotAdd}):null)))}}]),t}(n.Component),Qe=Object(f.b)(null,function(e){return{clearEditorData:function(){return e({type:"CLEAR_EDITOR_DATA"})},logout:function(){return e({type:"LOGOUT"})}}})(Ze),_e=a(63),Je=a(141),Xe=a.n(Je),$e=a(343),et=a.n($e),tt=a(192),at=a.n(tt),nt=a(326),rt=a.n(nt),lt=a(328),it=a.n(lt),ot=a(327),ct=a.n(ot),st=a(142),dt=a.n(st),ut=a(319),mt=a.n(ut),pt=a(143),ht=a.n(pt),bt=a(320),Et=a.n(bt),ft=a(321),gt=a.n(ft),vt=a(144),yt=a.n(vt),Ct=a(145),xt=a.n(Ct),Ot=a(323),jt=a.n(Ot),St=a(322),Nt=a.n(St),kt=a(325),wt=a.n(kt),It=a(324),Tt=a.n(It),Dt=[{type:"text",title:"\u0422\u0435\u043a\u0441\u0442"},{type:"menu",title:"\u041c\u0435\u043d\u044e"},{type:"image",title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},{type:"video",title:"\u0412\u0438\u0434\u0435\u043e"}],Bt=function(e){return r.a.createElement("div",null,r.a.createElement(ye.a,{onClose:function(){e.onClose(null)},open:e.open},r.a.createElement(Ne.a,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement(at.a,{style:{minWidth:"344px"}},Dt.map(function(t){return r.a.createElement(rt.a,{button:!0,onClick:function(){return a=t.type,void e.onClose(a);var a},key:t.type},r.a.createElement(ct.a,null,function(e){switch(e){case"text":return r.a.createElement(dt.a,null);case"fork":return r.a.createElement(mt.a,null);case"menu":return r.a.createElement(ht.a,null);case"input":return r.a.createElement(Et.a,null);case"rewind":return r.a.createElement(gt.a,null);case"image":return r.a.createElement(yt.a,null);case"video":return r.a.createElement(xt.a,null);case"file":return r.a.createElement(Nt.a,null);case"order":return r.a.createElement(jt.a,null);case"pause":return r.a.createElement(pe.a,null);case"contact":return r.a.createElement(Tt.a,null);case"geo":return r.a.createElement(wt.a,null);default:return null}}(t.type)),r.a.createElement(it.a,{inset:!0,primary:t.title}))}))))},At=Ee.object().shape({text:Ee.string().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),Mt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"text",data:{text:e.text}};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={text:""};return null!==this.props.data&&(t={text:this.props.data.text}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,"\u0422\u0435\u043a\u0441\u0442"),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:At,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=e.values,i=e.errors,o=e.touched;return r.a.createElement(De.c,{onSubmit:t,style:{minWidth:"344px"}},r.a.createElement(ge.a,{name:"text",value:l.text,multiline:!0,rowsMax:26,rows:6,label:"\u0422\u0435\u043a\u0441\u0442",margin:"normal",variant:"filled",onChange:a,onBlur:n,error:o.text&&Boolean(i.text),helperText:i.text&&o.text?i.text:"",required:!0,style:{width:"100%"}}),r.a.createElement("br",null))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(n.Component),Pt=function(e,t){if(e){var a=[];return"option"===t?e.data.forEach(function(e){return e.forEach(function(e){a.push({value:e.id,label:e.name})})}):e.data.forEach(function(e){return e.forEach(function(e){a.push({id:e.id,name:e.name})})}),a}},Lt=a(329),qt=a.n(Lt),Gt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){console.log(e);var n={type:"fork",value:e.forks};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=Pt(this.props.editor,"option");console.log(t);var a={forks:[{text:"",id:t[0].value}]};return null!==this.props.value&&(a={forks:this.props.value}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,"\u0420\u0430\u0437\u0432\u0438\u043b\u043a\u0430"),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:a,ref:function(t){return e.form=t}},function(e){var a=e.handleSubmit,n=(e.handleChange,e.handleBlur,e.values);e.errors,e.touched;return r.a.createElement(De.c,{onSubmit:a,style:{minWidth:"355px"}},r.a.createElement(De.b,{name:"forks",render:function(e){return r.a.createElement("div",null,n.forks.map(function(a,n){return r.a.createElement("div",{key:n,className:"editor-field-group"},r.a.createElement(De.a,{name:"forks[".concat(n,"]text")},function(e){var t=e.field;e.form;return r.a.createElement(ge.a,Object.assign({},t,{variant:"outlined",label:"\u0422\u0435\u043a\u0441\u0442",style:{marginRight:"16px",marginTop:"8px"}}))}),r.a.createElement(De.a,{name:"forks[".concat(n,"]id")},function(e){var a=e.field;e.form;return r.a.createElement(ge.a,Object.assign({},a,{select:!0,variant:"outlined",label:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430",SelectProps:{native:!0},InputLabelProps:{shrink:!0},style:{marginTop:"8px"}}),t.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))}),r.a.createElement($.a,{onClick:function(){return e.remove(n)},"aria-label":"Delete"},r.a.createElement(qt.a,null)))}),r.a.createElement("div",{className:"text-center",style:{marginTop:"16px"}},r.a.createElement(te.a,{onClick:function(){return e.push({text:"",id:t[0].value})},color:"primary",variant:"outlined"},r.a.createElement("i",{className:"material-icons",style:{marginRight:"4px"}},"add"),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}}))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},"Co\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(n.Component),Rt=Object(f.b)(function(e){return{editor:e.editor}})(Gt),zt=a(146),Vt=a.n(zt),Wt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"menu",data:{text:e.text,fallback:e.fallback,value:e.forks}};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=Pt(this.props.editor,"option"),a={text:"",fallback:"",forks:[{text:"",id:t[0].value}]};return null!==this.props.data&&(a={text:this.props.data.text,fallback:this.props.data.fallback,forks:this.props.data.value}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,"\u041c\u0435\u043d\u044e"),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:a,ref:function(t){return e.form=t}},function(e){var a=e.handleSubmit,n=e.handleChange,l=e.handleBlur,i=e.values;e.errors,e.touched;return r.a.createElement(De.c,{onSubmit:a,style:{minWidth:"355px"}},r.a.createElement(ge.a,{name:"text",value:i.descr,multiline:!0,rowsMax:16,rows:6,label:"\u0422\u0435\u043a\u0441\u0442",margin:"normal",variant:"filled",onChange:n,onBlur:l,style:{width:"100%",marginBottom:"16px"}}),r.a.createElement(De.b,{name:"forks",render:function(e){return r.a.createElement("div",null,i.forks.map(function(a,n){return r.a.createElement("div",{key:n,className:"editor-field-group"},r.a.createElement(De.a,{name:"forks[".concat(n,"]text")},function(e){var t=e.field;e.form;return r.a.createElement(ge.a,Object.assign({},t,{variant:"filled",label:"\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438",style:{marginRight:"16px",marginTop:"8px",flex:1}}))}),r.a.createElement(De.a,{name:"forks[".concat(n,"]id")},function(e){var a=e.field;e.form;return r.a.createElement(ge.a,Object.assign({},a,{select:!0,variant:"filled",label:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430",SelectProps:{native:!0},InputLabelProps:{shrink:!0},style:{marginTop:8,maxWidth:160}}),t.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))}),r.a.createElement($.a,{onClick:function(){return e.remove(n)},"aria-label":"Delete"},r.a.createElement(Vt.a,null)))}),r.a.createElement("div",{className:"text-center",style:{marginTop:"16px"}},r.a.createElement(te.a,{onClick:function(){return e.push({text:"",id:t[0].value})},color:"secondary"},r.a.createElement("i",{className:"material-icons",style:{marginRight:"4px"}},"add"),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}}),r.a.createElement(ge.a,{name:"fallback",value:i.fallback,label:"\u041e\u0448\u0438\u0431\u043a\u0430",margin:"normal",variant:"filled",onChange:n,onBlur:l,style:{width:"100%",marginTop:"36px"}}))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(n.Component),Ft=Object(f.b)(function(e){return{editor:e.editor}})(Wt),Yt=a(10),Ht=Ee.object().shape({variable:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"})),variableType:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"})),desc:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"})),fallback:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"}))}),Ut=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"input",value:e.variable,variableType:e.variableType,fallback:e.fallback,descr:e.desc};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={desc:"",variable:"",fallback:"",variableType:"string"};return null!==this.props.value&&(console.log(this.props),t={desc:this.props.descr,variable:this.props.value,fallback:this.props.fallback,variableType:this.props.variableType}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,r.a.createElement(Yt.b,{id:"editor.elements.input"})),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:Ht,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=e.values,i=e.errors,o=e.touched;return r.a.createElement(De.c,{onSubmit:t,style:{minWidth:"344px"}},r.a.createElement(ge.a,{name:"desc",value:l.desc,multiline:!0,rowsMax:26,rows:6,label:r.a.createElement(Yt.b,{id:"forms.text"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.desc&&Boolean(i.desc),helperText:i.desc&&o.desc?i.desc:"",required:!0,style:{width:"100%"}}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ge.a,{name:"variable",value:l.variable,label:r.a.createElement(Yt.b,{id:"forms.variable-name"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.variable&&Boolean(i.variable),helperText:i.variable&&o.variable?i.variable:"",style:{marginTop:"16px",marginRight:"16px"},required:!0}),r.a.createElement(De.a,{name:"variableType"},function(e){var t=e.field;e.form;return r.a.createElement(ge.a,Object.assign({},t,{select:!0,variant:"outlined",label:r.a.createElement(Yt.b,{id:"forms.variable-type"}),error:o.variableType&&Boolean(i.variableType),helperText:i.variableType&&o.variableType?i.variableType:"",SelectProps:{native:!0},InputLabelProps:{shrink:!0},style:{marginTop:"16px",width:"150px"}}),r.a.createElement("option",{value:"string"},"String"),r.a.createElement("option",{value:"number"},"Number"),r.a.createElement("option",{value:"date"},"Date"),r.a.createElement("option",{value:"email"},"Email"),r.a.createElement("option",{value:"phone"},"Phone"))})),r.a.createElement(ge.a,{name:"fallback",required:!0,value:l.fallback,label:r.a.createElement(Yt.b,{id:"forms.fallback"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,style:{width:"100%",marginTop:"16px"}}))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},r.a.createElement(Yt.b,{id:"btn.cancel"})),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},r.a.createElement(Yt.b,{id:"btn.save"}))))}}]),t}(n.Component),Kt=Ee.object().shape({page:Ee.string().required(r.a.createElement(Yt.b,{id:"validate.required"}))}),Zt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"rewind",value:e.page};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=Pt(this.props.editor,"options"),a={page:t[0].id};return null!==this.props.value&&(a={page:this.props.value}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,r.a.createElement(Yt.b,{id:"editor.elements.rewind"})),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:a,validationSchema:Kt,ref:function(t){return e.form=t}},function(e){var a=e.handleSubmit,n=(e.handleChange,e.handleBlur,e.values,e.errors),l=e.touched;return r.a.createElement(De.c,{onSubmit:a,style:{minWidth:"344px"}},r.a.createElement(De.a,{name:"page"},function(e){var a=e.field;e.form;return r.a.createElement(ge.a,Object.assign({},a,{select:!0,variant:"outlined",label:r.a.createElement(Yt.b,{id:"forms.screen"}),error:l.page&&Boolean(n.page),helperText:n.page&&l.page?n.page:"",SelectProps:{native:!0},InputLabelProps:{shrink:!0},style:{marginTop:"8px"}}),t.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),r.a.createElement("br",null))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},r.a.createElement(Yt.b,{id:"btn.cancel"})),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},r.a.createElement(Yt.b,{id:"btn.save"}))))}}]),t}(n.Component),Qt=Object(f.b)(function(e){return{editor:e.editor}})(Zt),_t=Ee.object().shape({image:Ee.mixed().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),text:Ee.string().max(1024,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 1024 \u0441\u0438\u043c\u0432\u043e\u043b\u0430")}),Jt=Ee.object().shape({text:Ee.string().max(1024,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 1024 \u0441\u0438\u043c\u0432\u043e\u043b\u0430")}),Xt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tooLarge:!1,serverError:!1,submiting:!1,uploading:!1,image:null},a.handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){a.setState({submiting:!0});var n={type:"image",data:{image:a.state.image,text:e.text}};a.props.editCard(n)},a.handleImageUpload=function(e){console.log(a.props),a.setState({uploading:!0});var t=new FormData;t.append("image",e),K.post("/api/upload_photo/".concat(a.props.botId,"/"),t,{crossDomain:!0,withCredentials:!0}).then(function(e){e.data.error?a.setState({serverError:e.data.error}):a.setState({uploading:!1,image:e.data.url})}).catch(function(e){console.log(e),a.setState({uploading:!1}),a.setState({serverError:"[500] \u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u043d\u0430\u0448\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&this.setState({image:this.props.data.image})}},{key:"render",value:function(){var e=this,t={text:""},a=null;return null!==this.props.data&&(t={text:this.props.data.text}),!0===this.state.submiting&&(a=r.a.createElement("div",{className:"submiting"},r.a.createElement(Te.a,null))),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement(je.a,null,a,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:this.props.data?Jt:_t,ref:function(t){return e.form=t}},function(t){var a=t.handleSubmit,n=t.handleChange,l=t.handleBlur,i=t.values,o=t.errors,c=t.touched,s=t.setFieldValue;return r.a.createElement(De.c,{onSubmit:a,style:{minWidth:"344px"}},r.a.createElement("input",{id:"image-upload-input",name:"image",type:"file",accept:"image/*",onChange:function(t){e.setState({serverError:!1,tooLarge:!1}),t.currentTarget.files[0]&&((t.currentTarget.files[0].size/1024/1024).toFixed(4)<=10?(s("image",t.currentTarget.files[0]),e.handleImageUpload(t.currentTarget.files[0])):(s("image",""),e.setState({tooLarge:!0})))}}),r.a.createElement("div",{className:"image-upload",style:{backgroundImage:e.state.image?"url(".concat(e.state.image,")"):"none"}},r.a.createElement("label",{htmlFor:"image-upload-input",className:"image-upload-label"},e.state.uploading?r.a.createElement(Te.a,{color:"inherit",className:"image-upload_btn"}):r.a.createElement(te.a,{color:"inherit",component:"span",className:"image-upload_btn"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"))),r.a.createElement("br",null),e.state.serverError?r.a.createElement("div",{className:"field-error"},e.state.serverError):null,e.state.tooLarge?r.a.createElement("div",{className:"field-error"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 10MB"):null,r.a.createElement(ge.a,{name:"text",value:i.text,multiline:!0,rowsMax:16,rows:6,label:"\u0422\u0435\u043a\u0441\u0442",margin:"normal",variant:"filled",onChange:n,onBlur:l,error:c.text&&Boolean(o.text),helperText:o.text&&c.text?o.text:"",style:{width:"100%"}}),r.a.createElement("br",null))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary",disabled:this.state.uploading},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(n.Component),$t=Ee.object().shape({file:Ee.mixed().required(r.a.createElement(Yt.b,{id:"validation.required"}))}),ea=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tooLarge:!1,serverError:!1,submiting:!1},a.handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){a.setState({submiting:!0});var n=new FormData;n.append("file",e.file),B.a.post("upload_file/",n,{crossDomain:!0,withCredentials:!0}).then(function(e){if(e.data.error)a.setState({serverError:e.data.error});else{var n={type:"file",value:e.data.url};a.setState({submiting:!1}),a.props.editCard(n),t.setSubmitting(!1)}}).catch(function(e){console.log(e),t.setSubmitting(!1)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(!0===this.state.submiting)var t=r.a.createElement("div",{className:"submiting"},r.a.createElement(Te.a,null));return r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,r.a.createElement(Yt.b,{id:"editor.elements.file"})),r.a.createElement(je.a,null,t,r.a.createElement(De.d,{onSubmit:this.onSubmit,validationSchema:$t,ref:function(t){return e.form=t}},function(t){var a=t.handleSubmit,n=(t.handleChange,t.handleBlur,t.values,t.errors,t.touched,t.setFieldValue);return r.a.createElement(De.c,{onSubmit:a,style:{minWidth:"344px"}},r.a.createElement("input",{name:"file",type:"file",onChange:function(t){e.setState({serverError:!1,tooLarge:!1}),(t.currentTarget.files[0].size/1024/1024).toFixed(4)<=1?n("file",t.currentTarget.files[0]):(n("file",""),e.setState({tooLarge:!0}))}}),null===e.props.value?r.a.createElement("br",null):null,e.state.serverError?r.a.createElement("div",{className:"field-error"},e.state.serverError):null,e.state.tooLarge?r.a.createElement("div",{className:"field-error"},"The file size is too large. Max file size: 1MB"):null)})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},r.a.createElement(Yt.b,{id:"btn.cancel"})),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},r.a.createElement(Yt.b,{id:"btn.save"}))))}}]),t}(n.Component),ta=Ee.object().shape({order:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"})),response:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"}))}),aa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"order",value:{order:e.order,response:e.response}};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={order:"",response:""};return null!==this.props.value&&(t={order:this.props.value.order,response:this.props.value.response}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,r.a.createElement(Yt.b,{id:"editor.elements.order"})),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:ta,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=e.values,i=e.errors,o=e.touched;return r.a.createElement(De.c,{onSubmit:t,style:{minWidth:"344px"}},r.a.createElement(ge.a,{name:"order",value:l.order,multiline:!0,rowsMax:26,rows:6,label:r.a.createElement(Yt.b,{id:"forms.order-text"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.order&&Boolean(i.order),helperText:i.order&&o.order?i.order:"",required:!0,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement(ge.a,{name:"response",value:l.response,multiline:!0,rowsMax:26,rows:6,label:r.a.createElement(Yt.b,{id:"forms.response"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.response&&Boolean(i.response),helperText:i.response&&o.response?i.response:"",required:!0,style:{width:"100%"}}))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},r.a.createElement(Yt.b,{id:"btn.cancel"})),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},r.a.createElement(Yt.b,{id:"btn.save"}))))}}]),t}(n.Component),na=Ee.object().shape({pause:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"}))}),ra=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"pause",value:e.pause};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={pause:""};return null!==this.props.value&&(t={pause:this.props.value}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,r.a.createElement(Yt.b,{id:"editor.elements.pause"})),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:na,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=e.values,i=e.errors,o=e.touched;return r.a.createElement(De.c,{onSubmit:t,style:{minWidth:"344px"}},r.a.createElement(ge.a,{name:"pause",type:"number",value:l.pause,label:r.a.createElement(Yt.b,{id:"forms.pause"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.pause&&Boolean(i.pause),helperText:i.pause&&o.pause?i.pause:"",required:!0,style:{width:"100%"}}),r.a.createElement("br",null))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},r.a.createElement(Yt.b,{id:"btn.cancel"})),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},r.a.createElement(Yt.b,{id:"btn.save"}))))}}]),t}(n.Component),la=Ee.object().shape({contact:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"}))}),ia=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"contact",value:e.contact};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={contact:""};return null!==this.props.value&&(t={contact:this.props.value}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,r.a.createElement(Yt.b,{id:"editor.elements.contact"})),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:la,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=e.values,i=e.errors,o=e.touched;return r.a.createElement(De.c,{onSubmit:t,style:{minWidth:"344px"}},r.a.createElement(ge.a,{name:"contact",value:l.contact,label:r.a.createElement(Yt.b,{id:"forms.phone"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.contact&&Boolean(i.contact),helperText:i.contact&&o.contact?i.contact:"",required:!0,style:{width:"100%"}}),r.a.createElement("br",null))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},r.a.createElement(Yt.b,{id:"btn.cancel"})),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},r.a.createElement(Yt.b,{id:"btn.save"}))))}}]),t}(n.Component),oa=Ee.object().shape({latitude:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"})),longitude:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"})),descr:Ee.string().required(r.a.createElement(Yt.b,{id:"validation.required"})).max(55,r.a.createElement(Yt.b,{id:"validation.max55"}))}),ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){var n={type:"geo",value:{latitude:e.latitude,longitude:e.longitude,descr:e.descr}};a.props.editCard(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t={latitude:"",longitude:"",descr:""};return null!==this.props.value&&(t={latitude:this.props.value.latitude,longitude:this.props.value.longitude,descr:this.props.value.descr}),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,r.a.createElement(Yt.b,{id:"editor.elements.geo"})),r.a.createElement(je.a,null,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:oa,ref:function(t){return e.form=t}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,l=e.values,i=e.errors,o=e.touched;return r.a.createElement(De.c,{onSubmit:t,style:{minWidth:"344px"}},r.a.createElement(ge.a,{name:"latitude",value:l.latitude,label:r.a.createElement(Yt.b,{id:"forms.latitude"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.latitude&&Boolean(i.latitude),helperText:i.latitude&&o.latitude?i.latitude:"",required:!0,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement(ge.a,{name:"longitude",value:l.longitude,label:r.a.createElement(Yt.b,{id:"forms.longitude"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.longitude&&Boolean(i.longitude),helperText:i.longitude&&o.longitude?i.longitude:"",required:!0,style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement(ge.a,{name:"descr",required:!0,value:l.descr,multiline:!0,rowsMax:2,rows:2,label:r.a.createElement(Yt.b,{id:"forms.caption"}),margin:"normal",variant:"outlined",onChange:a,onBlur:n,error:o.descr&&Boolean(i.descr),helperText:i.descr&&o.descr?i.descr:"",style:{width:"100%"}}),r.a.createElement(Yt.b,{id:"forms.geoTextHint"}))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},r.a.createElement(Yt.b,{id:"btn.cancel"})),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},r.a.createElement(Yt.b,{id:"btn.save"}))))}}]),t}(n.Component),sa=a(147),da=a.n(sa),ua=Ee.object().shape({video:Ee.mixed().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),text:Ee.string().max(1024,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 1024 \u0441\u0438\u043c\u0432\u043e\u043b\u0430")}),ma=Ee.object().shape({text:Ee.string().max(1024,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 1024 \u0441\u0438\u043c\u0432\u043e\u043b\u0430")}),pa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tooLarge:!1,serverError:!1,submiting:!1,uploading:!1,video:null},a.handleClose=function(){a.props.editCard(null)},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){a.setState({submiting:!0});var n={type:"video",data:{video:a.state.video,text:e.text}};a.props.editCard(n)},a.handleImageUpload=function(e){a.setState({uploading:!0});var t=new FormData;t.append("file",e),K.post("/api/upload_file/".concat(a.props.botId,"/"),t,{crossDomain:!0,withCredentials:!0}).then(function(e){e.data.error?a.setState({serverError:e.data.error}):a.setState({uploading:!1,video:e.data.url})}).catch(function(e){console.log(e),a.setState({uploading:!1}),a.setState({serverError:"[500] \u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u043d\u0430\u0448\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&this.setState({video:this.props.data.video})}},{key:"render",value:function(){var e=this,t={text:""},a=null;return null!==this.props.data&&(t={text:this.props.data.text}),!0===this.state.submiting&&(a=r.a.createElement("div",{className:"submiting"},r.a.createElement(Te.a,null))),r.a.createElement(ye.a,{open:!0},r.a.createElement(Ne.a,null,"\u0412\u0438\u0434\u0435\u043e"),r.a.createElement(je.a,null,a,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:t,validationSchema:this.props.data?ma:ua,ref:function(t){return e.form=t}},function(t){var a=t.handleSubmit,n=t.handleChange,l=t.handleBlur,i=t.values,o=t.errors,c=t.touched,s=t.setFieldValue;return r.a.createElement(De.c,{onSubmit:a,style:{minWidth:"344px"}},r.a.createElement("input",{id:"video-upload-input",name:"video",type:"file",accept:"video/*",onChange:function(t){e.setState({serverError:!1,tooLarge:!1}),t.currentTarget.files[0]&&((t.currentTarget.files[0].size/1024/1024).toFixed(4)<=50?(s("video",t.currentTarget.files[0]),e.handleImageUpload(t.currentTarget.files[0])):(s("video",""),e.setState({tooLarge:!0})))}}),e.state.uploading?r.a.createElement(da.a,{color:"secondary"}):null,r.a.createElement("br",null),e.state.serverError?r.a.createElement("div",{className:"field-error"},e.state.serverError):null,e.state.tooLarge?r.a.createElement("div",{className:"field-error"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0432\u0438\u0434\u0435\u043e 50MB"):null,r.a.createElement(ge.a,{name:"text",value:i.text,multiline:!0,rowsMax:16,rows:6,label:"\u0422\u0435\u043a\u0441\u0442",margin:"normal",variant:"filled",onChange:n,onBlur:l,error:c.text&&Boolean(o.text),helperText:o.text&&c.text?o.text:"",style:{width:"100%"}}),r.a.createElement("br",null))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary",disabled:this.state.uploading},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(n.Component),ha=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).getEditor=function(){switch(a.props.type){case"text":return r.a.createElement(Mt,{editCard:a.props.onCreate,data:null});case"fork":return r.a.createElement(Rt,{editCard:a.props.onCreate,data:null});case"menu":return r.a.createElement(Ft,{editCard:a.props.onCreate,data:null});case"input":return r.a.createElement(Ut,{editCard:a.props.onCreate,data:null});case"rewind":return r.a.createElement(Qt,{editCard:a.props.onCreate,data:null});case"image":return r.a.createElement(Xt,{editCard:a.props.onCreate,data:null,botId:a.props.botId});case"video":return r.a.createElement(pa,{editCard:a.props.onCreate,data:null,botId:a.props.botId});case"file":return r.a.createElement(ea,{editCard:a.props.onCreate,data:null,botId:a.props.botId});case"order":return r.a.createElement(aa,{editCard:a.props.onCreate,data:null});case"pause":return r.a.createElement(ra,{editCard:a.props.onCreate,data:null});case"contact":return r.a.createElement(ia,{editCard:a.props.onCreate,data:null});case"geo":return r.a.createElement(ca,{editCard:a.props.onCreate,data:null});default:return null}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.open?this.getEditor():null}}]),t}(n.Component),ba=a(341),Ea=a.n(ba),fa=a(342),ga=a.n(fa),va=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).editorType=function(){switch(a.props.type){case"text":return r.a.createElement(Mt,{editCard:a.props.editCard,data:a.props.data});case"fork":return r.a.createElement(Rt,{editCard:a.props.editCard,data:a.props.data});case"menu":return r.a.createElement(Ft,{editCard:a.props.editCard,data:a.props.data});case"input":return r.a.createElement(Ut,{editCard:a.props.editCard,data:a.props.data});case"rewind":return r.a.createElement(Qt,{editCard:a.props.editCard,data:a.props.data});case"image":return r.a.createElement(Xt,{editCard:a.props.editCard,data:a.props.data,botId:a.props.botId});case"video":return r.a.createElement(pa,{editCard:a.props.editCard,data:a.props.data,botId:a.props.botId});case"file":return r.a.createElement(ea,{editCard:a.props.editCard,data:a.props.data,botId:a.props.botId});case"order":return r.a.createElement(aa,{editCard:a.props.editCard,data:a.props.data,botId:a.props.botId});case"pause":return r.a.createElement(ra,{editCard:a.props.editCard,data:a.props.data,botId:a.props.botId});case"contact":return r.a.createElement(ia,{editCard:a.props.editCard,data:a.props.data});case"geo":return r.a.createElement(ca,{editCard:a.props.editCard,data:a.props.data})}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.open?this.editorType():null)}}]),t}(n.Component),ya=a(38),Ca=a.n(ya),xa=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.data.text){var e=this.props.data.text;e=e.length<200?e.substring(0,200):e.substring(0,200)+"..."}return r.a.createElement(Ca.a,null,r.a.createElement("div",{className:"card-type"},r.a.createElement(dt.a,{className:"card-type_icon",style:{fontSize:16}}),"\u0422\u0435\u043a\u0441\u0442"),r.a.createElement(we.a,{component:"p",className:"card-p"},e))}}]),t}(n.Component),Oa=a(331),ja=a.n(Oa),Sa=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Pt(this.props.editor);return r.a.createElement(Ca.a,{style:{paddingBottom:0}},r.a.createElement("div",{className:"card-type"},r.a.createElement(ja.a,{className:"card-type_icon",style:{fontSize:16}}),"\u0420\u0430\u0437\u0432\u0438\u043b\u043a\u0430"),this.props.value.map(function(t,a){return r.a.createElement("div",{key:a},t.text," \ud83e\udc52 ",e.find(function(e){return e.id===t.id})?e.find(function(e){return e.id===t.id}).name:"")}))}}]),t}(n.Component),Na=Object(f.b)(function(e){return{editor:e.editor}})(Sa),ka=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.data.text){var e=this.props.data.text;e=e.length<200?e.substring(0,200):e.substring(0,200)+"..."}return r.a.createElement(Ca.a,{style:{paddingBottom:6}},r.a.createElement("div",{className:"card-type"},r.a.createElement(ht.a,{className:"card-type_icon",style:{fontSize:16}}),"\u041c\u0435\u043d\u044e"),this.props.data.text?r.a.createElement(we.a,{style:{marginBottom:"8px"},component:"p",className:"card-p"},e):null)}}]),t}(n.Component),wa=Object(f.b)(function(e){return{editor:e.editor}})(ka),Ia=a(332),Ta=a.n(Ia),Da=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.descr){var e=this.props.descr;e=e.length<200?e.substring(0,200):e.substring(0,200)+"..."}return r.a.createElement(Ca.a,{style:{paddingBottom:0}},r.a.createElement("div",{className:"card-type"},r.a.createElement(Ta.a,{className:"card-type_icon",style:{fontSize:16}}),r.a.createElement(Yt.b,{id:"editor.elements.input"})),r.a.createElement(we.a,{component:"p",className:"card-p",style:{marginTop:"8px"}},e),r.a.createElement(we.a,{component:"p",className:"card-p",style:{marginTop:"8px"}},"{".concat(this.props.value,"}")))}}]),t}(n.Component),Ba=a(333),Aa=a.n(Ba),Ma=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=Pt(this.props.editor);return r.a.createElement(Ca.a,{style:{paddingBottom:0}},r.a.createElement("div",{className:"card-type"},r.a.createElement(Aa.a,{className:"card-type_icon",style:{fontSize:16}}),r.a.createElement(Yt.b,{id:"editor.elements.rewind"})),r.a.createElement(we.a,{component:"p",className:"card-p"},t.find(function(t){return t.id===e.props.value})?t.find(function(t){return t.id===e.props.value}).name:""))}}]),t}(n.Component),Pa=Object(f.b)(function(e){return{editor:e.editor}})(Ma),La=a(148),qa=a.n(La),Ga=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.data.text){var e=this.props.data.text;e=e.length<200?e.substring(0,200):e.substring(0,200)+"..."}return[r.a.createElement(qa.a,{key:"cardMedia",image:this.props.data.image,style:{paddingTop:"56.25%",height:"0"}}),r.a.createElement(Ca.a,{key:"cardContent"},r.a.createElement("div",{className:"card-type"},r.a.createElement(yt.a,{className:"card-type_icon",style:{fontSize:16}}),"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement(we.a,{component:"p",className:"card-p"},e))]}}]),t}(n.Component),Ra=a(334),za=a.n(Ra),Va=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.data.text){var e=this.props.data.text;e=e.length<200?e.substring(0,200):e.substring(0,200)+"..."}return[r.a.createElement(qa.a,{key:"cardMedia",image:za.a,style:{paddingTop:"56.25%",height:"0"}}),r.a.createElement(Ca.a,{key:"cardContent"},r.a.createElement("div",{className:"card-type"},r.a.createElement(xt.a,{className:"card-type_icon",style:{fontSize:16}}),"\u0412\u0438\u0434\u0435\u043e"),r.a.createElement(we.a,{component:"p",className:"card-p"},e))]}}]),t}(n.Component),Wa=a(335),Fa=a.n(Wa),Ya=a(336),Ha=a.n(Ya),Ua=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.descr){var e=this.props.descr;e=e.length<200?e.substring(0,200):e.substring(0,200)+"..."}return r.a.createElement(Ca.a,{style:{paddingBottom:0},key:"cardContent"},r.a.createElement("div",{className:"card-type"},r.a.createElement(Fa.a,{className:"card-type_icon",style:{fontSize:16}}),r.a.createElement(Yt.b,{id:"editor.elements.file"})),r.a.createElement("a",{className:"file-link",href:this.props.value,target:"blank"},r.a.createElement(Ha.a,{style:{fontSize:48,marginRight:"10px"}})," ",this.props.value.match(/_(?:.(?!_))+$/g)[0].substring(1)))}}]),t}(n.Component),Ka=a(337),Za=a.n(Ka),Qa=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.props.value.response){var e=this.props.value.response;e=e.length<200?e.substring(0,200):e.substring(0,200)+"..."}return r.a.createElement(Ca.a,{style:{paddingBottom:0}},r.a.createElement("div",{className:"card-type"},r.a.createElement(Za.a,{className:"card-type_icon",style:{fontSize:16}}),r.a.createElement(Yt.b,{id:"editor.elements.order"})),r.a.createElement(we.a,{component:"p",className:"card-p"},e))}}]),t}(n.Component),_a=a(338),Ja=a.n(_a),Xa=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;return e=this.props.value<=1?r.a.createElement(Yt.b,{id:"editor.second"}):r.a.createElement(Yt.b,{id:"editor.seconds"}),r.a.createElement(Ca.a,{style:{paddingBottom:0}},r.a.createElement("div",{className:"card-type"},r.a.createElement(Ja.a,{className:"card-type_icon",style:{fontSize:16}}),r.a.createElement(Yt.b,{id:"editor.elements.pause"})),r.a.createElement("div",{className:"card-content-compact"},this.props.value," ",e))}}]),t}(n.Component),$a=a(339),en=a.n($a),tn=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Ca.a,{style:{paddingBottom:0}},r.a.createElement("div",{className:"card-type"},r.a.createElement(en.a,{className:"card-type_icon",style:{fontSize:16}}),r.a.createElement(Yt.b,{id:"editor.elements.contact"})),r.a.createElement(we.a,{component:"p",className:"card-p"},this.props.value))}}]),t}(n.Component),an=a(340),nn=a.n(an),rn=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Ca.a,{style:{paddingBottom:0}},r.a.createElement("div",{className:"card-type"},r.a.createElement(nn.a,{className:"card-type_icon",style:{fontSize:16}}),r.a.createElement(Yt.b,{id:"editor.elements.geo"})),r.a.createElement(we.a,{component:"div",className:"card-p"},r.a.createElement(we.a,{className:"card-p"},r.a.createElement(Yt.b,{id:"forms.latitude"}),": ",this.props.value.latitude),r.a.createElement(we.a,{className:"card-p"},r.a.createElement(Yt.b,{id:"forms.longitude"}),": ",this.props.value.longitude)))}}]),t}(n.Component),ln=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={editor:!1},a.deleteCard=function(){a.props.removeElement(a.props.chainIndex,a.props.pageIndex,a.props.index)},a.editCard=function(e){null!==e?(a.props.editElement(a.props.chainIndex,a.props.pageIndex,a.props.index,e),a.setState({editor:!1})):a.setState({editor:!1})},a.handleEdit=function(){a.setState({editor:!0})},a.handleDuplicate=function(){a.props.duplicateElement(a.props.chainIndex,a.props.pageIndex,a.props.index)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ea.a,{elevation:1,className:"card"},function(){switch(e.props.type){case"text":return r.a.createElement(xa,{data:e.props.data});case"fork":return r.a.createElement(Na,{data:e.props.data});case"menu":return r.a.createElement(wa,{data:e.props.data});case"input":return r.a.createElement(Da,{data:e.props.data});case"rewind":return r.a.createElement(Pa,{data:e.props.data});case"image":return r.a.createElement(Ga,{data:e.props.data,botId:e.props.botId});case"video":return r.a.createElement(Va,{data:e.props.data,botId:e.props.botId});case"file":return r.a.createElement(Ua,{data:e.props.data,botId:e.props.botId});case"order":return r.a.createElement(Qa,{data:e.props.data});case"pause":return r.a.createElement(Xa,{data:e.props.data});case"contact":return r.a.createElement(tn,{data:e.props.data});case"geo":return r.a.createElement(rn,{data:e.props.data});default:return null}}(),r.a.createElement("div",{className:"card-small-actions"},r.a.createElement($.a,{size:"small","aria-label":"Edit",className:"card-small_btn",onClick:this.handleEdit},r.a.createElement(ga.a,{fontSize:"inherit"})),r.a.createElement($.a,{size:"small","aria-label":"Delete",className:"card_delete card-small_btn",onClick:this.deleteCard},r.a.createElement(Vt.a,{fontSize:"inherit"}))),r.a.createElement(va,{open:this.state.editor,editCard:this.editCard,type:this.props.type,data:this.props.data,botId:this.props.botId}))}}]),t}(n.Component),on=Object(f.b)(null,function(e){return{removeElement:function(t,a,n){return e({type:"REMOVE_ELEMENT",index:n,chainIndex:t,pageIndex:a})},editElement:function(t,a,n,r){return e({type:"EDIT_ELEMENT",data:r,index:n,chainIndex:t,pageIndex:a})},duplicateElement:function(t,a,n){return e({type:"DUPLICATE_ELEMENT",index:n,chainIndex:t,pageIndex:a})},disableEditorDrag:function(){return e({type:"DISABLE_EDITOR_DRAG"})},enableEditorDrag:function(){return e({type:"ENABLE_EDITOR_DRAG"})}}})(ln),cn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={typeSelector:!1,cardCreator:!1,newCardType:null,titleEditing:!1,menu:null,newTtile:""},a.handleCardCreateTrigger=function(){a.setState({typeSelector:!0})},a.handleTypeSelectorClose=function(e){a.setState({typeSelector:!1}),null!==e&&a.setState({cardCreator:!0,newCardType:e})},a.handleCardCreate=function(e){null!==e?(a.props.createCard(a.props.chainIndex,a.props.pageIndex,e),a.setState({cardCreator:!1,newCardType:null})):a.setState({cardCreator:!1,newCardType:null})},a.handleTitleEditingToggle=function(){a.setState({titleEditing:!0,newTitle:a.props.name})},a.handlePageTitleChange=function(e){a.setState({newTitle:e.target.value})},a.handleTitleEditingFinish=function(){a.state.newTitle.length>0?(a.setState({titleEditing:!1}),a.props.name!==a.state.newTitle&&a.props.editPageTitle(a.props.chainIndex,a.props.pageIndex,a.state.newTitle)):a.setState({titleEditing:!1,newTitle:""})},a.toggleMenu=function(e){a.setState({menu:e})},a.handleDuplicate=function(){a.setState({menu:null}),a.props.duplicatePage(a.props.chainIndex,a.props.pageIndex)},a.handleDelete=function(){a.setState({menu:null}),a.props.removePage(a.props.chainIndex,a.props.pageIndex)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"page"},r.a.createElement("header",{className:"page-header"},this.state.titleEditing?r.a.createElement(Xe.a,{onOutsideClick:this.handleTitleEditingFinish},r.a.createElement(ge.a,{multiline:!0,value:this.state.newTitle,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",margin:"normal",variant:"outlined",required:!0,onChange:this.handlePageTitleChange,fullWidth:!0,autoFocus:!0})):r.a.createElement("div",{className:"page-title"},this.props.name),r.a.createElement($.a,{"aria-label":"Delete",className:"page-remove",onClick:function(){return e.props.removePage(e.props.chainIndex,e.props.pageIndex)}},r.a.createElement(et.a,null))),r.a.createElement(_e.c,{type:"card",droppableId:this.props.pageId+":"+this.props.chainIndex+":"+this.props.pageIndex},function(t){return r.a.createElement("div",Object.assign({className:"page-cards"},t.droppableProps,{ref:t.innerRef,style:{marginBottom:14}}),e.props.elements.map(function(t,a){return r.a.createElement(_e.b,{draggableId:"card:"+t.id+":"+e.props.chainIndex+":"+e.props.pageIndex,chainIndex:e.props.chainIndex,pageIndex:e.props.pageIndex,index:a,key:t.id,isDragDisabled:!0},function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{className:"card-container"}),r.a.createElement(on,{id:t.id,botId:e.props.botId,chainIndex:e.props.chainIndex,pageIndex:e.props.pageIndex,index:a,type:t.type,data:t.data,key:t.id}))})}),t.placeholder)}),r.a.createElement("footer",{className:"add-card"},r.a.createElement(te.a,{color:"secondary",fullWidth:!0,onClick:this.handleCardCreateTrigger},r.a.createElement(Ve.a,{style:{marginRight:8}}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement(Bt,{open:this.state.typeSelector,onClose:this.handleTypeSelectorClose}),r.a.createElement(ha,{botId:this.props.botId,open:this.state.cardCreator,type:this.state.newCardType,onCreate:this.handleCardCreate})))}}]),t}(n.Component),sn=Object(f.b)(function(e){return{editorDragDisabled:e.editorDragDisabled}},function(e){return{createCard:function(t,a,n){return e({type:"ADD_ELEMENT",chainIndex:t,pageIndex:a,data:n})},removePage:function(t,a){return e({type:"REMOVE_PAGE",chainIndex:t,pageIndex:a})},editPageTitle:function(t,a,n){return e({type:"EDIT_PAGE_TITLE",chainIndex:t,pageIndex:a,newTitle:n})},duplicatePage:function(t,a){return e({type:"DUPLICATE_PAGE",chainIndex:t,pageIndex:a})}}})(cn),dn=Ee.object().shape({pageName:Ee.string().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),un=Object(o.createMuiTheme)({palette:{primary:{light:"#6d6d6d",main:"#424242",dark:"#1b1b1b",contrastText:"#ffffff"}}}),mn=function(e){return r.a.createElement(De.d,{onSubmit:e.onSubmit,initialValues:{pageName:""},validationSchema:dn},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur;e.values,e.errors,e.touched;return r.a.createElement(De.c,{onSubmit:t},r.a.createElement(o.MuiThemeProvider,{theme:un},r.a.createElement(ge.a,{type:"text",name:"pageName",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",color:"secondary",margin:"normal",variant:"filled",autoFocus:!0,onChange:a,onBlur:n,required:!0,style:{width:"100%"}})),r.a.createElement("br",null),r.a.createElement(te.a,{onClick:t,color:"secondary"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))})},pn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={adder:!1},a.handlePageAddTrigger=function(){a.setState({adder:!0})},a.handleOutsideClick=function(){a.setState({adder:!1})},a.handlePageAddSubmit=function(e,t){a.props.addPage(a.props.chainIndex,e.pageName),a.setState({adder:!1})},a.handleCardCreate=function(e,t){a.props.addElement(a.props.index,e,t)},a.handleCardDelete=function(e,t){a.props.removeElement(a.props.index,e,t)},a.handleCardEdit=function(e,t,n){a.props.editElement(a.props.index,e,t,n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"add-page_btn"},r.a.createElement("i",{className:"material-icons"},"add")," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443");return this.state.adder&&(t=r.a.createElement(mn,{onSubmit:this.handlePageAddSubmit})),r.a.createElement("div",{className:"chain"},r.a.createElement(_e.c,{type:"page",droppableId:this.props.chainIndex+""},function(t){return r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"page-droppable"}),e.props.data.map(function(t,a){return r.a.createElement(_e.b,{draggableId:"page:"+e.props.chainIndex+":"+a+":"+t.id,index:a,key:t.id,isDragDisabled:!0},function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{className:"page-container"}),r.a.createElement(sn,Object.assign({botId:e.props.botId,handleCardCreate:e.handleCardCreate,handleCardDelete:e.handleCardDelete,handleCardEdit:e.handleCardEdit,key:t.id,pageId:t.id,chainIndex:e.props.chainIndex,pageIndex:a},t)))})}),t.placeholder)}),r.a.createElement(Xe.a,{onOutsideClick:this.handleOutsideClick},r.a.createElement("div",{className:this.state.adder?"add-page add-page--active":"add-page",onClick:this.handlePageAddTrigger},t)))}}]),t}(n.Component),hn=Object(f.b)(function(e){return{editorDragDisabled:e.editorDragDisabled}},function(e){return{addPage:function(t,a){return e({type:"ADD_PAGE",chainIndex:t,pageName:a})}}})(pn),bn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.editor||K.get("/api/bot_data/".concat(a.props.match.params.id,"/"),{crossDomain:!0,withCredentials:!0}).then(function(e){a.props.loadEditorData(e.data)}).catch(function(e){console.log(e)})},a.onDragEnd=function(e){var t=e.destination,n=e.source,r=e.draggableId;a.props.moveElement(t,n,r)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this;return e=null===this.props.editor?r.a.createElement("div",{className:"text-center flex-grow"},r.a.createElement(Te.a,null)):this.props.editor.data.map(function(e,a){return r.a.createElement(hn,{botId:t.props.match.params.id,key:a,chainIndex:a,data:e,addElement:t.addElement,removeElement:t.removeElement,editElement:t.editElement})}),r.a.createElement("div",{className:"bot"},r.a.createElement(_e.a,{onDragEnd:this.onDragEnd},e),null!==this.props.editor?r.a.createElement(te.a,{size:"large",variant:"outlined",color:"primary",onClick:this.props.addChain,className:"add-chain"},r.a.createElement(Ve.a,{style:{marginRight:4}}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043f\u043e\u0447\u043a\u0443"):null)}}]),t}(n.Component),En=Object(f.b)(function(e){return{editor:e.editor,editorChanges:e.editorChanges}},function(e){return{loadEditorData:function(t){return e({type:"LOAD_EDITOR_DATA",editor:t})},clearEditorData:function(){return e({type:"CLEAR_EDITOR_DATA"})},addChain:function(){return e({type:"ADD_CHAIN"})},moveElement:function(t,a,n){return e({type:"MOVE_ELEMENT",destination:t,source:a,draggableId:n})}}})(bn),fn=a(150),gn=a.n(fn),vn=a(152),yn=a.n(vn),Cn=a(40),xn=a.n(Cn),On=a(151),jn=a.n(On),Sn=a(153),Nn=a.n(Sn),kn=a(55),wn=a.n(kn),In=a(44),Tn=a.n(In),Dn=function(e){var t=e.botId;return r.a.createElement("div",{className:"need-sub"},r.a.createElement(we.a,{variant:"h5",align:"center",color:"secondary",gutterBottom:!0},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0440\u0430\u0437\u0434\u0435\u043b\u0443, \u043e\u0444\u043e\u0440\u043c\u0438\u0432 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"),r.a.createElement(te.a,{variant:"contained",color:"primary",className:"button-link--primary",component:T.a,to:"/bot/".concat(t,"/payment"),style:{marginTop:8}},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043f\u043e\u0434\u0438\u0441\u043a\u0443"))},Bn=a(347),An=a.n(Bn),Mn=a(348),Pn=a.n(Mn),Ln=function(e){var t=e.currentPage,a=e.pages,n=e.onPageChange,l=e.loading;return a<2||0===a?null:r.a.createElement(xn.a,{variant:"footer",style:{padding:"4px 8px"},colSpan:"4",className:"table-pagination-cell"},l?r.a.createElement(da.a,{className:"table-pagination_loading"}):null,r.a.createElement("div",{className:"table-pagination"},r.a.createElement($.a,{disabled:1===t||l,onClick:function(){return n(t-1)}},r.a.createElement(An.a,null)),r.a.createElement(we.a,{variant:"caption",display:"inline"},t," / ",a),r.a.createElement($.a,{disabled:t===a||l,onClick:function(){return n(t+1)}},r.a.createElement(Pn.a,null))))},qn=function(){return r.a.createElement("div",{className:"wrapper wrapper-oh"},r.a.createElement("div",{className:"wrapper_loading"},r.a.createElement(Te.a,null)))},Gn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:null,pages:null,tableLoading:!1,currentPage:1,needSub:!1},a.componentDidMount=function(){K.get("/api/botusers/".concat(a.props.match.params.id,"/")).then(function(e){a.setState({data:e.data.results,pages:e.data.count}),window.scrollTo({top:0,behavior:"smooth"})}).catch(function(e){403===e.response.status?a.setState({needSub:!0}):console.log(e)})},a.onPageChange=function(e){a.setState({tableLoading:!0}),K.get("/api/botusers/".concat(a.props.match.params.id,"/?page=").concat(e)).then(function(t){a.setState({data:t.data.results,pages:t.data.count,currentPage:e,tableLoading:!1})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderTableContent",value:function(){return this.state.data.length?this.state.data.map(function(e,t){return r.a.createElement(wn.a,{key:e.id},r.a.createElement(xn.a,null,e.first_name," ",e.last_name),r.a.createElement(xn.a,null,e.username),r.a.createElement(xn.a,null,e.chat_id),r.a.createElement(xn.a,{align:"right"},e.date_in))}):r.a.createElement(wn.a,null,r.a.createElement(xn.a,{align:"center",colSpan:"4"},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"))}},{key:"render",value:function(){return this.state.needSub?r.a.createElement("div",{className:"wrapper"},r.a.createElement(Dn,{botId:this.props.match.params.id})):this.state.data?r.a.createElement("div",{className:"wrapper"},r.a.createElement(Tn.a,null,r.a.createElement(gn.a,{style:{width:"100%"}},r.a.createElement(jn.a,{style:{background:"#f5f5f5"}},r.a.createElement(wn.a,null,r.a.createElement(xn.a,null,"\u0418\u043c\u044f"),r.a.createElement(xn.a,null,"\u042e\u0437\u0435\u0440\u043d\u0435\u0439\u043c"),r.a.createElement(xn.a,null,"ID \u0447\u0430\u0442\u0430"),r.a.createElement(xn.a,{align:"right"},"\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0441\u044f"))),r.a.createElement(yn.a,null,this.renderTableContent()),r.a.createElement(Nn.a,null,r.a.createElement(wn.a,null,r.a.createElement(Ln,{loading:this.state.tableLoading,currentPage:this.state.currentPage,pages:this.state.pages,onPageChange:this.onPageChange})))))):r.a.createElement(qn,null)}}]),t}(n.Component),Rn=function(e){return["image/jpeg","image/gif","image/png"].includes(e)?"photo":["video/mp4"].includes(e)?"video":"file"},zn=a(349),Vn=a.n(zn),Wn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,fileName:"",tooLarge:!1,serverError:!1,submiting:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1,fileName:"",tooLarge:!1,serverError:!1})},a.handleSubmit=function(){a.form.submitForm()},a.onSubmit=function(e,t){a.setState({submiting:!0});var n=new FormData;if(e.file){var r=Rn(e.file.type);n.append(r,e.file,e.file.name)}n.append("text",e.text),K.post("/api/compaign_list/".concat(a.props.botId,"/"),n).then(function(e){if(e.data.error)return a.setState({serverError:e.data.error,submiting:!1}),void t.setSubmitting(!1);t.setSubmitting(!1),t.resetForm({}),a.props.submit(e.data),a.setState({open:!1,submiting:!1,fileName:"",tooLarge:!1,serverError:!1})}).catch(function(e){console.log(e),t.setSubmitting(!1),a.setState({submiting:!1,fileName:"",tooLarge:!1,serverError:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u043d\u0430\u0448\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435"})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null;return!0===this.state.submiting&&(t=r.a.createElement("div",{className:"submiting"},r.a.createElement(Te.a,null))),r.a.createElement("div",{style:{marginBottom:"24px"}},r.a.createElement(te.a,{onClick:this.handleClickOpen,variant:"contained",color:"primary"},r.a.createElement(Ve.a,{style:{marginRight:8}}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443"),r.a.createElement(ye.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438"),r.a.createElement(je.a,null,t,r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:{file:"",text:""},ref:function(t){return e.form=t}},function(t){var a=t.handleSubmit,n=t.handleChange,l=t.handleBlur,i=t.values,o=t.errors,c=t.touched,s=t.setFieldValue;return r.a.createElement(De.c,{onSubmit:a},r.a.createElement("label",{htmlFor:"mailing-file",className:"mailing-form_label"},r.a.createElement(te.a,{variant:"contained",component:"span"},r.a.createElement(Vn.a,{style:{marginRight:8}}),"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 / \u0412\u0438\u0434\u0435\u043e")),r.a.createElement("br",null),r.a.createElement("input",{type:"hidden",name:"fileType"}),e.state.fileName?e.state.fileName:null,r.a.createElement("input",{name:"file",type:"file",id:"mailing-file",onChange:function(t){var a=t.currentTarget.files[0].name,n=(t.currentTarget.files[0].size/1024/1024).toFixed(4),r=Rn(t.currentTarget.files[0].type);e.setState({serverError:!1,tooLarge:!1,fileName:a}),"photo"===r&&n<=10?s("file",t.currentTarget.files[0]):"video"===r&&n<=50?s("file",t.currentTarget.files[0]):(s("file",""),e.setState({tooLarge:!0}))}}),e.state.tooLarge?r.a.createElement("div",{className:"field-error"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440: \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 10MB, \u0432\u0438\u0434\u0435\u043e 50MB"):null,e.state.serverError?r.a.createElement("div",{className:"field-error"},e.state.serverError):null,r.a.createElement("br",null),r.a.createElement(ge.a,{name:"text",value:i.text,multiline:!0,rowsMax:26,rows:6,label:"\u0422\u0435\u043a\u0441\u0442",margin:"normal",variant:"filled",onChange:n,onBlur:l,error:c.text&&Boolean(o.text),helperText:o.text&&c.text?o.text:"",style:{width:"355px"}}))})),r.a.createElement(xe.a,null,r.a.createElement(te.a,{onClick:this.handleClose,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(te.a,{onClick:this.handleSubmit,color:"primary"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))))}}]),t}(r.a.Component),Fn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={needSub:!1,data:null,pages:null,tableLoading:!1,currentPage:1},a.componentDidMount=function(){K.get("/api/compaign_list/".concat(a.props.match.params.id,"/")).then(function(e){a.setState({data:e.data.results,pages:e.data.count}),window.scrollTo({top:0,behavior:"smooth"})}).catch(function(e){403===e.response.status?a.setState({needSub:!0}):console.log(e)})},a.handleSubmit=function(e){var t=Object(qe.a)(a.state.data);t.unshift(e),a.setState({data:t})},a.onPageChange=function(e){a.setState({tableLoading:!0}),K.get("/api/compaign_list/".concat(a.props.match.params.id,"/?page=").concat(e)).then(function(t){a.setState({data:t.data.results,pages:t.data.count,currentPage:e,tableLoading:!1})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderTableContent",value:function(){return this.state.data.length?this.state.data.map(function(e,t){return r.a.createElement(wn.a,{key:e.id},r.a.createElement(xn.a,null,e.date_in),r.a.createElement(xn.a,null,e.text),r.a.createElement(xn.a,null,e.photo||e.video?r.a.createElement("a",{href:e.photo||e.video,target:"blank"},"\u0412\u043b\u043e\u0436\u0435\u043d\u0438\u0435"):null),r.a.createElement(xn.a,{align:"right"},e.status))}):r.a.createElement(wn.a,null,r.a.createElement(xn.a,{align:"center",colSpan:"4"},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"))}},{key:"render",value:function(){return this.state.needSub?r.a.createElement("div",{className:"wrapper"},r.a.createElement(Dn,{botId:this.props.match.params.id})):this.state.data?r.a.createElement("div",{className:"wrapper",style:{display:"block"}},r.a.createElement(Wn,{botId:this.props.match.params.id,submit:this.handleSubmit}),null!==this.state.data?r.a.createElement(Tn.a,null,r.a.createElement(gn.a,{style:{width:"100%"}},r.a.createElement(jn.a,{style:{background:"#f5f5f5"}},r.a.createElement(wn.a,null,r.a.createElement(xn.a,null,"\u0414\u0430\u0442\u0430"),r.a.createElement(xn.a,null,"\u0422\u0435\u043a\u0441\u0442"),r.a.createElement(xn.a,null,"\u0424\u0430\u0439\u043b"),r.a.createElement(xn.a,{align:"right"},"\u0421\u0442\u0430\u0442\u0443\u0441"))),r.a.createElement(yn.a,null,this.renderTableContent()),r.a.createElement(Nn.a,null,r.a.createElement(wn.a,null,r.a.createElement(Ln,{loading:this.state.tableLoading,currentPage:this.state.currentPage,pages:this.state.pages,onPageChange:this.onPageChange}))))):r.a.createElement(Te.a,{style:{marginTop:"24px"}})):r.a.createElement(qn,null)}}]),t}(n.Component),Yn=a(350),Hn=a.n(Yn),Un=function(e){var t=e.color,a=e.title,n=e.count;return r.a.createElement(Tn.a,{className:"client-count"},r.a.createElement("div",{className:"client-count_icon",style:{background:t||"#61b5ff"}},r.a.createElement(Hn.a,{style:{fontSize:48}})),r.a.createElement("div",{className:"client-count-content"},r.a.createElement(we.a,{variant:"h6"},a),r.a.createElement(we.a,{variant:"h4"},n||0)))},Kn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={needSub:!1,data:null},a.componentDidMount=function(){K.get("/api/analytics_data/".concat(a.props.match.params.id,"/")).then(function(e){a.setState({data:e.data})}).catch(function(e){403===e.response.status&&a.setState({needSub:!0})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.needSub?r.a.createElement("div",{className:"wrapper"},r.a.createElement(Dn,{botId:this.props.match.params.id})):this.state.data?r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(Un,{color:"#61b5ff",title:"\u0412\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",count:this.state.data.all_users_count})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(Un,{color:"#80CBC4",title:"\u041d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",count:this.state.data.today_users_count})),r.a.createElement("div",{className:"col-xl-4"},r.a.createElement(Un,{color:"#EF9A9A",title:"\u041e\u0442\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c",count:this.state.data.unsubscribe_users_count})))):r.a.createElement("div",{className:"wrapper wrapper-oh"},r.a.createElement("div",{className:"wrapper_loading"},r.a.createElement(Te.a,null)))}}]),t}(r.a.Component),Zn=Object(f.b)(function(e){return{}},function(e){return{}})(Kn),Qn=a(198),_n=a.n(Qn),Jn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={payData:null},a.onPayClick=function(){a.processPayment()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.get("/api/tariff/".concat(this.props.match.params.id,"/")).then(function(t){e.setState({payData:t.data})}).catch(function(e){console.log(e.response)})}},{key:"processPayment",value:function(){var e=this.state.payData,t=new window.cp.CloudPayments,a={bot_id:e.bot_id,cloudPayments:{recurrent:{interval:"Month",period:1}}};t.charge({publicId:e.publicId,description:this.state.payData.description,amount:e.amount,currency:"RUB",invoiceId:e.invoiceId,accountId:e.accountId,data:a},function(e){},function(e,t){})}},{key:"renderExpires",value:function(){return this.state.payData.podpiska_do?r.a.createElement(we.a,{variant:"caption",gutterBottom:!0},"\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438: ",this.state.payData.podpiska_do):null}},{key:"render",value:function(){return this.state.payData?r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-xl-3 col-md-6"},r.a.createElement(Tn.a,{elevation:3,className:"tariff"},r.a.createElement("div",{className:"tariff-header"},r.a.createElement(we.a,{variant:"h6",align:"center"},"Free")),r.a.createElement("div",{className:"tariff-content"},r.a.createElement("ul",null,r.a.createElement("li",null,"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0431\u043e\u0442\u043e\u0432"))),r.a.createElement(_n.a,null),r.a.createElement("div",{className:"tariff-action"},r.a.createElement(te.a,{disabled:!0,variant:"contained",size:"large"},"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e")))),r.a.createElement("div",{className:"col-xl-3 col-md-6"},r.a.createElement(Tn.a,{elevation:3,className:"tariff"},r.a.createElement("div",{className:"tariff-header tariff-header--pro"},r.a.createElement(we.a,{variant:"h6",align:"center"},"Business")),r.a.createElement("div",{className:"tariff-content"},r.a.createElement("ul",null,r.a.createElement("li",null,"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0431\u043e\u0442\u043e\u0432"),r.a.createElement("li",null,"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"),r.a.createElement("li",null,"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"),r.a.createElement("li",null,"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"))),r.a.createElement(_n.a,null),r.a.createElement("div",{className:"tariff-action"},this.renderExpires(),r.a.createElement(te.a,{color:"primary",variant:"contained",size:"large",style:{boxShadow:"none"},disabled:!!this.state.payData.podpiska_do,onClick:this.onPayClick},this.state.payData.podpiska_do?"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0442\u0430\u0440\u0438\u0444":"".concat(this.state.payData.amount," RUB / \u041c\u0435\u0441\u044f\u0446"))))))):r.a.createElement(qn,null)}}]),t}(r.a.Component),Xn=a(154),$n=a.n(Xn),er=a(88),tr=a.n(er),ar=Ee.object().shape({email:Ee.string().email("\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 Email").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),password:Ee.string().min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(64,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 64 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),nr=function(e){var t=e.onSubmit,a=e.error;return r.a.createElement(De.d,{onSubmit:t,initialValues:{email:"",password:""},validationSchema:ar},function(e){var t=e.handleSubmit,n=e.handleChange,l=e.handleBlur,i=e.values,o=e.errors,c=e.touched;return r.a.createElement(De.c,{onSubmit:t,name:"login",className:"auth-form"},a?r.a.createElement(we.a,{variant:"caption",color:"error"},a):null,r.a.createElement(ge.a,{name:"email",value:i.email,label:"Email",margin:"normal",variant:"outlined",onChange:n,onBlur:l,error:c.email&&Boolean(o.email),helperText:o.email&&c.email?o.email:"",required:!0,style:{minWidth:350}}),r.a.createElement("br",null),r.a.createElement(ge.a,{name:"password",value:i.password,type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",margin:"normal",variant:"outlined",onChange:n,onBlur:l,error:c.password&&Boolean(o.password),helperText:o.password&&c.password?o.password:"",required:!0,style:{minWidth:350}}),r.a.createElement("br",null),r.a.createElement(T.a,{to:"/reset"},r.a.createElement(we.a,{variant:"caption"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")),r.a.createElement(te.a,{type:"submit",color:"primary",variant:"outlined",size:"large",style:{marginTop:16}},"\u0412\u043e\u0439\u0442\u0438"))})},rr=Ee.object().shape({email:Ee.string().email("\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 Email").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),password:Ee.string().min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(64,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 64 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),password2:Ee.string().min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(64,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 64 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").oneOf([Ee.ref("password")],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),lr=function(e){var t=e.onSubmit,a=e.error;return r.a.createElement(De.d,{onSubmit:t,initialValues:{email:"",password:"",password2:""},validationSchema:rr},function(e){var t=e.handleSubmit,n=e.handleChange,l=e.handleBlur,i=e.values,o=e.errors,c=e.touched;return r.a.createElement(De.c,{onSubmit:t,name:"login",className:"auth-form"},a?r.a.createElement(we.a,{variant:"caption",color:"error"},a):null,r.a.createElement(ge.a,{name:"email",value:i.email,label:"Email",margin:"normal",variant:"outlined",onChange:n,onBlur:l,error:c.email&&Boolean(o.email),helperText:o.email&&c.email?o.email:"",required:!0,style:{minWidth:350}}),r.a.createElement("br",null),r.a.createElement(ge.a,{name:"password",value:i.password,type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",margin:"normal",variant:"outlined",onChange:n,onBlur:l,error:c.password&&Boolean(o.password),helperText:o.password&&c.password?o.password:"",required:!0,style:{minWidth:350}}),r.a.createElement("br",null),r.a.createElement(ge.a,{name:"password2",value:i.password2,type:"password",label:"\u041f\u043e\u0432\u0442\u043e\u0440 \u043f\u0430\u0440\u043e\u043b\u044f",margin:"normal",variant:"outlined",onChange:n,onBlur:l,error:c.password2&&Boolean(o.password2),helperText:o.password2&&c.password2?o.password2:"",required:!0,style:{minWidth:350}}),r.a.createElement("br",null),r.a.createElement(te.a,{type:"submit",color:"primary",variant:"outlined",size:"large",style:{marginTop:16}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))})},ir=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tab:0,authError:!1,signUpError:!1},a.onLoginSubmit=function(e){a.setState({authError:!1}),B.a.post("/api/token/",e).then(function(e){var t=e.data;a.props.signIn(t)}).catch(function(e){a.setState({authError:e.response.data.detail})})},a.onSignupSubmit=function(e){a.setState({signUpError:!1}),B.a.post("/api/register/",e).then(function(e){var t=e.data;a.props.signIn(t)}).catch(function(e){a.setState({signUpError:e.response.data.detail})})},a.onTabChange=function(e,t){a.setState({tab:t,authError:!1,signUpError:!1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=0===this.state.tab?r.a.createElement(nr,{onSubmit:this.onLoginSubmit,error:this.state.authError}):r.a.createElement(lr,{onSubmit:this.onSignupSubmit,error:this.state.authError});return r.a.createElement("div",{className:"auth-wrapper container"},r.a.createElement("div",{className:"auth"},r.a.createElement($n.a,{value:this.state.tab,indicatorColor:"primary",textColor:"primary",onChange:this.onTabChange,style:{marginBottom:16}},r.a.createElement(tr.a,{label:"\u0412\u0445\u043e\u0434"}),r.a.createElement(tr.a,{label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})),e))}}]),t}(r.a.Component),or=Object(f.b)(null,function(e){return{signIn:function(t){return e({type:"SIGN_IN",payload:t})}}})(ir),cr=a(155),sr=a.n(cr),dr=a(351),ur=a.n(dr),mr=Ee.object().shape({pass:Ee.string().min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(64,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 64 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!"),repeatPass:Ee.string().min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(64,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 64 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").oneOf([Ee.ref("pass")],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!")}),pr=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,finished:!1,error:null,fieldError:null},a.onSubmit=function(e){var t=a.props.match.params;a.setState({loading:!0}),B.a.post("/api/ch_pass/".concat(t.userId,"/").concat(t.queryId,"/"),{password:e.pass,password2:e.repeatPass}).then(function(e){a.setState({loading:!1,finished:!0,fieldError:null})}).catch(function(e){a.setState({loading:!1,error:e.response.data.error})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;B.a.get("/api/ch_pass/".concat(t.userId,"/").concat(t.queryId,"/")).then(function(t){e.setState({loading:!1})}).catch(function(t){e.setState({loading:!1,error:t.response.data.error})})}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"auth-wrapper container"},r.a.createElement("header",{className:"auth-header"},r.a.createElement(T.a,{to:"/",className:"auth_logo"},r.a.createElement(we.a,{align:"center",color:"primary",variant:"h5",gutterBottom:!0},"INBOT24"))),this.state.finished||this.state.loading||this.state.error?null:r.a.createElement("div",{className:"auth-form"},r.a.createElement(we.a,{align:"center",variant:"h5",gutterBottom:!0},"\u0421\u043c\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"),r.a.createElement(De.d,{onSubmit:function(t){return e.onSubmit(t)},initialValues:{pass:"",repeatPass:""},validationSchema:mr,ref:function(t){return e.form=t}},function(t){var a=t.handleSubmit,n=t.handleChange,l=t.handleBlur,i=t.values,o=t.errors,c=t.touched;return r.a.createElement(De.c,{onSubmit:a},r.a.createElement(ge.a,{type:"password",name:"pass",label:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",margin:"normal",variant:"outlined",value:i.pass,onChange:n,onBlur:l,error:c.pass&&Boolean(o.pass),helperText:o.pass&&c.pass?o.pass:"",required:!0,style:{minWidth:"300px"}}),r.a.createElement("br",null),r.a.createElement(ge.a,{type:"password",name:"repeatPass",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",margin:"normal",variant:"outlined",value:i.repeatPass,onChange:n,onBlur:l,error:c.repeatPass&&Boolean(o.repeatPass),helperText:o.repeatPass&&c.repeatPass?o.repeatPass:"",required:!0,style:{minWidth:"300px"}}),r.a.createElement("br",null),!e.state.loading&&e.state.fieldError?r.a.createElement("div",null,r.a.createElement(we.a,{className:"auth_error",variant:"body2",color:"error",gutterBottom:!0,style:{marginLeft:12}},e.state.fieldError)):null,r.a.createElement("div",{className:"text-center"},r.a.createElement(te.a,{type:"submit",variant:"contained",color:"primary",size:"large",style:{marginTop:14}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))})),this.state.finished?r.a.createElement("div",null,r.a.createElement(oe.a,{in:!0,timeout:300},r.a.createElement("div",{className:"text-center"},r.a.createElement(sr.a,{color:"primary",style:{fontSize:64}}))),r.a.createElement(we.a,{align:"center",variant:"h5",gutterBottom:!0},"\u041f\u0430\u0440\u043e\u043b\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d!"),r.a.createElement("div",{className:"text-center"},r.a.createElement(te.a,{to:"/auth",color:"primary",variant:"outlined",component:T.a},"\u0412\u043e\u0439\u0442\u0438"))):null,this.state.loading?r.a.createElement(Te.a,null):null,!this.state.loading&&this.state.error?r.a.createElement("div",null,r.a.createElement(oe.a,{in:!0,timeout:300},r.a.createElement("div",{className:"text-center"},r.a.createElement(ur.a,{color:"error",style:{fontSize:64}}))),r.a.createElement(we.a,{align:"center",variant:"body1",color:"error",gutterBottom:!0},this.state.error)):null)}}]),t}(r.a.Component),hr=Object(f.b)(null,function(e){return{auth:function(t){return e({type:"SIGN_IN",userData:t})}}})(pr),br=Ee.object().shape({email:Ee.string().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e!")}),Er=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,success:!1,error:null},a.onSubmit=function(e){a.setState({loading:!0}),B.a.post("/api/forgot_password/",{email:e.email}).then(function(e){e.data;a.setState({loading:!1,success:!0,error:null})}).catch(function(e){a.setState({loading:!1,error:e.response.data.error})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"auth-wrapper container"},r.a.createElement("header",{className:"auth-header"},r.a.createElement(T.a,{to:"/",className:"auth_logo"},r.a.createElement(we.a,{align:"center",color:"primary",variant:"h5",gutterBottom:!0},"INBOT24"))),this.state.loading||this.state.success?null:r.a.createElement("div",{className:"auth-form"},r.a.createElement(we.a,{align:"center",variant:"h5",gutterBottom:!0},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),r.a.createElement(De.d,{onSubmit:this.onSubmit,initialValues:{email:""},validationSchema:br,ref:function(t){return e.form=t}},function(t){var a=t.handleSubmit,n=t.handleChange,l=t.handleBlur,i=t.values,o=t.errors,c=t.touched;return r.a.createElement(De.c,{onSubmit:a},r.a.createElement(ge.a,{type:"email",name:"email",label:"Email",margin:"normal",variant:"outlined",value:i.email,onChange:n,onBlur:l,error:c.email&&Boolean(o.email),helperText:o.email&&c.email?o.email:"",required:!0,style:{minWidth:"300px"}}),!e.state.loading&&e.state.error?r.a.createElement("div",null,r.a.createElement(we.a,{className:"auth_error",variant:"body2",color:"error",gutterBottom:!0,style:{marginLeft:12}},e.state.error)):null,r.a.createElement("div",{className:"text-center"},r.a.createElement(te.a,{type:"submit",variant:"contained",color:"primary",size:"large",style:{marginTop:14}},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c")))})),this.state.success?r.a.createElement("div",null,r.a.createElement(oe.a,{in:!0,timeout:300},r.a.createElement("div",{className:"text-center"},r.a.createElement(sr.a,{color:"primary",style:{fontSize:64}}))),r.a.createElement(we.a,{align:"center",variant:"h5",gutterBottom:!0},"\u041f\u0438\u0441\u044c\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!"),r.a.createElement(we.a,{align:"center",variant:"body1",gutterBottom:!0},"\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0432 \u043f\u0438\u0441\u044c\u043c\u0435 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443")):null,this.state.loading?r.a.createElement(Te.a,null):null)}}]),t}(r.a.Component),fr=Object(f.b)(null,function(e){return{auth:function(t){return e({type:"SIGN_IN",userData:t})}}})(Er),gr=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderAuthenticatedRoutes",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/",component:Qe}),r.a.createElement(h.a,null,r.a.createElement(p.a,{path:"/bot/:id",component:Le})),r.a.createElement("div",{className:"bot-wrapper"},r.a.createElement(p.a,{exact:!0,path:"/bot/:id/:page",component:I}),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/bot/:id/editor",component:En}),r.a.createElement(p.a,{exact:!0,path:"/bot/:id/analytics",component:Zn}),r.a.createElement(p.a,{exact:!0,path:"/bot/:id/clients",component:Gn}),r.a.createElement(p.a,{exact:!0,path:"/bot/:id/mailing",component:Fn}),r.a.createElement(p.a,{exact:!0,path:"/bot/:id/payment",component:Jn}),r.a.createElement(p.a,{path:"",render:function(e){return r.a.createElement(b.a,{to:"/"})}})))))}},{key:"renderDefaultRoutes",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(or,e)}}),r.a.createElement(p.a,{exact:!0,path:"/reset",render:function(e){return r.a.createElement(fr,e)}}),r.a.createElement(p.a,{path:"/change_password/:userId/:queryId",render:function(e){return r.a.createElement(hr,e)}}),r.a.createElement(p.a,{path:"",render:function(e){return r.a.createElement(b.a,{to:"/"})}})))}},{key:"render",value:function(){return r.a.createElement(E.a,null,this.props.isSignedIn?this.renderAuthenticatedRoutes():this.renderDefaultRoutes())}}]),t}(n.Component),vr=Object(f.b)(function(e){return{isSignedIn:e.auth.isSignedIn}})(gr);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yr=a(356),Cr=a(352),xr=Object(o.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#61b5ff",main:"#0d86d7",dark:"#005aa5",contrastText:"#ffffff"},secondary:{light:"#6d6d6d",main:"#424242",dark:"#1b1b1b",contrastText:"#ffffff"}}});i.a.render(r.a.createElement(f.a,{store:H},r.a.createElement(yr.a,{utils:Cr.a},r.a.createElement(o.MuiThemeProvider,{theme:xr},r.a.createElement(Yt.a,null,r.a.createElement(vr,null))))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[357,2,1]]]);
//# sourceMappingURL=main.f6c3a1c8.chunk.js.map
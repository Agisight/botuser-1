{"version":3,"sources":["assets/logo.png","assets/img/VideoPlaceholder.svg","components/Sidebar.jsx","store/reducer.js","helpers/localStorage.js","store/store.js","store/actions.js","api/axios.js","components/BotConnection.jsx","components/EditorHeader.jsx","components/CreateBot.jsx","components/BotCard.jsx","pages/Bots.jsx","components/card/CardTypeSelector.jsx","components/cardEditor/TextEditor.jsx","helpers/getPages.js","components/cardEditor/ForkEditor.jsx","components/cardEditor/MenuEditor.jsx","components/cardEditor/InputEditor.jsx","components/cardEditor/RewindEditor.jsx","components/cardEditor/ImageEditor.jsx","components/cardEditor/FileEditor.jsx","components/cardEditor/OrderEditor.jsx","components/cardEditor/PauseEditor.jsx","components/cardEditor/ContactEditor.jsx","components/cardEditor/GeoEditor.jsx","components/cardEditor/VideoEditor.jsx","components/card/CardCreator.jsx","components/card/CardEditor.jsx","components/card/cardContent/TextCard.jsx","components/card/cardContent/ForkCard.jsx","components/card/cardContent/MenuCard.jsx","components/card/cardContent/InputCard.jsx","components/card/cardContent/RewindCard.jsx","components/card/cardContent/ImageCard.jsx","components/card/cardContent/VideoCard.jsx","components/card/cardContent/FileCard.jsx","components/card/cardContent/OrderCard.jsx","components/card/cardContent/PauseCard.jsx","components/card/cardContent/ContactCard.jsx","components/card/cardContent/GeoCard.jsx","components/card/Element.jsx","components/Page.jsx","components/CreatePage.jsx","components/Chain.jsx","pages/Editor.jsx","components/NeedSub.jsx","components/TablePagination.jsx","components/PageLoader.jsx","pages/Clients.jsx","helpers/getFileType.js","components/CreateCampaign.jsx","pages/Mailing.jsx","components/ClientsCount.jsx","pages/Analytics.jsx","pages/Payment.jsx","components/auth/LoginForm.jsx","components/auth/SignupForm.jsx","pages/Auth.jsx","pages/ChangePassword.jsx","pages/ResetPassword.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Sidebar","_ref","match","react_default","a","createElement","className","NavLink","to","concat","params","id","activeClassName","ExtensionOutlined_default","TrendingUpOutlined_default","FaceOutlined_default","SendOutlined_default","MonetizationOnOutlined_default","localState","serializedState","localStorage","getItem","JSON","parse","err","loadState","isSignedIn","refreshExpires","Date","getTime","initialState","editor","editorChanges","auth","token","refresh","expires","store","createStore","state","arguments","length","undefined","action","type","Object","objectSpread","payload","access","userData","editorDragDisabled","analytics","numbers","charts","fromDate","now","toDate","period","settings","is_active","faq","data","editorData","cloneDeep","chainIndex","push","name","pageName","uuid","elements","pageIndex","newTitle","copy","map","element","splice","index","dest","destination","source","droppableId","draggableId","split","sourceChainIndex","sourcePageIndex","destChainIndex","page","destPageIndex","status","composeWithDevTools","subscribe","throttle","stringify","setItem","console","log","saveState","getState","partner","axios","ax","headers","Authorization","interceptors","request","use","config","window","originalRequest","tokenIsExpired","dispatch","Promise","resolve","reject","then","res","catch","tokens","validationSchema","Yup","shape","required","BotConnection","open","submiting","error","onConnectClick","_this","setState","onClose","handleSubmit","form","submitForm","onSubmit","values","post","props","botId","connectBot","this","CircularProgress_default","_this2","Fragment","Button_default","style","marginLeft","color","onClick","Dialog_default","DialogTitle_default","DialogContent_default","renderSubmitingLoader","Typography_default","variant","display","gutterBottom","formik_esm","initialValues","ref","node","handleChange","handleBlur","errors","touched","minWidth","TextField_default","value","label","margin","onChange","onBlur","Boolean","helperText","width","DialogActions_default","React","Component","connect","EditorHeader","onSave","put","crossDomain","withCredentials","saveEditorData","onActiveToggle","toggleActive","Slide_default","in","SaveOutlined_default","marginRight","Zoom_default","boxShadow","IconButton_default","disabled","PauseOutlined_default","PlayArrowOutlined_default","renderSaveElements","components_BotConnection","renderActivityButton","AppBar_default","position","elevation","Toolbar_default","padding","component","Link","ArrowBack_default","flexGrow","src","Logo","alt","Route","exact","path","render","renderControls","botName","CreateBot","handleClickOpen","handleClose","actions","addBot","setSubmitting","AddOutlined_default","aria-labelledby","BotCard","key","active","Adb_default","fontSize","textOverflow","Bots","loader","dialog","bots","componentDidMount","clearEditorData","get","handleBotAdd","bot","toConsumableArray","editBot","botIndex","findIndex","marginTop","el","components_BotCard","logout","ExitToAppOutlined_default","renderBotList","CreateBot_CreateBot","cardTypes","title","CardTypeSelector","List_default","ListItem_default","button","ListItemIcon_default","MessageOutlined_default","DeviceHubOutlined_default","MenuOutlined_default","InputOutlined_default","FastForwardOutlined_default","ImageOutlined_default","MovieOutlined_default","AttachFileOutlined_default","ShoppingCartOutlined_default","AccountBoxOutlined_default","LocationOnOutlined_default","listIcon","ListItemText_default","inset","primary","text","TextEditor","editCard","multiline","rowsMax","rows","getPages","format","forEach","chain","ForkEditor","forks","pages","arrayHelpers","fork","_ref2","field","assign","_ref3","select","SelectProps","native","InputLabelProps","shrink","option","remove","aria-label","Delete_default","MenuEditor","fallback","descr","marginBottom","flex","maxWidth","DeleteOutlined_default","variable","react_localize_redux_es","variableType","desc","InputEditor","RewindEditor","image","max","validationSchemaEditing","ImageEditor","tooLarge","serverError","uploading","handleImageUpload","imageData","FormData","append","url","setFieldValue","accept","event","currentTarget","files","size","toFixed","backgroundImage","htmlFor","file","order","response","OrderEditor","pause","PauseEditor","contact","ContactEditor","latitude","longitude","video","VideoEditor","videoData","LinearProgress_default","cardEditor","getEditor","TextEditor_TextEditor","onCreate","cardEditor_ForkEditor","cardEditor_MenuEditor","InputEditor_InputEditor","cardEditor_RewindEditor","ImageEditor_ImageEditor","VideoEditor_VideoEditor","FileEditor_ImageEditor","OrderEditor_OrderEditor","PauseEditor_PauseEditor","ContactEditor_ContactEditor","GeoEditor_ContactEditor","CardEditor","editorType","Element","substring","CardContent_default","paddingBottom","DeviceHub_default","find","Input_default","FastForward_default","CardMedia_default","paddingTop","height","VideoPlaceholder","AttachFile_default","href","target","Folder_default","ShoppingCart_default","secondsLabel","Pause_default","AccountBox_default","LocationOn_default","deleteCard","removeElement","editElement","handleEdit","handleDuplicate","duplicateElement","Card_default","TextCard","ForkCard","MenuCard","InputCard","RewindCard","ImageCard","VideoCard","FileCard","OrderCard","PauseCard","ContactCard","GeoCard","cardContent","EditOutlined_default","CardEditor_CardEditor","disableEditorDrag","enableEditorDrag","Page","typeSelector","cardCreator","newCardType","titleEditing","menu","newTtile","handleCardCreateTrigger","handleTypeSelectorClose","handleCardCreate","createCard","handleTitleEditingToggle","handlePageTitleChange","handleTitleEditingFinish","editPageTitle","toggleMenu","duplicatePage","handleDelete","removePage","react_outside_click_handler_default","onOutsideClick","fullWidth","autoFocus","DeleteForeverOutlined_default","react_beautiful_dnd_esm","pageId","provided","droppableProps","innerRef","isDragDisabled","draggableProps","dragHandleProps","card_Element","placeholder","CardCreator_cardEditor","theme","createMuiTheme","palette","light","main","dark","contrastText","CreatePage","styles","Chain","adder","handlePageAddTrigger","handleOutsideClick","handlePageAddSubmit","addPage","addElement","handleCardDelete","handleCardEdit","pIndex","eIndex","components_Page","Editor","loadEditorData","onDragEnd","result","moveElement","chains","components_Chain","addChain","NeedSub","align","TablePagination","currentPage","onPageChange","loading","TableCell_default","colSpan","NavigateBefore_default","NavigateNext_default","PageLoader","Users","tableLoading","needSub","results","count","scrollTo","top","behavior","newPage","client","TableRow_default","first_name","last_name","username","chat_id","date_in","components_NeedSub","Paper_default","Table_default","TableHead_default","background","TableBody_default","renderTableContent","TableFooter_default","getFileType","fileType","includes","CreateCampaign","fileName","resetForm","submit","Attachment_default","fileSize","Mailing","unshift","row","photo","components_CreateCampaign","ClientsCount","PeopleOutlined_default","Analytics","all_users_count","today_users_count","unsubscribe_users_count","Payment","payData","onPayClick","processPayment","widget","cp","CloudPayments","bot_id","recurrent","interval","charge","publicId","description","amount","currency","invoiceId","accountId","options","reason","podpiska_do","Divider_default","renderExpires","email","password","min","LoginForm","password2","oneOf","SignUpForm","Auth","tab","authError","signUpError","onLoginSubmit","signIn","detail","onSignupSubmit","onTabChange","newValue","auth_LoginForm","SignupForm","Tabs_default","indicatorColor","textColor","Tab_default","pass","repeatPass","ChangePassword","finished","fieldError","userId","queryId","_this3","timeout","DoneOutlineRounded_default","Report_default","ResetPassword","success","App","Switch","Clients","Redirect","pages_Auth","pages_ResetPassword","pages_ChangePassword","BrowserRouter","renderAuthenticatedRoutes","renderDefaultRoutes","location","hostname","typography","useNextVariants","secondary","ReactDOM","es","material_ui_pickers_esm","utils","MomentUtils","src_App","document","querySelector","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f6c3a1c8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/VideoPlaceholder.1dba7393.svg\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport EditorIcon from '@material-ui/icons/ExtensionOutlined';\r\nimport MailingIcon from '@material-ui/icons/SendOutlined';\r\nimport AnalyticsIcon from '@material-ui/icons/TrendingUpOutlined';\r\n// import OrdersIcon from '@material-ui/icons/AssignmentOutlined';\r\nimport ClinetsIcon from '@material-ui/icons/FaceOutlined';\r\nimport PaymentIcon from '@material-ui/icons/MonetizationOnOutlined';\r\n\r\nconst Sidebar = ({ match }) => {\r\n    return (\r\n        <aside className=\"aside\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n              <NavLink to={`/bot/${match.params.id}/editor`} activeClassName=\"active\">\r\n                <EditorIcon className=\"aside_icon\"/>\r\n                Чат-бот\r\n              </NavLink>\r\n            </li>\r\n\t\t\t\t\t\t<li>\r\n              <NavLink to={`/bot/${match.params.id}/analytics`} activeClassName=\"active\">\r\n                <AnalyticsIcon className=\"aside_icon\"/>\r\n                Аналитика\r\n              </NavLink>\r\n            </li>\r\n\t\t\t\t\t\t<li>\r\n              <NavLink to={`/bot/${match.params.id}/clients`} activeClassName=\"active\">\r\n                <ClinetsIcon className=\"aside_icon\"/>\r\n                Клиенты\r\n              </NavLink>\r\n            </li>\r\n\t\t\t\t\t\t<li>\r\n              <NavLink to={`/bot/${match.params.id}/mailing`} activeClassName=\"active\">\r\n                <MailingIcon className=\"aside_icon\"/>\r\n                Рассылки\r\n              </NavLink>\r\n            </li>\r\n\t\t\t\t\t\t<li>\r\n              <NavLink to={`/bot/${match.params.id}/payment`} activeClassName=\"active\">\r\n                <PaymentIcon className=\"aside_icon\"/>\r\n                Тарифы\r\n              </NavLink>\r\n            </li>\r\n            {/*\r\n\t\t\t\t\t\t<li>\r\n              <NavLink to={`/bot/${match.params.id}/orders`} activeClassName=\"active\">\r\n                <OrdersIcon className=\"aside_icon\"/>\r\n                Заявки\r\n              </NavLink>\r\n            </li>\r\n\t\t\t\t\t\t<li><NavLink to={`/bot/${match.params.id}/connect`} activeClassName=\"active\"></NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={`/bot/${match.params.id}/payment`} activeClassName=\"active\"><i className=\"material-icons\">monetization_on</i><Translate id=\"sidebar.payment\" /></NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={`/bot/${match.params.id}/integration`} activeClassName=\"active\"></NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={`/bot/${match.params.id}/faq`} activeClassName=\"active\"></NavLink></li>\r\n\t\t\t\t\t\t<li><NavLink to={`/bot/${match.params.id}/settings`} activeClassName=\"active\"></NavLink></li>\r\n            */}\r\n\t\t\t\t\t</ul>\r\n        </aside>\r\n\t\t);\r\n}\r\n\r\nexport default Sidebar;\r\n","import * as cloneDeep from 'lodash/cloneDeep';\r\nimport uuid from 'uuid/v4';\r\n\r\nimport * as actions from './actions';\r\nimport { loadState } from '../helpers/localStorage';\r\n\r\nconst localState = loadState();\r\nconst isSignedIn = localState && localState.refreshExpires > new Date().getTime() ? true : false\r\nconst initialState = {\r\n\teditor: null,\r\n\teditorChanges: false,\r\n\t// editorDragDisabled: false,\r\n\t// analytics: {\r\n\t// \tnumbers: null,\r\n\t// \tcharts: null,\r\n  //   fromDate: new Date(Date.now() - 1000*60*60*24*30),\r\n  //   toDate: new Date(),\r\n\t// \tperiod: \"day\"\r\n\t// },\r\n\t// settings: null,\r\n\tauth: {\r\n\t\tisSignedIn: isSignedIn,\r\n\t\ttoken: localState && isSignedIn ? localState.token : null,\r\n\t\trefresh: localState && isSignedIn ? localState.refresh : null,\r\n\t\texpires: localState && isSignedIn ? localState.expires : null,\r\n\t\trefreshExpires: localState && isSignedIn ? localState.refreshExpires : null\r\n\t}\r\n}\r\n\r\nexport default ( state = initialState, action ) => {\r\n\tswitch ( action.type ) {\r\n\t\tcase actions.SIGN_IN: {\r\n\t\t\tlet expires = new Date().getTime() + 300000;\r\n\t\t\tlet refreshExpires = new Date().getTime() + (60 * 60 * 24 * 1000 * 13);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauth: {\r\n\t\t\t\t\tisSignedIn: true,\r\n\t\t\t\t\ttoken: action.payload.access,\r\n\t\t\t\t\trefresh: action.payload.refresh,\r\n\t\t\t\t\texpires: expires,\r\n\t\t\t\t\trefreshExpires: refreshExpires\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.REFRESH_TOKEN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauth: {\r\n\t\t\t\t\t...state.auth,\r\n\t\t\t\t\texpires: new Date(new Date().getTime() + 300000).getTime(),\r\n\t\t\t\t\ttoken: action.userData.token,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase actions.LOGOUT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: null,\r\n\t\t\t\teditorChanges: false,\r\n\t\t\t\teditorDragDisabled: false,\r\n\t\t\t\tanalytics: {\r\n\t\t\t\t\tnumbers: null,\r\n\t\t\t\t\tcharts: null,\r\n\t\t\t    fromDate: new Date(Date.now() - 1000*60*60*24*30),\r\n\t\t\t    toDate: new Date(),\r\n\t\t\t\t\tperiod: \"day\"\r\n\t\t\t\t},\r\n\t\t\t\tsettings: null,\r\n\t\t\t\tauth: {\r\n\t\t\t\t\tisSignedIn: false,\r\n\t\t\t\t\texpires: null,\r\n\t\t\t\t\ttoken: null,\r\n\t\t\t\t\trefresh: null,\r\n\t\t\t\t\trefreshExpires: null\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase actions.LOAD_EDITOR_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: action.editor,\r\n\t\t\t\teditorChanges: false\r\n\t\t\t}\r\n\t\tcase actions.TOGGLE_EDITOR_ACTIVE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tis_active: !state.editor.is_active\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: false\r\n\t\t\t}\r\n\t\tcase actions.SAVE_EDITOR_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditorChanges: false\r\n\t\t\t}\r\n\t\tcase actions.LOAD_ANALYTICS_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tanalytics: action.analytics\r\n\t\t\t}\r\n\t\tcase actions.LOAD_SETTINGS_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsettings: action.settings\r\n\t\t\t}\r\n\t\tcase actions.LOAD_FAQ_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfaq: action.faq\r\n\t\t\t}\r\n\t\tcase actions.CLEAR_EDITOR_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: null,\r\n\t\t\t\teditorChanges: false,\r\n\t\t\t\tanalytics: {\r\n\t\t\t\t\tnumbers: null,\r\n\t\t\t\t\tcharts: null,\r\n\t\t\t    fromDate: new Date(Date.now() - 1000*60*60*24*30),\r\n\t\t\t    toDate: new Date(),\r\n\t\t\t\t\tperiod: \"day\"\r\n\t\t\t\t},\r\n\t\t\t\tsettings: null\r\n\t\t\t}\r\n\t\t// CHAIN\r\n\t\tcase actions.ADD_CHAIN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: state.editor.data.concat( [[]] )\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\r\n\t\t// PAGE\r\n\t\tcase actions.ADD_PAGE: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\teditorData[action.chainIndex].push({\r\n\t\t\t\tname: action.pageName,\r\n\t\t\t\tid: uuid(),\r\n\t\t\t\telements: []\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.EDIT_PAGE_TITLE: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\teditorData[action.chainIndex][action.pageIndex].name = action.newTitle;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.DUPLICATE_PAGE: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\tlet copy = {...editorData[action.chainIndex][action.pageIndex]};\r\n\t\t\tcopy.id = uuid();\r\n\t\t\tcopy.elements = copy.elements.map(element => {\r\n\t\t\t\telement.id = uuid();\r\n\t\t\t\treturn element;\r\n\t\t\t});\r\n\t  \teditorData[action.chainIndex].splice(action.pageIndex, 0, copy);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.REMOVE_PAGE: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\teditorData[action.chainIndex].splice(action.pageIndex, 1);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// ELEMENT\r\n\t\tcase actions.ADD_ELEMENT: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\tlet elements = editorData[action.chainIndex][action.pageIndex].elements;\r\n\t\t\tlet element = action.data;\r\n\t\t\telement.id = uuid();\r\n\t\t\telements.push(element);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.REMOVE_ELEMENT: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\teditorData[action.chainIndex][action.pageIndex].elements.splice(action.index, 1);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.DISABLE_EDITOR_DRAG: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditorDragDisabled: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.ENABLE_EDITOR_DRAG: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditorDragDisabled: false\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.MOVE_ELEMENT: {\r\n\t\t\tlet dest = action.destination;\r\n\t\t\tlet source = action.source;\r\n\r\n\t    if(!dest || (dest.droppableId === source.droppableId && dest.index === source.index)){\r\n\t      return state;\r\n\t    }\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\r\n\t\t\tif(action.draggableId.split(':')[0] === 'page'){\r\n\t\t\t\t// Move page\r\n\t\t\t\tlet sourceChainIndex = action.draggableId.split(':')[1];\r\n\t\t\t\tlet\tsourcePageIndex = action.draggableId.split(':')[2];\r\n\t\t\t\tlet destChainIndex = dest.droppableId.split(':')[0];\r\n\t\t\t\tlet page = cloneDeep(editorData[sourceChainIndex][sourcePageIndex]);\r\n\t\t\t\teditorData[sourceChainIndex].splice(source.index, 1);\r\n\t\t  \teditorData[destChainIndex].splice(dest.index, 0, page);\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t...state.editor,\r\n\t\t\t\t\t\tdata: editorData\r\n\t\t\t\t\t},\r\n\t\t\t\t\teditorChanges: true\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// Move element\r\n\t\t\t\tlet sourceChainIndex = action.draggableId.split(':')[2];\r\n\t\t\t\tlet\tsourcePageIndex = action.draggableId.split(':')[3];\r\n\t\t\t\tlet destChainIndex = dest.droppableId.split(':')[1];\r\n\t\t\t\tlet destPageIndex = dest.droppableId.split(':')[2];\r\n\t\t\t\tlet element = cloneDeep(editorData[sourceChainIndex][sourcePageIndex].elements[source.index]);\r\n\t\t\t\teditorData[sourceChainIndex][sourcePageIndex].elements.splice(source.index, 1);\r\n\t\t  \teditorData[destChainIndex][destPageIndex].elements.splice(dest.index, 0, element);\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t...state.editor,\r\n\t\t\t\t\t\tdata: editorData\r\n\t\t\t\t\t},\r\n\t\t\t\t\teditorChanges: true\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.EDIT_ELEMENT: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\teditorData[action.chainIndex][action.pageIndex].elements[action.index].data = action.data.data;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.DUPLICATE_ELEMENT: {\r\n\t\t\tlet editorData = cloneDeep(state.editor.data);\r\n\t\t\tlet copy = {...editorData[action.chainIndex][action.pageIndex].elements[action.index]};\r\n\t\t\tcopy.data = cloneDeep(copy.data);\r\n\t\t\tcopy.id = uuid();\r\n\t  \teditorData[action.chainIndex][action.pageIndex].elements.splice(action.index, 0, copy);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tdata: editorData\r\n\t\t\t\t},\r\n\t\t\t\teditorChanges: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actions.CONNECT_BOT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\t...state.editor,\r\n\t\t\t\t\tstatus: 'on'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n","export const loadState = () => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem('state');\n\t\tif (serializedState === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn JSON.parse(serializedState);\n\t} catch (err) {\n\t\treturn undefined;\n\t}\n}\n\nexport const saveState = (state) => {\n\ttry {\n\t\tconst serializedState = JSON.stringify(state);\n\t\tlocalStorage.setItem('state', serializedState);\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n","import { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reducer from './reducer';\nimport { saveState } from '../helpers/localStorage';\nimport throttle from 'lodash/throttle';\n\nconst store = createStore(\n\treducer,\n\tcomposeWithDevTools()\n);\n\nstore.subscribe(throttle(() => {\n\tsaveState({\n\t\ttoken: store.getState().auth.token,\n\t\trefresh: store.getState().auth.refresh,\n\t\texpires: store.getState().auth.expires,\n\t\trefreshExpires: store.getState().auth.refreshExpires,\n\t\tpartner: store.getState().auth.partner\n\t});\n}, 1000));\n\nexport default store;\n","export const LOAD_EDITOR_DATA = 'LOAD_EDITOR_DATA';\r\nexport const SAVE_EDITOR_DATA = 'SAVE_EDITOR_DATA';\r\nexport const CLEAR_EDITOR_DATA = 'CLEAR_EDITOR_DATA';\r\nexport const TOGGLE_EDITOR_ACTIVE = 'TOGGLE_EDITOR_ACTIVE';\r\nexport const ADD_CHAIN = 'ADD_CHAIN';\r\nexport const ADD_PAGE = 'ADD_PAGE';\r\nexport const EDIT_PAGE_TITLE = 'EDIT_PAGE_TITLE';\r\nexport const DUPLICATE_PAGE = 'DUPLICATE_PAGE';\r\nexport const REMOVE_PAGE = 'REMOVE_PAGE';\r\nexport const ADD_ELEMENT = 'ADD_ELEMENT';\r\nexport const REMOVE_ELEMENT = 'REMOVE_ELEMENT';\r\nexport const EDIT_ELEMENT = 'EDIT_ELEMENT';\r\nexport const DUPLICATE_ELEMENT = 'DUPLICATE_ELEMENT';\r\nexport const MOVE_ELEMENT = 'MOVE_ELEMENT';\r\nexport const DISABLE_EDITOR_DRAG = 'DISABLE_EDITOR_DRAG';\r\nexport const ENABLE_EDITOR_DRAG = 'ENABLE_EDITOR_DRAG';\r\nexport const LOAD_ANALYTICS_DATA = 'LOAD_ANALYTICS_DATA';\r\nexport const LOAD_SETTINGS_DATA = 'LOAD_SETTINGS_DATA';\r\nexport const LOAD_FAQ_DATA = 'LOAD_FAQ_DATA';\r\nexport const SIGN_IN = 'SIGN_IN';\r\nexport const REFRESH_TOKEN = 'REFRESH_TOKEN';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const CONNECT_BOT = 'CONNECT_BOT';\r\n","import * as ax from 'axios';\nimport store from '../store/store';\n\nlet axios = ax.create({\n  headers: { 'Authorization': `Bearer ${localStorage ? localStorage.token : null}` }\n});\n\naxios.interceptors.request.use((config) => {\n  let localStorage = JSON.parse(window.localStorage.getItem('state'));\n  let originalRequest = config;\n  let token = localStorage.token;\n  let tokenIsExpired = localStorage.expires < new Date().getTime();\n  let refreshIsExpired = localStorage.refreshExpires < new Date().getTime();\n\n  if(refreshIsExpired){\n    store.dispatch({\n      type: \"LOGOUT\"\n    });\n  }\n  if (token && tokenIsExpired) {\n    return issueToken().then((tokens) => {\n      originalRequest.headers.Authorization = 'Bearer ' + tokens.access;\n      store.dispatch({\n        type: \"REFRESH_TOKEN\",\n        userData: {\n          token: tokens.access,\n        }\n      });\n      return Promise.resolve(originalRequest);\n    })\n    .catch(err => {\n      store.dispatch({\n        type: \"LOGOUT\"\n      });\n    });\n  } else {\n    originalRequest.headers.Authorization = 'Bearer ' + localStorage.token;\n    // return Promise.resolve(originalRequest);\n    return config;\n  }\n}, (err) => {\n  return Promise.reject(err);\n});\n\nfunction issueToken() {\n  return new Promise((resolve, reject) => {\n    let localStorage = JSON.parse(window.localStorage.getItem('state'));\n    return ax.post('/api/token/refresh/', {\n      refresh: localStorage.refresh\n    }).then((res) => {\n      resolve(res.data);\n    }).catch((err) => {\n      store.dispatch({\n        type: \"LOGOUT\"\n      });\n      // reject(err);\n    });\n  });\n}\n\nexport default axios\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../store/actions';\nimport * as Yup from 'yup';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Formik, Form } from 'formik'\nimport axios from '../api/axios';\n\nconst validationSchema =  Yup.object().shape({\n  token: Yup.string()\n  .required('Это поле обязательно')\n});\n\nclass BotConnection extends React.Component {\n  state = {\n    open: false,\n    submiting: false,\n    error: false\n  }\n\n  onConnectClick = () => {\n    this.setState({ open: true });\n  }\n\n  onClose = () => {\n    this.setState({ open: false });\n  }\n\n\thandleSubmit = () => {\n\t\tthis.form.submitForm()\n\t}\n\n  onSubmit = (values) => {\n    this.setState({ submiting: true, error: false  });\n    axios.post(`/api/set_webhook/${this.props.botId}/`, {\n      token: values.token\n    })\n    .then(res => {\n      this.props.connectBot();\n      this.setState({ submiting: false, open: false, error: false })\n    })\n    .catch(err => {\n      this.setState({\n        error: 'Проверьте правильность токена',\n        submiting: false\n      });\n    })\n  }\n\n  renderSubmitingLoader() {\n\t\tif (this.state.submiting === true){\n\t\t\treturn (<div className=\"submiting\" >\n\t\t\t\t<CircularProgress />\n\t\t\t</div>);\n\t\t} else return null;\n  }\n\n  render() {\n    if(!this.props.editor) return null;\n    let status = this.props.editor.status === 'on' ? true : false;\n    return (\n      <React.Fragment>\n        <Button\n          style={{ marginLeft: 8 }}\n          color=\"secondary\"\n          onClick={this.onConnectClick}\n        >\n          {status ? 'Сменить токен' : 'Подключить'}\n        </Button>\n  \t\t\t<Dialog open={this.state.open}>\n  \t\t\t\t<DialogTitle>Подкючение бота</DialogTitle>\n  \t\t\t\t<DialogContent>\n            {this.renderSubmitingLoader()}\n            {this.state.error ? (\n              <Typography variant=\"caption\" color=\"error\" display=\"block\" gutterBottom>\n                {this.state.error}\n              </Typography>\n            ) : null}\n  \t\t\t\t\t<Formik\n  \t\t\t\t\t\tonSubmit={this.onSubmit}\n  \t\t\t\t\t\tinitialValues={{ token: '' }}\n  \t\t\t\t\t\tvalidationSchema={validationSchema}\n  \t\t\t\t\t\tref={node => (this.form = node)}>\n  \t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n  \t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\n  \t\t\t\t\t\t\t\t\t<TextField\n  \t\t\t\t\t\t\t\t\t\tname=\"token\"\n  \t\t\t\t\t\t\t\t\t\tvalue={values.token}\n  \t\t\t\t\t\t\t\t\t\tlabel=\"Токен\"\n  \t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n  \t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\n  \t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n  \t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n  \t\t\t\t\t\t\t\t\t\terror={touched.token && Boolean(errors.token)}\n  \t\t\t\t\t\t\t\t\t\thelperText={errors.token && touched.token ? errors.token : \"\" }\n  \t\t\t\t\t\t\t\t\t\trequired\n  \t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n  \t\t\t\t\t\t\t\t\t/>\n  \t\t\t\t\t\t\t\t\t<br/>\n  \t\t\t\t\t\t\t\t</Form>\n  \t\t\t\t\t\t\t)}\n  \t\t\t\t\t\t</Formik>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={this.onClose} color=\"primary\">\n                Отмена\n              </Button>\n              <Button onClick={this.handleSubmit} color=\"primary\">\n                Подключить\n              </Button>\n            </DialogActions>\n  \t\t\t</Dialog>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\teditor: state.editor\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tconnectBot: () => dispatch({ type: actions.CONNECT_BOT })\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BotConnection);\n","import React from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../store/actions';\nimport axios from '../api/axios';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport Slide from '@material-ui/core/Slide';\nimport Zoom from '@material-ui/core/Zoom';\nimport SaveIcon from '@material-ui/icons/SaveOutlined';\nimport PlayIcon from '@material-ui/icons/PlayArrowOutlined';\nimport PauseIcon from '@material-ui/icons/PauseOutlined';\n\nimport Logo from '../assets/logo.png';\nimport BotConnection from '../components/BotConnection';\n\nclass EditorHeader extends React.Component {\n  onSave = () => {\n\t\taxios.put(`/api/bot_data/${this.props.match.params.id}/`, this.props.editor, {\n\t\t\tcrossDomain : true,\n\t\t\twithCredentials: true\n\t\t});\n\t\tthis.props.saveEditorData();\n  }\n\n  onActiveToggle = () => {\n\t\taxios.put(`/api/bot_data/${this.props.match.params.id}/`, {\n      is_active: !this.props.editor.is_active\n    }, {\n\t\t\tcrossDomain : true,\n\t\t\twithCredentials: true\n\t\t})\n    .then(res => {\n      this.props.toggleActive();\n    });\n  }\n\n  renderSaveElements(){\n    if(this.props.editorChanges){\n      return (\n        <React.Fragment>\n          <Slide in={true} >\n  \t\t\t\t\t<div className=\"unsaved\">\n              <SaveIcon style={{ marginRight: 8 }} />\n              Есть несохраненные изменения\n            </div>\n  \t\t\t\t</Slide>\n\t\t\t\t\t<Zoom in={true}>\n            <Button\n              variant=\"contained\"\n              style={{ boxShadow: 'none' }}\n  \t\t\t\t\t\tcolor=\"primary\"\n              onClick={this.onSave}\n            >\n              Сохранить\n            </Button>\n          </Zoom>\n        </React.Fragment>\n      )\n    } else {\n      return null;\n    }\n  }\n\n  renderActivityButton(){\n    if(this.props.editor){\n      return (\n\t\t\t\t<IconButton\n          onClick={this.onActiveToggle}\n          disabled={this.props.editor ? false : true}\n          style={{ marginLeft: 8 }}\n\t\t\t\t>\n          {this.props.editor.is_active ? <PauseIcon color=\"secondary\" /> : <PlayIcon color=\"secondary\" />}\n\t\t\t\t</IconButton>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderControls(){\n    return (\n      <React.Fragment>\n        {this.renderSaveElements()}\n        <BotConnection botId={this.props.match.params.id} />\n        {this.renderActivityButton()}\n      </React.Fragment>\n    )\n  }\n\n  render(){\n    return (\n\t\t\t<AppBar position=\"static\" className=\"header\" color=\"inherit\" elevation={0}>\n\t\t\t\t<Toolbar style={{ padding: '0px 20px'}}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tstyle={{ marginRight: '16px' }}\n            className=\"button-link\"\n            component={Link}\n            to=\"/\"\n\t\t\t\t\t>\n            <BackIcon color=\"secondary\" />\n\t\t\t\t\t</IconButton>\n          <div className=\"logo\" style={{ flexGrow: 1 }}>\n            <img src={Logo} alt=\"INBOT24\" />\n          </div>\n          <Route exact path='/bot/:id/editor' render={() => this.renderControls()} />\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\teditor: state.editor,\n\t\teditorChanges: state.editorChanges\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsaveEditorData: () => dispatch({ type: actions.SAVE_EDITOR_DATA }),\n\t\ttoggleActive: () => dispatch({ type: actions.TOGGLE_EDITOR_ACTIVE })\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditorHeader);\n","import React from 'react';\r\nimport axios from '../api/axios';\r\nimport * as Yup from 'yup';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Formik, Form } from 'formik'\r\nimport AddIcon from '@material-ui/icons/AddOutlined'\r\n\r\nconst validationSchema =  Yup.object().shape({\r\n\tbotName: Yup.string()\r\n\t.required('Это поле обязательно')\r\n});\r\n\r\n\r\nexport default class CreateBot extends React.Component {\r\n\tstate = {\r\n\t\topen: false,\r\n\t};\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({ open: true });\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\thandleSubmit = () => {\r\n\t\tthis.form.submitForm();\r\n\t}\r\n\r\n\tonSubmit = (values, actions) => {\r\n\t\taxios.post('api/bot_list/', {\r\n\t\t\tname: values.botName\r\n\t\t}, {\r\n\t\t\tcrossDomain: true,\r\n\t\t\twithCredentials: true\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\tif (res.data.error) {return}\r\n\t\t\tthis.props.addBot(res.data);\r\n\t\t\tthis.handleClose();\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err);\r\n\t\t\tactions.setSubmitting(false);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"col-12 xol-md-6 col-lg-3 xol-xl-3\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={this.handleClickOpen}\r\n\t\t\t\t\tclassName=\"list_new\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tcolor=\"primary\">\r\n\t\t\t\t\t<AddIcon style={{ marginRight: 4 }} />Новый бот\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\taria-labelledby=\"form-dialog-title\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Новый бот</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<Formik\r\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\t\tinitialValues={{ botName: '' }}\r\n\t\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\t\tref={node => (this.form = node)}>\r\n\t\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\r\n\t\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"botName\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"botName\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Название\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.botName && Boolean(errors.botName)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.botName && touched.botName ? errors.botName : \"\" }\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{minWidth: \"300px\"}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Formik>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\r\n\t\t\t\t\t\t\tОтмена\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.handleSubmit} color=\"primary\">\r\n\t\t\t\t\t\t\tСоздать\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n// import IconButton from '@material-ui/core/IconButton';\nimport BotIcon from '@material-ui/icons/Adb';\n// import MoreVertIcon from '@material-ui/icons/MoreVertOutlined';\nimport Typography from '@material-ui/core/Typography';\n\nclass BotCard extends React.Component {\n  render(){\n    return (\n\t\t\t<Link\n\t\t\t\tclassName=\"list-card\"\n\t\t\t\tkey={this.props.id}\n\t\t\t\tto={`bot/${this.props.id}/editor`}\n\t\t\t>\n\t\t\t\t<div className={`list-card_icon ${this.props.active ? 'active' : ''}`}>\n\t\t\t\t\t<BotIcon style={{ fontSize: 48 }} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"list-card-content\">\n          <div className=\"list-card-content_left\">\n  \t\t\t\t\t<Typography\n              variant=\"subtitle2\"\n              color=\"secondary\"\n              style={{ textOverflow: 'ellipsis' }}>\n              {this.props.name}\n            </Typography>\n  \t\t\t\t\t<Typography variant=\"caption\" color=\"secondary\">\n              {this.props.active ? 'РАБОТАЕТ' : 'ОСТАНОВЛЕН'}\n            </Typography>\n          </div>\n          <div className=\"list-card-content_right\">\n            {/*\n            <IconButton onClick={() => console.log('1')} className=\"list-card_action\">\n              <MoreVertIcon />\n            </IconButton>\n            */}\n          </div>\n\t\t\t\t</div>\n\t\t\t</Link>\n    );\n  }\n}\n\nexport default BotCard;\n","import React, { Component } from 'react'\r\nimport axios from '../api/axios';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../store/actions';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ExitIcon from '@material-ui/icons/ExitToAppOutlined';\r\n\r\nimport Logo from '../assets/logo.png';\r\nimport CreateBot from '../components/CreateBot';\r\nimport BotCard from '../components/BotCard';\r\n\r\n\r\nclass Bots extends Component {\r\n\tstate = {\r\n\t\tloader: true,\r\n\t\tdialog: false,\r\n\t\tbots: null\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.clearEditorData();\r\n\t\taxios.get('api/bot_list/', {\r\n\t\t\tcrossDomain : true,\r\n\t\t\twithCredentials: true\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\tif (res.data.error) {\r\n\t\t\t\tconsole.log(res.data.error);\r\n\t\t\t}\r\n\t\t\tvar bots = res.data;\r\n\t\t\tthis.setState({loader: false, bots: bots});\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err);\r\n\t\t})\r\n\t}\r\n\r\n\thandleBotAdd = (bot) => {\r\n\t\tvar bots = [...this.state.bots];\r\n\t\tbots.push(bot);\r\n\t\tthis.setState({ bots });\r\n\t}\r\n\r\n  editBot = (id, name) => {\r\n\t\tlet bots = [...this.state.bots];\r\n\t\tlet botIndex = bots.findIndex(bot => bot.id === id);\r\n\t\tbots[botIndex].name = name;\r\n\t\tthis.setState({\r\n\t\t\tbots: bots\r\n\t\t})\r\n  }\r\n\r\n\trenderBotList(){\r\n\t\tif (this.state.bots === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<div className=\"text-center\"><CircularProgress style={{marginTop: '24px'}} /></div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn this.state.bots.map((el) => (\r\n\t\t\t\t<div className=\"col-12 xol-md-6 col-lg-3 xol-xl-3\" key={el.id}>\r\n\t\t\t\t\t<BotCard\r\n\t\t\t\t\t\tid={el.id}\r\n\t\t\t\t\t\tname={el.name}\r\n\t\t\t\t\t\tactive={el.is_active}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t));\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<main className=\"list-main\">\r\n\t\t\t\t<AppBar position=\"static\" className=\"header\" color=\"inherit\" elevation={0}>\r\n\t\t\t\t\t<Toolbar>\r\n\t          <div className=\"logo\" style={{ flexGrow: 1 }}>\r\n\t            <img src={Logo} alt=\"INBOT24\" />\r\n\t          </div>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tstyle={{ marginLeft: '16px' }}\r\n\t\t\t\t\t\t\tonClick={this.props.logout}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ExitIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\r\n\t\t\t\t<div className=\"container list-container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t{this.renderBotList()}\r\n\t\t\t\t\t\t{this.state.bots ? <CreateBot addBot={this.handleBotAdd} /> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</main>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tclearEditorData: () => dispatch({ type: actions.CLEAR_EDITOR_DATA }),\r\n\t\tlogout: () => dispatch({ type: actions.LOGOUT })\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Bots);\r\n","import React from 'react'\r\n\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\n\r\nimport Message from '@material-ui/icons/MessageOutlined';\r\nimport DeviceHub from '@material-ui/icons/DeviceHubOutlined';\r\nimport MenuIcon from '@material-ui/icons/MenuOutlined';\r\nimport InputIcon from '@material-ui/icons/InputOutlined';\r\nimport FastForward from '@material-ui/icons/FastForwardOutlined';\r\nimport ImageIcon from '@material-ui/icons/ImageOutlined';\r\nimport VideoIcon from '@material-ui/icons/MovieOutlined';\r\nimport ShoppingCart from '@material-ui/icons/ShoppingCartOutlined';\r\nimport PauseIcon from '@material-ui/icons/PauseOutlined';\r\nimport AttachFile from '@material-ui/icons/AttachFileOutlined';\r\nimport Location from '@material-ui/icons/LocationOnOutlined';\r\nimport Contact from '@material-ui/icons/AccountBoxOutlined';\r\n\r\nconst cardTypes = [\r\n\t{\r\n\t\ttype: 'text',\r\n\t\ttitle: 'Текст'\r\n\t},\r\n\t// {\r\n\t// \ttype: 'fork',\r\n\t// \ttitle: 'Развилка'\r\n\t// },\r\n\t{\r\n\t\ttype: 'menu',\r\n\t\ttitle: 'Меню'\r\n\t},\r\n\t// {\r\n\t// \ttype: 'input',\r\n\t// \ttitle: ''\r\n\t// },\r\n\t// {\r\n\t// \ttype: 'rewind',\r\n\t// \ttitle: ''\r\n\t// },\r\n\t{\r\n\t\ttype: 'image',\r\n\t\ttitle: 'Изображение'\r\n\t},\r\n\t{\r\n\t\ttype: 'video',\r\n\t\ttitle: 'Видео'\r\n\t},\r\n\t// {\r\n\t// \ttype: 'file',\r\n\t// \ttitle: ''\r\n\t// },\r\n\t// {\r\n\t// \ttype: 'order',\r\n\t// \ttitle: ''\r\n\t// },\r\n\t// {\r\n\t// \ttype: 'pause',\r\n\t// \ttitle: ''\r\n\t// },\r\n\t// {\r\n\t// \ttype: 'contact',\r\n\t// \ttitle: ''\r\n\t// },\r\n\t// {\r\n\t// \ttype: 'geo',\r\n\t// \ttitle: ''\r\n\t// }\r\n];\r\n\r\nconst listIcon = type => {\r\n\tswitch (type) {\r\n\t\tcase 'text':\r\n\t\t\treturn <Message />;\r\n\t\tcase 'fork':\r\n\t\t\treturn <DeviceHub />\r\n\t\tcase 'menu':\r\n\t\t\treturn <MenuIcon />\r\n\t\tcase 'input':\r\n\t\t\treturn <InputIcon />\r\n\t\tcase 'rewind':\r\n\t\t\treturn <FastForward />\r\n\t\tcase 'image':\r\n\t\t\treturn <ImageIcon />\r\n\t\tcase 'video':\r\n\t\t\treturn <VideoIcon />\r\n\t\tcase 'file':\r\n\t\t\treturn <AttachFile />\r\n\t\tcase 'order':\r\n\t\t\treturn <ShoppingCart />\r\n\t\tcase 'pause':\r\n\t\t\treturn <PauseIcon />\r\n\t\tcase 'contact':\r\n\t\t\treturn <Contact />\r\n\t\tcase 'geo':\r\n\t\t\treturn <Location />\r\n\t\tdefault:\r\n\t\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default props => {\r\n\tconst handleListClick = type => {\r\n\t\tprops.onClose(type);\r\n\t}\r\n\r\n\tconst onClose = () => {\r\n\t\tprops.onClose(null);\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Dialog onClose={onClose} open={props.open}>\r\n\t\t\t\t<DialogTitle>Выберите элемент</DialogTitle>\r\n\t\t\t\t<List style={{minWidth: '344px'}}>\r\n\t\t\t\t\t{cardTypes.map(el => (\r\n\t\t\t\t\t\t<ListItem button onClick={() => handleListClick(el.type)} key={el.type}>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t{listIcon(el.type)}\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText inset primary={el.title} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { Component } from 'react'\r\nimport * as Yup from 'yup';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Formik, Form} from 'formik'\r\n\r\nconst validationSchema =  Yup.object().shape({\r\n  text: Yup.string()\r\n  .required('Это поле обязательно')\r\n});\r\n\r\nexport default class TextEditor extends Component {\r\n\thandleClose = () => {\r\n\t\tthis.props.editCard(null);\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tthis.form.submitForm()\r\n\t}\r\n\r\n\tonSubmit = (values, actions) => {\r\n\t\tvar data = {\r\n\t\t\ttype: \"text\",\r\n\t\t\tdata: {\r\n        text: values.text\r\n      }\r\n\t\t}\r\n\t\tthis.props.editCard(data);\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar initialValues = {\r\n\t\t\ttext: ''\r\n\t\t};\r\n\r\n\t\tif (this.props.data !== null) {\r\n\t\t\tinitialValues = {\r\n\t\t\t\ttext: this.props.data.text\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dialog open={true}>\r\n\t\t\t\t<DialogTitle>Текст</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\tref={node => (this.form = node)}>\r\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\r\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tname=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.text}\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\trowsMax={26}\r\n\t\t\t\t\t\t\t\t\t\trows={6}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Текст\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.text && Boolean(errors.text)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={errors.text && touched.text ? errors.text : \"\" }\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Formik>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Отмена\r\n            </Button>\r\n            <Button onClick={this.handleSubmit} color=\"primary\">\r\n              Сохранить\r\n            </Button>\r\n          </DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n","export default (editor, format) => {\r\n\tif (!editor) return;\r\n\tvar res = [];\r\n\tif (format === 'option') {\r\n\t\teditor.data.forEach(chain => chain.forEach(page => {\r\n\t\t\tres.push({ value: page.id, label: page.name});\r\n\t\t}));\r\n\t} else {\r\n\t\teditor.data.forEach(chain => chain.forEach(page => {\r\n\t\t\tres.push({ id: page.id, name: page.name});\r\n\t\t}));\r\n\t}\r\n\treturn res;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport getPages from '../../helpers/getPages';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Formik, Form, FieldArray, Field} from 'formik';\r\n\r\nclass ForkEditor extends Component {\r\n\thandleClose = () => {\r\n\t\tthis.props.editCard(null);\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tthis.form.submitForm();\r\n\t}\r\n\r\n\tonSubmit = (values, actions) => {\r\n\t\tconsole.log(values);\r\n\t\tvar data = {\r\n\t\t\ttype: \"fork\",\r\n\t\t\tvalue: values.forks\r\n\t\t}\r\n\t\tthis.props.editCard(data);\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar pages = getPages(this.props.editor, 'option');\r\n\t\tconsole.log(pages);\r\n\t\tvar initialValues = {\r\n\t\t\tforks: [\r\n\t\t\t\t{ \r\n\t\t\t\t\ttext: '',\r\n\t\t\t\t\tid: pages[0].value \r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tif (this.props.value !== null) {\r\n\t\t\tinitialValues = {\r\n\t\t\t\tforks: this.props.value\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dialog open={true}>\r\n\t\t\t\t<DialogTitle>Развилка</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Formik \r\n\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\t\t\tref={node => (this.form = node)}>\r\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\r\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '355px'}}>\r\n\t\t\t\t\t\t\t\t  <FieldArray\r\n\t\t\t\t\t\t\t\t\t\tname=\"forks\"\r\n\t\t\t\t\t\t\t\t\t\trender={arrayHelpers => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{values.forks.map((fork, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"editor-field-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field name={`forks[${index}]text`}>{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Текст\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginRight: '16px', marginTop: '8px'}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field name={`forks[${index}]id`}>{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Страница\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnative: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px'}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{pages.map(option => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={option.value} value={option.value}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => arrayHelpers.remove(index)} aria-label=\"Delete\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\" style={{ marginTop: '16px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => arrayHelpers.push({ text: '', id: pages[0].value })} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\" style={{ marginRight: '4px'}}>add</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tДобавить\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Formik>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Отмена\r\n            </Button>\r\n            <Button onClick={this.handleSubmit} color=\"primary\">\r\n              Coхранить\r\n            </Button>\r\n          </DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\teditor: state.editor\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ForkEditor);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport getPages from '../../helpers/getPages';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Formik, Form, FieldArray, Field} from 'formik';\r\n\r\nclass MenuEditor extends Component {\r\n\thandleClose = () => {\r\n\t\tthis.props.editCard(null);\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tthis.form.submitForm();\r\n\t}\r\n\r\n\tonSubmit = (values, actions) => {\r\n\t\tvar data = {\r\n\t\t\ttype: \"menu\",\r\n\t\t\tdata: {\r\n\t\t\t\ttext: values.text,\r\n\t\t\t\tfallback: values.fallback,\r\n\t\t\t\tvalue: values.forks\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.editCard(data);\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar pages = getPages(this.props.editor, 'option');\r\n\t\tvar initialValues = {\r\n\t\t\ttext: '',\r\n\t\t\tfallback: '',\r\n\t\t\tforks: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: '',\r\n\t\t\t\t\tid: pages[0].value\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tif (this.props.data !== null) {\r\n\t\t\tinitialValues = {\r\n\t\t\t\ttext: this.props.data.text,\r\n\t\t\t\tfallback: this.props.data.fallback,\r\n\t\t\t\tforks: this.props.data.value\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dialog open={true}>\r\n\t\t\t\t<DialogTitle>Меню</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\t\t\tref={node => (this.form = node)}>\r\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\r\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '355px'}}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tname=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.descr}\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\trowsMax={16}\r\n\t\t\t\t\t\t\t\t\t\trows={6}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Текст\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\", marginBottom: '16px'}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t  <FieldArray\r\n\t\t\t\t\t\t\t\t\t\tname=\"forks\"\r\n\t\t\t\t\t\t\t\t\t\trender={arrayHelpers => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{values.forks.map((fork, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"editor-field-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field name={`forks[${index}]text`}>{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Текст кнопки\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginRight: '16px', marginTop: '8px', flex: 1 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field name={`forks[${index}]id`}>{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Страница\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnative: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: 8, maxWidth: 160 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{pages.map(option => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={option.value} value={option.value}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => arrayHelpers.remove(index)} aria-label=\"Delete\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\" style={{ marginTop: '16px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => arrayHelpers.push({ text: '', id: pages[0].value })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\" style={{ marginRight: '4px'}}>add</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tДобавить\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tname=\"fallback\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.fallback}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Ошибка\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\", marginTop: '36px'}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Formik>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n\t\t\t\t\t\t\tОтмена\r\n            </Button>\r\n            <Button onClick={this.handleSubmit} color=\"primary\">\r\n\t\t\t\t\t\t\tСохранить\r\n            </Button>\r\n          </DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\teditor: state.editor\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(MenuEditor);\r\n","import React, { Component } from 'react'\r\nimport * as Yup from 'yup';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Formik, Form, Field} from 'formik'\r\nimport { Translate } from \"react-localize-redux\";\r\n\r\nconst validationSchema =  Yup.object().shape({\r\n  variable: Yup.string()\r\n  .required(<Translate id=\"validation.required\" />),\r\n  variableType: Yup.string()\r\n  .required(<Translate id=\"validation.required\" />),\r\n  desc: Yup.string()\r\n  .required(<Translate id=\"validation.required\" />),\r\n  fallback: Yup.string()\r\n  .required(<Translate id=\"validation.required\" />)\r\n});\r\n\r\nexport default class InputEditor extends Component {\r\n\thandleClose = () => {\r\n\t\tthis.props.editCard(null);\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tthis.form.submitForm()\r\n\t}\r\n\r\n\tonSubmit = (values, actions) => {\r\n\t\tvar data = {\r\n\t\t\ttype: \"input\",\r\n\t\t\tvalue: values.variable,\r\n\t\t\tvariableType: values.variableType,\r\n\t\t\tfallback: values.fallback,\r\n\t\t\tdescr: values.desc\r\n\r\n\t\t}\r\n\t\tthis.props.editCard(data);\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar initialValues = {\r\n\t\t\tdesc: '',\r\n\t\t\tvariable: '',\r\n\t\t\tfallback: '',\r\n\t\t\tvariableType: 'string'\r\n\t\t};\r\n\r\n\t\tif (this.props.value !== null) {\r\n\t\t\tconsole.log(this.props)\r\n\t\t\tinitialValues = {\r\n\t\t\t\tdesc: this.props.descr,\r\n\t\t\t\tvariable: this.props.value,\r\n\t\t\t\tfallback: this.props.fallback,\r\n\t\t\t\tvariableType: this.props.variableType\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dialog open={true}>\r\n\t\t\t\t<DialogTitle><Translate id=\"editor.elements.input\" /></DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\tref={node => (this.form = node)}>\r\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\r\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tname=\"desc\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.desc}\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\trowsMax={26}\r\n\t\t\t\t\t\t\t\t\t\trows={6}\r\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.text\" />}\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.desc && Boolean(errors.desc)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={errors.desc && touched.desc ? errors.desc : \"\" }\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div style={{ display: \"flex\" }}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"variable\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.variable}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.variable-name\" />}\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.variable && Boolean(errors.variable)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.variable && touched.variable ? errors.variable : \"\" }\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '16px', marginRight: '16px'}}\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Field name=\"variableType\">{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.variable-type\" />}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={touched.variableType && Boolean(errors.variableType)}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={errors.variableType && touched.variableType ? errors.variableType : \"\" }\r\n\t\t\t\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnative: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '16px', width: '150px'}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"string\">String</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"number\">Number</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"date\">Date</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"email\">Email</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"phone\">Phone</option>\r\n\t\t\t\t\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t\t\t\t\t)}</Field>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tname=\"fallback\"\r\n                    required\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.fallback}\r\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.fallback\" />}\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\", marginTop: '16px'}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Formik>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n             \t<Translate id=\"btn.cancel\" />\r\n            </Button>\r\n            <Button onClick={this.handleSubmit} color=\"primary\">\r\n              <Translate id=\"btn.save\" />\r\n            </Button>\r\n          </DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport * as Yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport getPages from '../../helpers/getPages';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Formik, Form, Field} from 'formik'\r\nimport { Translate } from \"react-localize-redux\";\r\n\r\nconst validationSchema =  Yup.object().shape({\r\n  page: Yup.string()\r\n  .required(<Translate id=\"validate.required\" />),\r\n});\r\n\r\nclass RewindEditor extends Component {\r\n\thandleClose = () => {\r\n\t\tthis.props.editCard(null);\r\n\t}\r\n\r\n\thandleSubmit = () => {\r\n\t\tthis.form.submitForm()\r\n\t}\r\n\r\n\tonSubmit = (values, actions) => {\r\n\t\tvar data = {\r\n\t\t\ttype: \"rewind\",\r\n\t\t\tvalue: values.page\r\n\t\t}\r\n\t\tthis.props.editCard(data);\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar pages = getPages(this.props.editor, 'options');\r\n\t\tvar initialValues = {\r\n\t\t\tpage: pages[0].id\r\n\t\t};\r\n\r\n\t\tif (this.props.value !== null) {\r\n\t\t\tinitialValues = {\r\n\t\t\t\tpage: this.props.value\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dialog open={true}>\r\n\t\t\t\t<DialogTitle><Translate id=\"editor.elements.rewind\" /></DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\tref={node => (this.form = node)}>\r\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\r\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\r\n\t\t\t\t\t\t\t\t\t<Field name=\"page\">{({ field, form }) => (\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t{...field}\r\n\t\t\t\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.screen\" />}\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.page && Boolean(errors.page)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.page && touched.page ? errors.page : \"\" }\r\n\t\t\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tnative: true\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px'}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{pages.map(option => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={option.id} value={option.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{option.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t\t\t\t)}</Field>\r\n\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Formik>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              <Translate id=\"btn.cancel\" />\r\n            </Button>\r\n            <Button onClick={this.handleSubmit} color=\"primary\">\r\n              <Translate id=\"btn.save\" />\r\n            </Button>\r\n          </DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\teditor: state.editor\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(RewindEditor);\r\n","import React, { Component } from 'react'\nimport * as Yup from 'yup';\nimport axios from '../../api/axios';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Formik, Form } from 'formik';\n\nconst validationSchema = Yup.object().shape({\n  image: Yup.mixed()\n    .required('Это поле обязательно'),\n  text: Yup.string()\n    .max(1024, 'Максимум 1024 символа')\n});\n\nconst validationSchemaEditing = Yup.object().shape({\n  text: Yup.string()\n    .max(1024, 'Максимум 1024 символа')\n});\n\nexport default class ImageEditor extends Component {\n  state = {\n    tooLarge: false,\n    serverError: false,\n    submiting: false,\n\t\tuploading: false,\n\t\timage: null\n  }\n\tcomponentDidMount(){\n    if(this.props.data !== null){\n\t\t    this.setState({ image: this.props.data.image });\n    }\n\t}\n\n  handleClose = () => {\n    this.props.editCard(null);\n  }\n\n  handleSubmit = () => {\n    this.form.submitForm()\n  }\n\n  onSubmit = (values, actions) => {\n    this.setState({ submiting: true });\n    var data = {\n      type: \"image\",\n      data: {\n        image: this.state.image,\n        text: values.text\n      }\n    }\n    this.props.editCard(data);\n  }\n\n\thandleImageUpload = (imageData) => {\n    console.log(this.props);\n    this.setState({ uploading: true });\n    var data = new FormData();\n    data.append('image', imageData);\n    axios.post(`/api/upload_photo/${this.props.botId}/`, data, {\n      crossDomain: true,\n      withCredentials: true\n    }).then(res => {\n      if (res.data.error) {\n        this.setState({ serverError: res.data.error });\n        return;\n      }\n      this.setState({ uploading: false, image: res.data.url });\n    }).catch(err => {\n      console.log(err);\n      this.setState({ uploading: false });\n      this.setState({ serverError: \"[500] Ошибка на нашем сервере. Попробуйте позже\" });\n    });\n\t}\n\n  render() {\n    var initialValues = {\n      text: ''\n    };\n    var submiting = null;\n\n    if (this.props.data !== null) {\n      initialValues = {\n        text: this.props.data.text\n      }\n    }\n\n    if (this.state.submiting === true) {\n      submiting = <div className=\"submiting\">\n        <CircularProgress/>\n      </div>\n    }\n    return (<Dialog open={true}>\n      <DialogTitle>Изображение</DialogTitle>\n      <DialogContent>\n        {submiting}\n        <Formik\n          onSubmit={this.onSubmit}\n          initialValues={initialValues}\n          validationSchema={!this.props.data ? validationSchema : validationSchemaEditing}\n          ref={node => (this.form = node)}\n        >\n          {\n            ({ handleSubmit, handleChange, handleBlur, values, errors, touched, setFieldValue }) => (\n\t\t\t\t\t\t\t<Form\n                onSubmit={handleSubmit}\n                style={{ minWidth: '344px' }}\n              >\n              {/*\n\t\t\t\t\t\t\t\t\t{this.props.value === null ? <input id=\"image-uploader\" name=\"image\" type=\"file\" accept=\"image/*\" onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ serverError: false, tooLarge: false });\n\t\t\t\t\t\t\t\t\t\t\tif (((event.currentTarget.files[0].size/1024)/1024).toFixed(4) <= 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"image\", event.currentTarget.files[0]);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"image\", \"\");\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ tooLarge: true });\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}} />: null}\n\t\t\t\t\t\t\t\t\t{this.props.value === null ? <br/> : null}\n\t\t\t\t\t\t\t\t\t*/\n              }\n              <input id=\"image-upload-input\" name=\"image\" type=\"file\" accept=\"image/*\" onChange={(event) => {\n                  this.setState({ serverError: false, tooLarge: false });\n                  if(!event.currentTarget.files[0]) return;\n                  if (((event.currentTarget.files[0].size / 1024) / 1024).toFixed(4) <= 10) {\n                    setFieldValue(\"image\", event.currentTarget.files[0]);\n\t\t\t\t\t\t\t\t\t\tthis.handleImageUpload(event.currentTarget.files[0]);\n                  } else {\n                    setFieldValue(\"image\", \"\");\n                    this.setState({ tooLarge: true });\n                  }\n                }}/>\n                <div className=\"image-upload\" style={{ backgroundImage: this.state.image ? `url(${this.state.image})` : 'none'}}>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"image-upload-input\" className=\"image-upload-label\" >\n\t\t                {!this.state.uploading\n\t\t\t\t\t\t\t\t\t\t\t? <Button color=\"inherit\" component=\"span\" className=\"image-upload_btn\">\n                        Загрузить изображение\n\t\t                \t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t: <CircularProgress color=\"inherit\" className=\"image-upload_btn\" />\n\t\t\t\t\t\t\t\t\t\t}\n              \t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br/>\n              {\n                this.state.serverError\n                  ? <div className=\"field-error\">{this.state.serverError}</div>\n                  : null\n              }\n              {\n                this.state.tooLarge\n                  ? <div className=\"field-error\">Максимальный размер изображения 10MB</div>\n                  : null\n              }\n              <TextField\n                name=\"text\"\n                value={values.text}\n                multiline\n                rowsMax={16}\n                rows={6}\n                label='Текст'\n                margin=\"normal\"\n                variant=\"filled\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                error={touched.text && Boolean(errors.text)}\n                helperText={errors.text && touched.text ? errors.text : \"\"}\n                style={{\n                  width: \"100%\"\n                }}/>\n              <br/>\n            </Form>)\n          }\n        </Formik>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={this.handleClose} color=\"primary\">\n          Отмена\n        </Button>\n        <Button onClick={this.handleSubmit} color=\"primary\" disabled={this.state.uploading}>\n          Сохранить\n        </Button>\n      </DialogActions>\n    </Dialog>)\n  }\n}\n","import React, { Component } from 'react'\nimport * as Yup from 'yup';\nimport axios from 'axios';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {Formik, Form} from 'formik';\nimport { Translate } from \"react-localize-redux\";\n\n\nconst validationSchema =  Yup.object().shape({\n\tfile: Yup.mixed()\n\t.required(<Translate id=\"validation.required\" />),\n});\n\nexport default class ImageEditor extends Component {\n\tstate = {\n\t\ttooLarge: false,\n\t\tserverError: false,\n\t\tsubmiting: false\n\t}\n\t\n\thandleClose = () => {\n\t\tthis.props.editCard(null);\n\t}\n\n\thandleSubmit = () => {\n\t\tthis.form.submitForm()\n\t}\n\n\tonSubmit = (values, actions) => {\n\t\tthis.setState({ submiting: true });\n\t\tvar data = new FormData();\n\t\tdata.append('file', values.file);\n\t\taxios.post(`upload_file/`, data, {\n\t\t\tcrossDomain: true,\n\t\t\twithCredentials: true\n\t\t})\n\t\t.then(res => {\n\t\t\tif (res.data.error) {\n\t\t\t\tthis.setState({ serverError: res.data.error })\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar data = {\n\t\t\t\ttype: \"file\",\n\t\t\t\tvalue: res.data.url,\n\t\t\t}\n\t\t\tthis.setState({ submiting: false });\n\t\t\tthis.props.editCard(data);\n\t\t\tactions.setSubmitting(false);\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err);\n\t\t\tactions.setSubmitting(false);\n\t\t})\n\n\t}\n\n\trender() {\n\t\tif (this.state.submiting === true){\n\t\t\tvar submiting = <div className=\"submiting\" >\n\t\t\t\t<CircularProgress />\n\t\t\t</div>\n\t\t}\n\n\t\treturn (\n\t\t\t<Dialog open={true}>\n\t\t\t\t<DialogTitle><Translate id=\"editor.elements.file\" /></DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t{submiting}\n\t\t\t\t\t<Formik \n\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched, setFieldValue }) => (\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\n\t\t\t\t\t\t\t\t\t<input name=\"file\" type=\"file\" onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ serverError: false, tooLarge: false });\n\t\t\t\t\t\t\t\t\t\t\tif (((event.currentTarget.files[0].size/1024)/1024).toFixed(4) <= 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"file\", event.currentTarget.files[0]);\t\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"file\", \"\");\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ tooLarge: true });\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t\t{this.props.value === null ? <br/> : null}\n\t\t\t\t\t\t\t\t\t{this.state.serverError ? <div className=\"field-error\">{this.state.serverError}</div> : null}\n\t\t\t\t\t\t\t\t\t{this.state.tooLarge ? <div className=\"field-error\">The file size is too large. Max file size: 1MB</div> : null}\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\n\t\t\t\t\t\t\t<Translate id=\"btn.cancel\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.handleSubmit} color=\"primary\">\n\t\t\t\t\t\t\t<Translate id=\"btn.save\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport * as Yup from 'yup';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {Formik, Form} from 'formik'\nimport { Translate } from \"react-localize-redux\";\n\nconst validationSchema =  Yup.object().shape({\n  order: Yup.string()\n  .required(<Translate id=\"validation.required\" />),\n  response: Yup.string()\n  .required(<Translate id=\"validation.required\" />),\n});\n\nexport default class OrderEditor extends Component {\n\thandleClose = () => {\n\t\tthis.props.editCard(null);\n\t}\n\n\thandleSubmit = () => {\n\t\tthis.form.submitForm()\n\t}\n\n\tonSubmit = (values, actions) => {\n\t\tvar data = {\n\t\t\ttype: \"order\",\n\t\t\tvalue: {\n\t\t\t\torder: values.order, \n\t\t\t\tresponse: values.response\n\t\t\t}\n\t\t}\n\t\tthis.props.editCard(data);\n\t}\n\n\trender() {\n\t\tvar initialValues = {\n\t\t\torder: '',\n\t\t\tresponse: ''\n\t\t};\n\n\t\tif (this.props.value !== null) {\n\t\t\tinitialValues = {\n\t\t\t\torder: this.props.value.order,\n\t\t\t\tresponse: this.props.value.response\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Dialog open={true}>\n\t\t\t\t<DialogTitle><Translate id=\"editor.elements.order\" /></DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Formik \n\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\tinitialValues={initialValues}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tname=\"order\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.order}\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trowsMax={26}\n\t\t\t\t\t\t\t\t\t\trows={6}\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.order-text\" />}\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.order && Boolean(errors.order)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.order && touched.order ? errors.order : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tname=\"response\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.response}\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trowsMax={26}\n\t\t\t\t\t\t\t\t\t\trows={6}\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.response\" />}\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.response && Boolean(errors.response)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.response && touched.response ? errors.response: \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              <Translate id=\"btn.cancel\" />\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"primary\">\n              <Translate id=\"btn.save\" />\n            </Button>\n          </DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport * as Yup from 'yup';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {Formik, Form} from 'formik'\nimport { Translate } from \"react-localize-redux\";\n\nconst validationSchema =  Yup.object().shape({\n  pause: Yup.string()\n  .required(<Translate id=\"validation.required\" />),\n});\n\nexport default class PauseEditor extends Component {\n\thandleClose = () => {\n\t\tthis.props.editCard(null);\n\t}\n\n\thandleSubmit = () => {\n\t\tthis.form.submitForm()\n\t}\n\n\tonSubmit = (values, actions) => {\n\t\tvar data = {\n\t\t\ttype: \"pause\",\n\t\t\tvalue: values.pause\n\t\t}\n\t\tthis.props.editCard(data);\n\t}\n\n\trender() {\n\t\tvar initialValues = {\n\t\t\tpause: ''\n\t\t};\n\n\t\tif (this.props.value !== null) {\n\t\t\tinitialValues = {\n\t\t\t\tpause: this.props.value\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Dialog open={true}>\n\t\t\t\t<DialogTitle><Translate id=\"editor.elements.pause\" /></DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Formik \n\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\tinitialValues={initialValues}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tname=\"pause\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.pause}\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.pause\" />}\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.pause && Boolean(errors.pause)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.pause && touched.pause ? errors.pause : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              <Translate id=\"btn.cancel\" />\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"primary\">\n              <Translate id=\"btn.save\" />\n            </Button>\n          </DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport * as Yup from 'yup';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {Formik, Form} from 'formik'\nimport { Translate } from \"react-localize-redux\";\n\nconst validationSchema =  Yup.object().shape({\n  contact: Yup.string()\n  .required(<Translate id=\"validation.required\" />),\n});\n\nexport default class ContactEditor extends Component {\n\thandleClose = () => {\n\t\tthis.props.editCard(null);\n\t}\n\n\thandleSubmit = () => {\n\t\tthis.form.submitForm()\n\t}\n\n\tonSubmit = (values, actions) => {\n\t\tvar data = {\n\t\t\ttype: \"contact\",\n\t\t\tvalue: values.contact\n\t\t}\n\t\tthis.props.editCard(data);\n\t}\n\n\trender() {\n\t\tvar initialValues = {\n\t\t\tcontact: ''\n\t\t};\n\n\t\tif (this.props.value !== null) {\n\t\t\tinitialValues = {\n\t\t\t\tcontact: this.props.value\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Dialog open={true}>\n\t\t\t\t<DialogTitle><Translate id=\"editor.elements.contact\" /></DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\tinitialValues={initialValues}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tname=\"contact\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.contact}\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.phone\" />}\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.contact && Boolean(errors.contact)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.contact && touched.contact ? errors.contact : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              <Translate id=\"btn.cancel\" />\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"primary\">\n              <Translate id=\"btn.save\" />\n            </Button>\n          </DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport * as Yup from 'yup';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {Formik, Form} from 'formik'\nimport { Translate } from \"react-localize-redux\";\n\nconst validationSchema =  Yup.object().shape({\n  latitude: Yup.string()\n  .required(<Translate id=\"validation.required\" />),\n  longitude: Yup.string()\n  .required(<Translate id=\"validation.required\" />),\n  descr: Yup.string()\n  .required(<Translate id=\"validation.required\" />)\n  .max(55, <Translate id=\"validation.max55\" />)\n});\n\nexport default class ContactEditor extends Component {\n\thandleClose = () => {\n\t\tthis.props.editCard(null);\n\t}\n\n\thandleSubmit = () => {\n\t\tthis.form.submitForm()\n\t}\n\n\tonSubmit = (values, actions) => {\n\t\tvar data = {\n\t\t\ttype: \"geo\",\n\t\t\tvalue: {\n        latitude: values.latitude,\n        longitude: values.longitude,\n        descr: values.descr\n      }\n\t\t}\n\t\tthis.props.editCard(data);\n\t}\n\n\trender() {\n\t\tvar initialValues = {\n\t\t\tlatitude: '',\n      longitude: '',\n      descr: ''\n\t\t};\n\n\t\tif (this.props.value !== null) {\n\t\t\tinitialValues = {\n  \t\t\tlatitude: this.props.value.latitude,\n        longitude: this.props.value.longitude,\n        descr: this.props.value.descr\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Dialog open={true}>\n\t\t\t\t<DialogTitle><Translate id=\"editor.elements.geo\" /></DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\tinitialValues={initialValues}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit} style={{minWidth: '344px'}}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tname=\"latitude\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.latitude}\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.latitude\" />}\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.latitude && Boolean(errors.latitude)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.latitude && touched.latitude ? errors.latitude : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tname=\"longitude\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.longitude}\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.longitude\" />}\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.longitude && Boolean(errors.longitude)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.longitude && touched.longitude ? errors.longitude : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t/>\n                  <br/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tname=\"descr\"\n                    required\n\t\t\t\t\t\t\t\t\t\tvalue={values.descr}\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trowsMax={2}\n\t\t\t\t\t\t\t\t\t\trows={2}\n\t\t\t\t\t\t\t\t\t\tlabel={<Translate id=\"forms.caption\" />}\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.descr && Boolean(errors.descr)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.descr && touched.descr ? errors.descr : \"\" }\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t/>\n                  <Translate id=\"forms.geoTextHint\" />\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              <Translate id=\"btn.cancel\" />\n            </Button>\n            <Button onClick={this.handleSubmit} color=\"primary\">\n              <Translate id=\"btn.save\" />\n            </Button>\n          </DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport * as Yup from 'yup';\nimport axios from '../../api/axios';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { Formik, Form } from 'formik';\n\nconst validationSchema = Yup.object().shape({\n  video: Yup.mixed()\n    .required('Это поле обязательно'),\n  text: Yup.string()\n    .max(1024, 'Максимум 1024 символа')\n});\n\nconst validationSchemaEditing = Yup.object().shape({\n  text: Yup.string()\n    .max(1024, 'Максимум 1024 символа')\n});\n\nexport default class VideoEditor extends Component {\n  state = {\n    tooLarge: false,\n    serverError: false,\n    submiting: false,\n\t\tuploading: false,\n\t\tvideo: null\n  }\n\tcomponentDidMount(){\n    if(this.props.data !== null){\n\t\t    this.setState({ video: this.props.data.video });\n    }\n\t}\n\n  handleClose = () => {\n    this.props.editCard(null);\n  }\n\n  handleSubmit = () => {\n    this.form.submitForm()\n  }\n\n  onSubmit = (values, actions) => {\n    this.setState({ submiting: true });\n    var data = {\n      type: \"video\",\n      data: {\n        video: this.state.video,\n        text: values.text\n      }\n    }\n    this.props.editCard(data);\n  }\n\n\thandleImageUpload = (videoData) => {\n    this.setState({ uploading: true });\n    var data = new FormData();\n    data.append('file', videoData);\n    axios.post(`/api/upload_file/${this.props.botId}/`, data, {\n      crossDomain: true,\n      withCredentials: true\n    }).then(res => {\n      if (res.data.error) {\n        this.setState({ serverError: res.data.error });\n        return;\n      }\n      this.setState({ uploading: false, video: res.data.url });\n    }).catch(err => {\n      console.log(err);\n      this.setState({ uploading: false });\n      this.setState({ serverError: \"[500] Ошибка на нашем сервере. Попробуйте позже\" });\n    });\n\t}\n\n  render() {\n    var initialValues = {\n      text: ''\n    };\n    var submiting = null;\n\n    if (this.props.data !== null) {\n      initialValues = {\n        text: this.props.data.text\n      }\n    }\n\n    if (this.state.submiting === true) {\n      submiting = <div className=\"submiting\">\n        <CircularProgress />\n      </div>\n    }\n    return (<Dialog open={true}>\n      <DialogTitle>Видео</DialogTitle>\n      <DialogContent>\n        {submiting}\n        <Formik\n          onSubmit={this.onSubmit}\n          initialValues={initialValues}\n          validationSchema={!this.props.data ? validationSchema : validationSchemaEditing}\n          ref={node => (this.form = node)}\n        >\n          {\n            ({ handleSubmit, handleChange, handleBlur, values, errors, touched, setFieldValue }) => (\n\t\t\t\t\t\t\t<Form\n                onSubmit={handleSubmit}\n                style={{ minWidth: '344px' }}\n              >\n              {/*\n\t\t\t\t\t\t\t\t\t{this.props.value === null ? <input id=\"image-uploader\" name=\"image\" type=\"file\" accept=\"image/*\" onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ serverError: false, tooLarge: false });\n\t\t\t\t\t\t\t\t\t\t\tif (((event.currentTarget.files[0].size/1024)/1024).toFixed(4) <= 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"image\", event.currentTarget.files[0]);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"image\", \"\");\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ tooLarge: true });\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}} />: null}\n\t\t\t\t\t\t\t\t\t{this.props.value === null ? <br/> : null}\n\t\t\t\t\t\t\t\t\t*/\n              }\n              <input id=\"video-upload-input\" name=\"video\" type=\"file\" accept=\"video/*\" onChange={(event) => {\n                  this.setState({ serverError: false, tooLarge: false });\n                  if(!event.currentTarget.files[0]) return;\n                  if (((event.currentTarget.files[0].size / 1024) / 1024).toFixed(4) <= 50) {\n                    setFieldValue(\"video\", event.currentTarget.files[0]);\n\t\t\t\t\t\t\t\t\t\tthis.handleImageUpload(event.currentTarget.files[0]);\n                  } else {\n                    setFieldValue(\"video\", \"\");\n                    this.setState({ tooLarge: true });\n                  }\n                }}/>\n                {this.state.uploading\n\t\t\t\t\t\t\t\t\t? <LinearProgress color=\"secondary\" />\n                  : null\n\t\t\t\t\t\t\t\t}\n                {/*\n                <div className=\"video-upload\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"video-upload-input\" >\n\t\t                {!this.state.uploading\n\t\t\t\t\t\t\t\t\t\t\t? <Button color=\"secondary\" variant=\"outlined\" component=\"span\">\n                        <CloudUploadIcon style={{ marginRight: 8 }} />Загрузить видео\n\t\t                \t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t: <CircularProgress color=\"secondary\" />\n\t\t\t\t\t\t\t\t\t\t}\n              \t\t</label>\n\t\t\t\t\t\t\t\t</div>\n                */}\n\t\t\t\t\t\t\t\t<br/>\n              {\n                this.state.serverError\n                  ? <div className=\"field-error\">{this.state.serverError}</div>\n                  : null\n              }\n              {\n                this.state.tooLarge\n                  ? <div className=\"field-error\">Максимальный размер видео 50MB</div>\n                  : null\n              }\n              <TextField\n                name=\"text\"\n                value={values.text}\n                multiline\n                rowsMax={16}\n                rows={6}\n                label='Текст'\n                margin=\"normal\"\n                variant=\"filled\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                error={touched.text && Boolean(errors.text)}\n                helperText={errors.text && touched.text ? errors.text : \"\"}\n                style={{\n                  width: \"100%\"\n                }}/>\n              <br/>\n            </Form>)\n          }\n        </Formik>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={this.handleClose} color=\"primary\">\n          Отмена\n        </Button>\n        <Button onClick={this.handleSubmit} color=\"primary\" disabled={this.state.uploading}>\n          Сохранить\n        </Button>\n      </DialogActions>\n    </Dialog>)\n  }\n}\n","import React, { Component } from 'react'\r\n\r\nimport TextEditor from '../cardEditor/TextEditor';\r\nimport ForkEditor from '../cardEditor/ForkEditor';\r\nimport MenuEditor from '../cardEditor/MenuEditor';\r\nimport InputEditor from '../cardEditor/InputEditor';\r\nimport RewindEditor from '../cardEditor/RewindEditor';\r\nimport ImageEditor from '../cardEditor/ImageEditor';\r\nimport FileEditor from '../cardEditor/FileEditor';\r\nimport OrderEditor from '../cardEditor/OrderEditor';\r\nimport PauseEditor from '../cardEditor/PauseEditor';\r\nimport ContactEditor from '../cardEditor/ContactEditor';\r\nimport GeoEditor from '../cardEditor/GeoEditor';\r\nimport VideoEditor from '../cardEditor/VideoEditor';\r\n\r\n// Card types\r\n\r\nexport default class cardEditor extends Component {\r\n\tgetEditor = () => {\r\n\t\tswitch (this.props.type) {\r\n\t\t\tcase 'text':\r\n\t\t\t\treturn <TextEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'fork':\r\n\t\t\t\treturn <ForkEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'menu':\r\n\t\t\t\treturn <MenuEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'input':\r\n\t\t\t\treturn <InputEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'rewind':\r\n\t\t\t\treturn <RewindEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <ImageEditor editCard={this.props.onCreate} data={null} botId={this.props.botId} />;\r\n\t\t\tcase 'video':\r\n\t\t\t\treturn <VideoEditor editCard={this.props.onCreate} data={null} botId={this.props.botId} />;\r\n\t\t\tcase 'file':\r\n\t\t\t\treturn <FileEditor editCard={this.props.onCreate} data={null} botId={this.props.botId} />;\r\n\t\t\tcase 'order':\r\n\t\t\t\treturn <OrderEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'pause':\r\n\t\t\t\treturn <PauseEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'contact':\r\n\t\t\t\treturn <ContactEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tcase 'geo':\r\n\t\t\t\treturn <GeoEditor editCard={this.props.onCreate} data={null} />;\r\n\t\t\tdefault:\r\n\t\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\tthis.props.open ? this.getEditor() : null\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport TextEditor from '../cardEditor/TextEditor';\r\nimport ForkEditor from '../cardEditor/ForkEditor';\r\nimport MenuEditor from '../cardEditor/MenuEditor';\r\nimport InputEditor from '../cardEditor/InputEditor';\r\nimport RewindEditor from '../cardEditor/RewindEditor';\r\nimport ImageEditor from '../cardEditor/ImageEditor';\r\nimport FileEditor from '../cardEditor/FileEditor';\r\nimport OrderEditor from '../cardEditor/OrderEditor';\r\nimport PauseEditor from '../cardEditor/PauseEditor';\r\nimport ContactEditor from '../cardEditor/ContactEditor';\r\nimport GeoEditor from '../cardEditor/GeoEditor';\r\nimport VideoEditor from '../cardEditor/VideoEditor';\r\n\r\nexport default class CardEditor extends Component {\r\n\teditorType = () => {\r\n\t\tswitch (this.props.type) {\r\n\t\t\tcase 'text':\r\n\t\t\t\treturn <TextEditor editCard={this.props.editCard} data={this.props.data}/>;\r\n\t\t\tcase 'fork':\r\n\t\t\t\treturn <ForkEditor editCard={this.props.editCard} data={this.props.data}/>;\r\n\t\t\tcase 'menu':\r\n\t\t\t\treturn <MenuEditor editCard={this.props.editCard} data={this.props.data}/>;\r\n\t\t\tcase 'input':\r\n\t\t\t\treturn <InputEditor editCard={this.props.editCard} data={this.props.data}/>;\r\n\t\t\tcase 'rewind':\r\n\t\t\t\treturn <RewindEditor editCard={this.props.editCard} data={this.props.data}/>;\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <ImageEditor editCard={this.props.editCard} data={this.props.data} botId={this.props.botId}/>;\r\n\t\t\tcase 'video':\r\n\t\t\t\treturn <VideoEditor editCard={this.props.editCard} data={this.props.data} botId={this.props.botId}/>;\r\n\t\t\tcase 'file':\r\n\t\t\t\treturn <FileEditor editCard={this.props.editCard} data={this.props.data} botId={this.props.botId}/>;\r\n\t\t\tcase 'order':\r\n\t\t\t\treturn <OrderEditor editCard={this.props.editCard} data={this.props.data} botId={this.props.botId}/>;\r\n\t\t\tcase 'pause':\r\n\t\t\t\treturn <PauseEditor editCard={this.props.editCard} data={this.props.data} botId={this.props.botId}/>;\r\n\t\t\tcase 'contact':\r\n\t\t\t\treturn <ContactEditor editCard={this.props.editCard} data={this.props.data}/>;\r\n\t\t\tcase 'geo':\r\n\t\t\t\treturn <GeoEditor editCard={this.props.editCard} data={this.props.data}/>;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.open ? this.editorType() : null}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Message from '@material-ui/icons/MessageOutlined';\r\n\r\nclass Element extends Component {\r\n\trender() {\r\n\t\tif (this.props.data.text) {\r\n\t\t\tvar text = this.props.data.text;\r\n\t\t\tif (text.length < 200) {\r\n\t\t\t\ttext = text.substring(0, 200);\r\n\t\t\t} else {\r\n\t\t\t\ttext = text.substring(0, 200) + '...';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<CardContent>\r\n\t\t\t\t<div className=\"card-type\">\r\n\t\t\t\t\t<Message className=\"card-type_icon\" style={{ fontSize: 16 }}/>Текст\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography component=\"p\" className=\"card-p\">{text}</Typography>\r\n\t\t\t</CardContent>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Element;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport DeviceHub from '@material-ui/icons/DeviceHub';\r\nimport getPages from '../../../helpers/getPages';\r\n\r\nclass Element extends Component {\r\n\trender() {\r\n\t\tvar pages = getPages(this.props.editor);\r\n\t\treturn (\r\n\t\t\t<CardContent style={{paddingBottom: 0}}>\r\n\t\t\t\t<div className=\"card-type\">\r\n\t\t\t\t\t<DeviceHub className=\"card-type_icon\" style={{ fontSize: 16 }}/>Развилка\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.props.value.map((el, index) => (\r\n\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t{el.text} 🡒 {pages.find(page => page.id === el.id) ? pages.find(page => page.id === el.id).name : ''}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</CardContent>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\teditor: state.editor\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Element);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport MenuIcon from '@material-ui/icons/MenuOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nclass Element extends Component {\r\n\trender() {\r\n\t\tif (this.props.data.text) {\r\n\t\t\tvar descr = this.props.data.text;\r\n\t\t\tif (descr.length < 200) {\r\n\t\t\t\tdescr = descr.substring(0, 200);\r\n\t\t\t} else {\r\n\t\t\t\tdescr = descr.substring(0, 200) + '...';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<CardContent style={{paddingBottom: 6 }}>\r\n\t\t\t\t<div className=\"card-type\">\r\n\t\t\t\t\t<MenuIcon className=\"card-type_icon\" style={{ fontSize: 16 }}/>Меню\r\n\t\t\t\t</div>\r\n\t\t\t\t{ this.props.data.text ? (\r\n\t\t\t\t\t<Typography style={{ marginBottom: '8px'}} component=\"p\" className=\"card-p\">{descr}</Typography>\r\n\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t\t</CardContent>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\teditor: state.editor\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Element);\r\n","import React, { Component } from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport InputIcon from '@material-ui/icons/Input';\r\nimport { Translate } from \"react-localize-redux\";\r\n\r\nclass Element extends Component {\r\n\trender() {\r\n\t\tif (this.props.descr) {\r\n\t\t\tvar descr = this.props.descr; \r\n\t\t\tif (descr.length < 200) {\r\n\t\t\t\tdescr = descr.substring(0, 200);\r\n\t\t\t} else {\r\n\t\t\t\tdescr = descr.substring(0, 200) + '...';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<CardContent style={{paddingBottom: 0}}>\r\n\t\t\t\t<div className=\"card-type\">\r\n\t\t\t\t\t<InputIcon className=\"card-type_icon\" style={{ fontSize: 16 }}/><Translate id=\"editor.elements.input\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography component=\"p\" className=\"card-p\" style={{ marginTop: '8px'}}>\r\n\t\t\t\t\t{descr}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"p\" className=\"card-p\" style={{ marginTop: '8px'}}>\r\n\t\t\t\t\t{`{${this.props.value}}`}\r\n\t\t\t\t</Typography>\r\n\t\t\t</CardContent>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Element;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport FastForward from '@material-ui/icons/FastForward';\r\nimport getPages from '../../../helpers/getPages';\r\nimport { Translate } from \"react-localize-redux\";\r\n\r\nclass Element extends Component {\r\n\trender() {\r\n\t\tvar pages = getPages(this.props.editor);\r\n\t\treturn (\r\n\t\t\t<CardContent style={{paddingBottom: 0}}>\r\n\t\t\t\t<div className=\"card-type\">\r\n\t\t\t\t\t<FastForward className=\"card-type_icon\" style={{ fontSize: 16 }}/><Translate id=\"editor.elements.rewind\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography component=\"p\" className=\"card-p\">\r\n\t\t\t\t\t{pages.find(page => page.id === this.props.value) ? pages.find(page => page.id === this.props.value).name : ''}\r\n\t\t\t\t</Typography>\r\n\t\t\t</CardContent>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\teditor: state.editor\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Element);","import React, { Component } from 'react';\n\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Image from '@material-ui/icons/ImageOutlined';\n\nclass Element extends Component {\n\trender() {\n\t\tif (this.props.data.text) {\n\t\t\tvar descr = this.props.data.text;\n\t\t\tif (descr.length < 200) {\n\t\t\t\tdescr = descr.substring(0, 200);\n\t\t\t} else {\n\t\t\t\tdescr = descr.substring(0, 200) + '...';\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t[<CardMedia\n\t\t\t\t\tkey=\"cardMedia\"\n\t\t\t\t\timage={this.props.data.image}\n\t\t\t\t\tstyle={{ paddingTop: '56.25%', height: '0' }}\n\t\t\t/>,\n\t\t\t<CardContent key=\"cardContent\">\n\t\t\t\t<div className=\"card-type\">\n\t\t\t\t\t<Image className=\"card-type_icon\" style={{ fontSize: 16 }}/>Изображение\n\t\t\t\t</div>\n\t\t\t\t<Typography component=\"p\" className=\"card-p\">\n\t\t\t\t\t{descr}\n\t\t\t\t</Typography>\n\t\t\t</CardContent>]\n\t\t)\n\t}\n}\n\nexport default Element;\n","import React, { Component } from 'react';\n\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport VideoIcon from '@material-ui/icons/MovieOutlined';\nimport VideoPlaceholder from '../../../assets/img/VideoPlaceholder.svg';\n\n\nclass Element extends Component {\n\trender() {\n\t\tif (this.props.data.text) {\n\t\t\tvar descr = this.props.data.text;\n\t\t\tif (descr.length < 200) {\n\t\t\t\tdescr = descr.substring(0, 200);\n\t\t\t} else {\n\t\t\t\tdescr = descr.substring(0, 200) + '...';\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t[<CardMedia\n\t\t\t\t\tkey=\"cardMedia\"\n\t\t\t\t\timage={VideoPlaceholder}\n\t\t\t\t\tstyle={{ paddingTop: '56.25%', height: '0' }}\n\t\t\t/>,\n\t\t\t<CardContent key=\"cardContent\">\n\t\t\t\t<div className=\"card-type\">\n\t\t\t\t\t<VideoIcon className=\"card-type_icon\" style={{ fontSize: 16 }}/>Видео\n\t\t\t\t</div>\n\t\t\t\t<Typography component=\"p\" className=\"card-p\">\n\t\t\t\t\t{descr}\n\t\t\t\t</Typography>\n\t\t\t</CardContent>]\n\t\t)\n\t}\n}\n\nexport default Element;\n","import React, { Component } from 'react';\n\nimport CardContent from '@material-ui/core/CardContent';\nimport File from '@material-ui/icons/AttachFile';\nimport Folder from '@material-ui/icons/Folder';\nimport { Translate } from \"react-localize-redux\";\n\nclass Element extends Component {\n\trender() {\n\t\tif (this.props.descr) {\n\t\t\tvar descr = this.props.descr; \n\t\t\tif (descr.length < 200) {\n\t\t\t\tdescr = descr.substring(0, 200);\n\t\t\t} else {\n\t\t\t\tdescr = descr.substring(0, 200) + '...';\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<CardContent style={{paddingBottom: 0}} key=\"cardContent\">\n\t\t\t\t<div className=\"card-type\">\n\t\t\t\t\t<File className=\"card-type_icon\" style={{ fontSize: 16 }}/><Translate id=\"editor.elements.file\" />\n\t\t\t\t</div>\n\t\t\t\t<a className=\"file-link\" href={this.props.value} target=\"blank\">\n\t\t\t\t\t<Folder style={{ fontSize: 48, marginRight: '10px' }} /> {this.props.value.match(/_(?:.(?!_))+$/g)[0].substring(1)}\n\t\t\t\t</a>\n\t\t\t</CardContent>\n\t\t)\n\t}\n}\n\nexport default Element;","import React, { Component } from 'react';\n\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\nimport { Translate } from \"react-localize-redux\";\n\nclass Element extends Component {\n\trender() {\n\t\tif (this.props.value.response) {\n\t\t\tvar response = this.props.value.response; \n\t\t\tif (response.length < 200) {\n\t\t\t\tresponse = response.substring(0, 200);\n\t\t\t} else {\n\t\t\t\tresponse = response.substring(0, 200) + '...';\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<CardContent style={{paddingBottom: 0}}>\n\t\t\t\t<div className=\"card-type\">\n\t\t\t\t\t<ShoppingCart className=\"card-type_icon\" style={{ fontSize: 16 }}/><Translate id=\"editor.elements.order\" />\n\t\t\t\t</div>\n\t\t\t\t<Typography component=\"p\" className=\"card-p\">\n\t\t\t\t\t{response}\n\t\t\t\t</Typography>\n\t\t\t</CardContent>\n\t\t)\n\t}\n}\n\nexport default Element;","import React, { Component } from 'react';\n\nimport CardContent from '@material-ui/core/CardContent';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport { Translate } from \"react-localize-redux\";\n\n\nclass Element extends Component {\n\trender() {\n\t\tvar secondsLabel;\n\t\tif (this.props.value <= 1) {\n\t\t\tsecondsLabel = <Translate id=\"editor.second\" />;\n\t\t} else {\n\t\t\tsecondsLabel = <Translate id=\"editor.seconds\" />;\n\t\t}\n\t\treturn (\n\t\t\t<CardContent style={{paddingBottom: 0}}>\n\t\t\t\t<div className=\"card-type\">\n\t\t\t\t\t<PauseIcon className=\"card-type_icon\" style={{ fontSize: 16 }}/><Translate id=\"editor.elements.pause\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-content-compact\">\n\t\t\t\t\t{this.props.value} {secondsLabel}\n\t\t\t\t</div>\n\t\t\t</CardContent>\n\t\t)\n\t}\n}\n\nexport default Element;","import React, { Component } from 'react';\n\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport ContactIcon from '@material-ui/icons/AccountBox';\nimport { Translate } from \"react-localize-redux\";\n\nclass Element extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<CardContent style={{paddingBottom: 0}}>\n\t\t\t\t<div className=\"card-type\">\n\t\t\t\t\t<ContactIcon className=\"card-type_icon\" style={{ fontSize: 16 }}/><Translate id=\"editor.elements.contact\" />\n\t\t\t\t</div>\n\t\t\t\t<Typography component=\"p\" className=\"card-p\">{this.props.value}</Typography>\n\t\t\t</CardContent>\n\t\t)\n\t}\n}\n\nexport default Element;\n","import React, { Component } from 'react';\n\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport GeoIcon from '@material-ui/icons/LocationOn';\nimport { Translate } from \"react-localize-redux\";\n\nclass Element extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<CardContent style={{paddingBottom: 0}}>\n\t\t\t\t<div className=\"card-type\">\n\t\t\t\t\t<GeoIcon className=\"card-type_icon\" style={{ fontSize: 16 }}/><Translate id=\"editor.elements.geo\" />\n\t\t\t\t</div>\n\t\t\t\t<Typography component=\"div\" className=\"card-p\">\n\t\t\t\t\t<Typography className=\"card-p\"><Translate id=\"forms.latitude\"/>: {this.props.value.latitude}</Typography>\n\t\t\t\t\t<Typography className=\"card-p\"><Translate id=\"forms.longitude\"/>: {this.props.value.longitude}</Typography>\n\t\t\t\t</Typography>\n\t\t\t</CardContent>\n\t\t)\n\t}\n}\n\nexport default Element;\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../store/actions';\r\n\r\nimport Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport EditIcon from '@material-ui/icons/EditOutlined';\r\n// import DuplicateIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport CardEditor from './CardEditor';\r\n\r\n// Card content\r\nimport TextContent from './cardContent/TextCard';\r\nimport ForkContent from './cardContent/ForkCard';\r\nimport MenuContent from './cardContent/MenuCard';\r\nimport InputContent from './cardContent/InputCard';\r\nimport RewindContent from './cardContent/RewindCard';\r\nimport ImageContent from './cardContent/ImageCard';\r\nimport VideoContent from './cardContent/VideoCard';\r\nimport FileContent from './cardContent/FileCard';\r\nimport OrderContent from './cardContent/OrderCard';\r\nimport PauseContent from './cardContent/PauseCard';\r\nimport ContactContent from './cardContent/ContactCard';\r\nimport GeoContent from './cardContent/GeoCard';\r\n\r\nclass Element extends Component {\r\n\tstate = {\r\n\t\teditor: false\r\n\t}\r\n\tdeleteCard = () => {\r\n\t\tthis.props.removeElement(this.props.chainIndex, this.props.pageIndex, this.props.index);\r\n\t}\r\n\r\n\teditCard = (data) => {\r\n\t\t// this.props.enableEditorDrag();\r\n\t\tif (data === null) {\r\n\t\t\tthis.setState({ editor: false });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.editElement(this.props.chainIndex, this.props.pageIndex, this.props.index, data);\r\n\t\tthis.setState({ editor: false });\r\n\t}\r\n\r\n\thandleEdit = () => {\r\n\t\t// this.props.disableEditorDrag();\r\n\t\tthis.setState({ editor: true });\r\n\t}\r\n\r\n\thandleDuplicate = () => {\r\n\t\t// TODO Duplicate the card\r\n\t\tthis.props.duplicateElement(this.props.chainIndex, this.props.pageIndex, this.props.index);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst cardContent = () => {\r\n\t\t\tswitch (this.props.type) {\r\n\t\t\t\tcase 'text':\r\n\t\t\t\t\treturn <TextContent data={this.props.data} />;\r\n\t\t\t\tcase 'fork':\r\n\t\t\t\t\treturn <ForkContent data={this.props.data} />;\r\n\t\t\t\tcase 'menu':\r\n\t\t\t\t\treturn <MenuContent data={this.props.data}  />;\r\n\t\t\t\tcase 'input':\r\n\t\t\t\t\treturn <InputContent data={this.props.data} />;\r\n\t\t\t\tcase 'rewind':\r\n\t\t\t\t\treturn <RewindContent data={this.props.data} />;\r\n\t\t\t\tcase 'image':\r\n\t\t\t\t\treturn <ImageContent data={this.props.data} botId={this.props.botId} />;\r\n\t\t\t\tcase 'video':\r\n\t\t\t\t\treturn <VideoContent data={this.props.data} botId={this.props.botId} />;\r\n\t\t\t\tcase 'file':\r\n\t\t\t\t\treturn <FileContent data={this.props.data} botId={this.props.botId} />;\r\n\t\t\t\tcase 'order':\r\n\t\t\t\t\treturn <OrderContent data={this.props.data} />;\r\n\t\t\t\tcase 'pause':\r\n\t\t\t\t\treturn <PauseContent data={this.props.data} />;\r\n\t\t\t\tcase 'contact':\r\n\t\t\t\t\treturn <ContactContent data={this.props.data} />;\r\n\t\t\t\tcase 'geo':\r\n\t\t\t\t\treturn <GeoContent data={this.props.data} />;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\televation={1}\r\n\t\t\t\tclassName=\"card\"\r\n\t\t\t>\r\n\r\n\t\t\t\t{cardContent()}\r\n\t\t\t\t<div className=\"card-small-actions\">\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\tclassName=\"card-small_btn\"\r\n\t\t\t\t\t\tonClick={this.handleEdit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditIcon fontSize=\"inherit\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t<IconButton sizeSmall aria-label=\"Copy\" onClick={this.handleDuplicate}>\r\n\t\t\t\t\t\t<DuplicateIcon fontSize=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\tclassName=\"card_delete card-small_btn\"\r\n\t\t\t\t\t\tonClick={this.deleteCard}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteIcon fontSize=\"inherit\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/*\r\n\t\t\t\t<CardActions disableActionSpacing className=\"card-actions\" style={{ paddingTop: '0px' }}>\r\n\t\t\t\t\t<IconButton aria-label=\"Edit\" onClick={this.handleEdit}>\r\n\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton aria-label=\"Copy\" onClick={this.handleDuplicate}>\r\n\t\t\t\t\t\t<DuplicateIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton aria-label=\"Delete\" className=\"card_delete\" onClick={this.deleteCard}>\r\n\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</CardActions>\r\n\t\t\t\t*/}\r\n\t\t\t\t<CardEditor\r\n\t\t\t\t\topen={this.state.editor}\r\n\t\t\t\t\teditCard={this.editCard}\r\n\t\t\t\t\ttype={this.props.type}\r\n\t\t\t\t\tdata={this.props.data}\r\n\t\t\t\t\tbotId={this.props.botId}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tremoveElement: (chainIndex, pageIndex, index) => dispatch({ type: actions.REMOVE_ELEMENT, index, chainIndex, pageIndex }),\r\n\t\teditElement: (chainIndex, pageIndex, index, data) => dispatch({ type: actions.EDIT_ELEMENT, data, index, chainIndex, pageIndex }),\r\n\t\tduplicateElement: (chainIndex, pageIndex, index) => dispatch({ type: actions.DUPLICATE_ELEMENT, index, chainIndex, pageIndex }),\r\n\t\tdisableEditorDrag: () => dispatch({ type: actions.DISABLE_EDITOR_DRAG }),\r\n\t\tenableEditorDrag: () => dispatch({ type: actions.ENABLE_EDITOR_DRAG })\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Element);\r\n","import React, { Component } from 'react';\r\nimport * as actions from '.././store/actions';\r\nimport { connect } from 'react-redux';\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\n\r\nimport OutsideClickHandler from 'react-outside-click-handler';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/DeleteForeverOutlined';\r\nimport AddIcon from '@material-ui/icons/AddOutlined';\r\n// import MoreIcon from '@material-ui/icons/MoreVert';\r\n// import DuplicateIcon from '@material-ui/icons/FileCopy';\r\n// import Menu from '@material-ui/core/Menu';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import ListItemIcon from '@material-ui/core/ListItemIcon';\r\n// import ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport CardTypeSelector from './card/CardTypeSelector';\r\nimport CardCreator from './card/CardCreator';\r\nimport Element from './card/Element';\r\n\r\nclass Page extends Component {\r\n\tstate = {\r\n\t\ttypeSelector: false,\r\n\t\tcardCreator: false,\r\n\t\tnewCardType: null,\r\n\t\ttitleEditing: false,\r\n\t\tmenu: null,\r\n\t\tnewTtile: ''\r\n\t}\r\n\r\n\thandleCardCreateTrigger = () => {\r\n\t\tthis.setState({ typeSelector: true });\r\n\t}\r\n\r\n\thandleTypeSelectorClose = type => {\r\n\t\tthis.setState({ typeSelector: false });\r\n\t\tif (type === null) { return };\r\n\r\n\t\tthis.setState({ cardCreator: true, newCardType: type });\r\n\t}\r\n\r\n\thandleCardCreate = (data) => {\r\n\t\tif (data === null) {\r\n\t\t\tthis.setState({ cardCreator: false, newCardType: null});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.createCard(this.props.chainIndex, this.props.pageIndex, data);\r\n\t\tthis.setState({ cardCreator: false, newCardType: null});\r\n\t}\r\n\r\n\thandleTitleEditingToggle = () => {\r\n\t\tthis.setState({\r\n\t\t\ttitleEditing: true,\r\n\t\t\tnewTitle: this.props.name\r\n\t\t});\r\n\t}\r\n\r\n\thandlePageTitleChange = (event) => {\r\n\t\tthis.setState({ newTitle: event.target.value });\r\n\t}\r\n\r\n\thandleTitleEditingFinish = () => {\r\n\t\tif(this.state.newTitle.length > 0){\r\n\t\t\tthis.setState({ titleEditing: false });\r\n\t\t\tif (this.props.name !== this.state.newTitle) {\r\n\t\t\t\tthis.props.editPageTitle(this.props.chainIndex, this.props.pageIndex, this.state.newTitle);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setState({ titleEditing: false, newTitle: '' });\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleMenu = (state) => {\r\n\t\tthis.setState({ menu: state });\r\n\t}\r\n\r\n\thandleDuplicate = () => {\r\n\t\tthis.setState({ menu: null });\r\n\t\tthis.props.duplicatePage(this.props.chainIndex, this.props.pageIndex)\r\n\t}\r\n\r\n\thandleDelete = () => {\r\n\t\tthis.setState({ menu: null });\r\n\t\tthis.props.removePage(this.props.chainIndex, this.props.pageIndex)\r\n\t}\r\n\r\n  render() {\r\n    return (\r\n\t\t\t<div className=\"page\">\r\n\t\t\t\t<header className=\"page-header\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.titleEditing\r\n\t\t\t\t\t\t?\t<OutsideClickHandler onOutsideClick={this.handleTitleEditingFinish}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t        multiline\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.newTitle}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Название страницы\"\r\n\t\t\t\t\t        margin=\"normal\"\r\n\t\t\t\t\t        variant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tonChange={this.handlePageTitleChange}\r\n\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t      />\r\n\t\t\t\t\t\t\t</OutsideClickHandler>\r\n\t\t\t\t\t\t: <div className=\"page-title\" >{this.props.name}</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t<div className=\"page-menu\">\r\n\t\t\t\t\t\t<IconButton aria-label=\"Screen menu\" onClick={(e) => this.toggleMenu(e.currentTarget)}>\r\n\t            <MoreIcon />\r\n\t          </IconButton>\r\n\t\t\t      <Menu\r\n\t\t\t        keepMounted\r\n\t\t\t\t\t\t\tanchorEl={this.state.menu}\r\n\t\t\t        open={Boolean(this.state.menu)}\r\n\t\t\t        onClose={() => this.toggleMenu(null)}\r\n\t\t\t      >\r\n\t\t\t        <MenuItem onClick={this.handleDuplicate}>\r\n\t\t\t\t\t\t\t\t<ListItemIcon><DuplicateIcon /></ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary=\"Копировать\" />\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t        <MenuItem onClick={this.handleDelete}>\r\n\t\t\t\t\t\t\t\t<ListItemIcon><DeleteIcon /></ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary=\"Удалить\" />\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t      </Menu>\r\n\t\t\t    </div>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t<IconButton aria-label=\"Delete\" className=\"page-remove\" onClick={() => this.props.removePage(this.props.chainIndex, this.props.pageIndex)}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n\t\t\t\t</header>\r\n\t\t\t\t<Droppable\r\n\t\t\t\t\ttype=\"card\"\r\n\t\t\t\t\tdroppableId={this.props.pageId+':'+this.props.chainIndex+':'+this.props.pageIndex}>\r\n          {provided => (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"page-cards\"\r\n\t\t\t\t\t\t\t{...provided.droppableProps}\r\n\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\tstyle={{marginBottom: 14}}\r\n\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t{this.props.elements.map((el, index) => (\r\n\t\t\t\t\t\t\t\t\t<Draggable\r\n\t\t\t\t\t\t        draggableId={\"card:\"+el.id+\":\"+this.props.chainIndex+\":\"+this.props.pageIndex}\r\n\t\t\t\t\t\t\t\t\t\tchainIndex={this.props.chainIndex}\r\n\t\t\t\t\t\t\t\t\t\tpageIndex={this.props.pageIndex}\r\n\t\t\t\t\t\t        index={index}\r\n\t\t\t\t\t\t\t\t\t\tkey={el.id}\r\n\t\t\t\t\t\t\t\t\t\tisDragDisabled={true ? true : this.props.editorDragDisabled}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{provided => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"card-container\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Element\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={el.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbotId={this.props.botId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchainIndex={this.props.chainIndex}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpageIndex={this.props.pageIndex}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={el.type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata={el.data}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={el.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Draggable>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{provided.placeholder}\r\n\t\t\t\t\t\t</div>\r\n          )}\r\n\t\t\t\t</Droppable>\r\n\t\t\t\t<footer className=\"add-card\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonClick={this.handleCardCreateTrigger}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AddIcon style={{ marginRight: 8 }} />\r\n\t\t\t\t\t\tДобавить элемент\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<CardTypeSelector\r\n\t\t\t\t\t\topen={this.state.typeSelector}\r\n\t\t\t\t\t\tonClose={this.handleTypeSelectorClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<CardCreator\r\n\t\t\t\t\t\tbotId={this.props.botId}\r\n\t\t\t\t\t\topen={this.state.cardCreator}\r\n\t\t\t\t\t\ttype={this.state.newCardType}\r\n\t\t\t\t\t\tonCreate={this.handleCardCreate}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</footer>\r\n\t\t\t\t{/*\r\n\t\t\t\t<div className=\"page-divider\"></div>\r\n\t\t\t\t*/}\r\n\t\t\t</div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\teditorDragDisabled: state.editorDragDisabled\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tcreateCard: (chainIndex, pageIndex, data) => dispatch({ type: actions.ADD_ELEMENT, chainIndex, pageIndex, data }),\r\n\t\tremovePage: (chainIndex, pageIndex) => dispatch({ type: actions.REMOVE_PAGE, chainIndex, pageIndex }),\r\n\t\teditPageTitle: (chainIndex, pageIndex, newTitle) => dispatch({ type: actions.EDIT_PAGE_TITLE, chainIndex, pageIndex, newTitle }),\r\n\t\tduplicatePage: (chainIndex, pageIndex) => dispatch({ type: actions.DUPLICATE_PAGE, chainIndex, pageIndex })\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Page);\r\n","import React from 'react'\r\nimport * as Yup from 'yup';\r\n\r\nimport { Formik, Form } from 'formik'\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst validationSchema =  Yup.object().shape({\r\n  pageName: Yup.string()\r\n  .required('Это поле обязательно'),\r\n});\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n\t\t\tlight: \"#6d6d6d\",\r\n\t\t\tmain: \"#424242\",\r\n\t\t\tdark: \"#1b1b1b\",\r\n\t\t\tcontrastText: \"#ffffff\"\r\n    },\r\n  },\r\n})\r\n\r\nexport default (props) => {\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tonSubmit={props.onSubmit}\r\n\t\t\tinitialValues={{pageName: ''}}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t>\r\n\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\r\n\t\t\t\t<Form onSubmit={handleSubmit}>\r\n          <MuiThemeProvider theme={theme}>\r\n  \t\t\t\t\t<TextField\r\n  \t\t\t\t\t\ttype=\"text\"\r\n  \t\t\t\t\t\tname=\"pageName\"\r\n  \t\t\t\t\t\tlabel=\"Название страницы\"\r\n              color=\"secondary\"\r\n  \t\t\t\t\t\tmargin=\"normal\"\r\n  \t\t\t\t\t\tvariant=\"filled\"\r\n              autoFocus={true}\r\n  \t\t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t\t\tonBlur={handleBlur}\r\n  \t\t\t\t\t\trequired\r\n  \t\t\t\t\t\tstyle={{width: '100%'}}\r\n  \t\t\t\t\t/>\r\n          </MuiThemeProvider>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Button onClick={handleSubmit} color=\"secondary\" >\r\n            Создать\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t)}\r\n\t\t</Formik>\r\n\t)\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport * as actions from '../store/actions';\r\nimport { connect } from 'react-redux';\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\n\r\nimport Page from './Page';\r\nimport CreatePage from './CreatePage';\r\nimport OutsideClickHandler from 'react-outside-click-handler';\r\n\r\nclass Chain extends Component {\r\n\tstate = {\r\n\t\tadder: false,\r\n\t}\r\n\r\n\thandlePageAddTrigger = () => {\r\n\t\tthis.setState({adder: true});\r\n\t}\r\n\r\n\thandleOutsideClick = () => {\r\n\t\tthis.setState({adder: false});\r\n\t}\r\n\r\n\thandlePageAddSubmit = (values, action) => {\r\n\t\tthis.props.addPage(this.props.chainIndex, values.pageName)\r\n\t\tthis.setState({adder: false});\r\n\t}\r\n\r\n\thandleCardCreate = (pageId, data) => {\r\n\t\tthis.props.addElement(this.props.index, pageId, data);\r\n\t}\r\n\r\n\thandleCardDelete = (pageId, id) => {\r\n\t\tthis.props.removeElement(this.props.index, pageId, id);\r\n\t}\r\n\r\n\thandleCardEdit = (pIndex, eIndex, value) => {\r\n\t\tthis.props.editElement(this.props.index, pIndex, eIndex, value);\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar adder = <div className=\"add-page_btn\"><i className=\"material-icons\">add</i> Добавить страницу</div>;\r\n\t\tif (this.state.adder) {\r\n\t\t\tadder = <CreatePage onSubmit={this.handlePageAddSubmit} />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"chain\">\r\n\t\t\t\t\t<Droppable\r\n\t\t\t\t\t\ttype=\"page\"\r\n\t\t\t\t\t\tdroppableId={this.props.chainIndex+\"\"}>\r\n\t          {provided => (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t{...provided.droppableProps}\r\n\t\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t\tclassName=\"page-droppable\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.props.data.map((page, index) =>\r\n\t\t\t\t\t\t\t\t\t\t<Draggable\r\n\t\t\t\t\t\t\t        draggableId={\"page:\"+this.props.chainIndex+\":\"+index+\":\"+page.id}\r\n\t\t\t\t\t\t\t        index={index}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={page.id}\r\n\t\t\t\t\t\t\t\t\t\t\tisDragDisabled={true ? true : this.props.editorDragDisabled}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{provided => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"page-container\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Page\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbotId={this.props.botId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleCardCreate={this.handleCardCreate}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleCardDelete={this.handleCardDelete}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleCardEdit={this.handleCardEdit}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={page.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpageId={page.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchainIndex={this.props.chainIndex}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpageIndex={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...page}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Draggable>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{provided.placeholder}\r\n\t\t\t\t\t\t\t</div>\r\n\t          )}\r\n\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t<OutsideClickHandler onOutsideClick={this.handleOutsideClick}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={this.state.adder ? \"add-page add-page--active\" : \"add-page\"} onClick={this.handlePageAddTrigger}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{adder}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</OutsideClickHandler>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\teditorDragDisabled: state.editorDragDisabled\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPage: (chainIndex, pageName) => dispatch({ type: actions.ADD_PAGE, chainIndex, pageName })\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Chain);\r\n","import React, { Component } from 'react'\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\n\r\nimport axios from '../api/axios';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../store/actions';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport AddIcon from '@material-ui/icons/AddOutlined';\r\nimport Chain from '../components/Chain';\r\n\r\nclass Editor extends Component {\r\n\tcomponentDidMount = () => {\r\n\t\tif(!this.props.editor){\r\n\t\t\taxios.get(`/api/bot_data/${this.props.match.params.id}/`, {\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.props.loadEditorData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n  onDragEnd = result => {\r\n    const { destination, source, draggableId } = result;\r\n\t\tthis.props.moveElement(destination, source, draggableId);\r\n  }\r\n\r\n\r\n  render() {\r\n\t\tvar chains;\r\n\t\tif (this.props.editor === null) {\r\n\t\t\tchains = <div className=\"text-center flex-grow\"><CircularProgress /></div>\r\n\t\t} else {\r\n\t\t\tchains = this.props.editor.data.map((el, index) => <Chain\r\n\t\t\t\tbotId={this.props.match.params.id}\r\n\t\t\t\tkey={index}\r\n\t\t\t\tchainIndex={index}\r\n\t\t\t\tdata={el}\r\n\t\t\t\taddElement={this.addElement}\r\n\t\t\t\tremoveElement={this.removeElement}\r\n\t\t\t\teditElement={this.editElement}\r\n\t\t\t\t />)\r\n\t\t}\r\n    return (\r\n      <div className=\"bot\">\r\n\t\t\t\t<DragDropContext\r\n\t\t\t\t\tonDragEnd={this.onDragEnd}\r\n\t\t\t\t>\r\n\t\t\t\t\t{chains}\r\n\t\t\t\t</DragDropContext>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.editor !== null ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={this.props.addChain}\r\n\t\t\t\t\t\t\tclassName=\"add-chain\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddIcon\r\n\t\t\t\t\t\t\t\tstyle={{ marginRight: 4 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tДобавить цепочку\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\teditor: state.editor,\r\n\t\teditorChanges: state.editorChanges\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tloadEditorData: (editor) => dispatch({ type: actions.LOAD_EDITOR_DATA, editor: editor }),\r\n\t\tclearEditorData: () => dispatch({ type: actions.CLEAR_EDITOR_DATA }),\r\n\t\taddChain: () => dispatch({ type: actions.ADD_CHAIN }),\r\n\t\tmoveElement: (destination, source, draggableId) => dispatch({ type: actions.MOVE_ELEMENT, destination, source, draggableId })\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor);\r\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\n\nconst NeedSub = ({ botId }) => {\n  return (\n    <div className=\"need-sub\">\n      <Typography variant=\"h5\" align=\"center\" color=\"secondary\" gutterBottom>\n        Получите доступ к разделу, оформив подписку\n      </Typography>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        className=\"button-link--primary\"\n        component={Link}\n        to={`/bot/${botId}/payment`}\n        style={{ marginTop: 8 }}\n      >\n        Оформить подиску\n      </Button>\n    </div>\n  )\n}\n\nexport default NeedSub;\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport PrevIcon from '@material-ui/icons/NavigateBefore';\nimport NextIcon from '@material-ui/icons/NavigateNext';\nimport TableCell from '@material-ui/core/TableCell';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\n\nexport default ({ currentPage, pages, onPageChange, loading }) => {\n  if(pages < 2 || pages === 0) return null;\n  return (\n    <TableCell\n      variant=\"footer\"\n      style={{ padding: '4px 8px' }}\n      colSpan=\"4\"\n      className=\"table-pagination-cell\"\n    >\n      {loading ? <LinearProgress className=\"table-pagination_loading\" /> : null}\n      <div className=\"table-pagination\">\n        <IconButton\n          disabled={currentPage === 1 || loading}\n          onClick={() => onPageChange(currentPage - 1)}\n        >\n          <PrevIcon />\n        </IconButton>\n        <Typography variant=\"caption\" display=\"inline\">{currentPage} / {pages}</Typography>\n        <IconButton\n          disabled={currentPage === pages || loading}\n          onClick={() => onPageChange(currentPage + 1)}\n        >\n          <NextIcon />\n        </IconButton>\n      </div>\n    </TableCell>\n  );\n}\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default () => {\n  return (\n    <div className=\"wrapper wrapper-oh\">\n      <div className=\"wrapper_loading\" >\n         <CircularProgress />\n      </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\r\nimport axios from '../api/axios';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport NeedSub from '../components/NeedSub';\r\nimport TablePagination from '../components/TablePagination';\r\nimport PageLoader from '../components/PageLoader';\r\n\r\nexport default class Users extends Component {\r\n\tstate = {\r\n\t\tdata: null,\r\n    pages: null,\r\n    tableLoading: false,\r\n\t\tcurrentPage: 1,\r\n    needSub: false\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\taxios.get(`/api/botusers/${this.props.match.params.id}/`)\r\n\t\t.then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: res.data.results,\r\n\t\t\t\tpages: res.data.count\r\n\t\t\t});\r\n\t\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\r\n\t\t})\r\n\t\t.catch(err => {\r\n      if(err.response.status === 403){\r\n        this.setState({ needSub: true });\r\n      } else {\r\n        console.log(err);\r\n      }\r\n\t\t});\r\n\t}\r\n\r\n  onPageChange = (newPage) => {\r\n    this.setState({ tableLoading: true });\r\n    axios.get(`/api/botusers/${this.props.match.params.id}/?page=${newPage}`)\r\n    .then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: res.data.results,\r\n\t\t\t\tpages: res.data.count,\r\n        currentPage: newPage,\r\n        tableLoading: false\r\n\t\t\t});\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  renderTableContent(){\r\n    if (!this.state.data.length) {\r\n      return <TableRow><TableCell align=\"center\" colSpan=\"4\">Нет данных</TableCell></TableRow>;\r\n    }\r\n  \treturn this.state.data.map((client, index) => {\r\n  \t\treturn (\r\n  \t\t\t<TableRow key={client.id}>\r\n  \t\t\t\t<TableCell>{client.first_name} {client.last_name}</TableCell>\r\n  \t\t\t\t<TableCell>{client.username}</TableCell>\r\n  \t\t\t\t<TableCell>{client.chat_id}</TableCell>\r\n  \t\t\t\t<TableCell align=\"right\">{client.date_in}</TableCell>\r\n  \t\t\t</TableRow>\r\n  \t\t);\r\n  \t});\r\n  }\r\n\r\n\trender() {\r\n    if(this.state.needSub){\r\n      return <div className=\"wrapper\"><NeedSub botId={this.props.match.params.id}/></div>\r\n    }\r\n\t\tif(!this.state.data) return <PageLoader />;\r\n\t\treturn (\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<Paper>\r\n\t\t\t\t\t<Table style={{width: '100%'}}>\r\n\t\t\t\t\t\t<TableHead style={{background: '#f5f5f5'}}>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell>Имя</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>Юзернейм</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>ID чата</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">Добавился</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>\r\n              {this.renderTableContent()}\r\n\t\t\t\t\t\t</TableBody>\r\n            <TableFooter>\r\n              <TableRow>\r\n                <TablePagination\r\n                  loading={this.state.tableLoading}\r\n                  currentPage={this.state.currentPage}\r\n                  pages={this.state.pages}\r\n                  onPageChange={this.onPageChange}\r\n                />\r\n              </TableRow>\r\n            </TableFooter>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n","export default (fileType) => {\n\tif(['image/jpeg', 'image/gif', 'image/png'].includes(fileType)){\n\t\treturn 'photo';\n\t} else if(['video/mp4'].includes(fileType)){\n\t\treturn 'video';\n\t} else {\n\t\treturn 'file';\n\t}\n}\n","import React from 'react';\nimport axios from '../api/axios';\nimport getFileType from '../helpers/getFileType';\n// import * as Yup from 'yup';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport AttachmentIcon from '@material-ui/icons/Attachment';\nimport AddIcon from '@material-ui/icons/AddOutlined';\nimport { Formik, Form } from 'formik'\n\n// const validationSchema =  Yup.object().shape({\n// \ttext: Yup.string()\n// \t.required(<Translate id=\"validation.required\" />),\n// });\n\n// function getTodaysDate(){\n// \tlet todayDate = new Date();\n// \tlet year = todayDate.getFullYear();\n// \tlet month = todayDate.getMonth() + 1;\n// \tmonth = month > 9 ? month : '0'+month;\n// \tlet day = todayDate.getDate() > 9 ? todayDate.getDate() : '0'+todayDate.getDate();\n//\n// \treturn year+'-'+month+'-'+day;\n// };\n//\n\nclass CreateCampaign extends React.Component {\n\tstate = {\n\t\topen: false,\n\t\tfileName: '',\n\t\ttooLarge: false,\n\t\tserverError: false,\n\t\tsubmiting: false\n\t};\n\n\thandleClickOpen = () => {\n\t\tthis.setState({ open: true });\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t\tfileName: '',\n\t\t\ttooLarge: false,\n\t\t\tserverError: false\n\t\t});\n\t};\n\n\thandleSubmit = () => {\n\t\tthis.form.submitForm();\n\t}\n\n\tonSubmit = (values, actions) => {\n\t\tthis.setState({ submiting: true });\n\t\tvar data = new FormData();\n\t\tif(values.file){\n\t\t\tlet fileType = getFileType(values.file.type);\n\t\t\tdata.append(fileType, values.file, values.file.name);\n\t\t}\n\t\tdata.append('text', values.text);\n\t\taxios.post(`/api/compaign_list/${this.props.botId}/`, data)\n\t\t.then(res => {\n\t\t\tif (res.data.error) {\n\t\t\t\tthis.setState({ serverError: res.data.error, submiting: false })\n\t\t\t\tactions.setSubmitting(false);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tactions.setSubmitting(false);\n\t\t\tactions.resetForm({});\n\t\t\tthis.props.submit(res.data);\n\t\t\tthis.setState({ open: false, submiting: false, fileName: '', tooLarge: false, serverError: false });\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err);\n\t\t\tactions.setSubmitting(false);\n\t\t\tthis.setState({ submiting: false, fileName: '', tooLarge: false, serverError: 'Ошибка на нашем сервере'});\n\t\t})\n\t}\n\n\trender() {\n\t\tvar submiting = null;\n\t\tif (this.state.submiting === true){\n\t\t\tsubmiting = <div className=\"submiting\" >\n\t\t\t\t<CircularProgress />\n\t\t\t</div>\n\t\t}\n\t\treturn (\n\t\t\t<div style={{ marginBottom: '24px' }}>\n\t\t\t\t<Button onClick={this.handleClickOpen} variant=\"contained\" color=\"primary\">\n\t\t\t\t\t<AddIcon style={{ marginRight: 8 }} />Создать рассылку\n\t\t\t\t</Button>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.state.open}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Создание рассылки</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t{submiting}\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\t\ttext: ''\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched, setFieldValue }) => (\n\t\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"mailing-file\" className=\"mailing-form_label\">\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" component=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t\t<AttachmentIcon style={{ marginRight: 8 }} />Изображение / Видео\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</label><br/>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"fileType\" />\n\t\t\t\t\t\t\t\t\t\t{this.state.fileName ? this.state.fileName : null}\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tname=\"file\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"mailing-file\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet fileName = event.currentTarget.files[0].name;\n\t\t\t\t\t\t\t\t\t\t\t\tlet fileSize = ((event.currentTarget.files[0].size/1024)/1024).toFixed(4);\n\t\t\t\t\t\t\t\t\t\t\t\tlet fileType = getFileType(event.currentTarget.files[0].type);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ serverError: false, tooLarge: false, fileName });\n\t\t\t\t\t\t\t\t\t\t\t\tif (fileType === 'photo' && fileSize <= 10) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('file', event.currentTarget.files[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if(fileType === 'video' && fileSize <= 50) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('file', event.currentTarget.files[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue('file', '');\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ tooLarge: true });\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{this.state.tooLarge ? <div className=\"field-error\">Максимальный размер: изображения 10MB, видео 50MB</div> : null}\n\t\t\t\t\t\t\t\t\t\t{this.state.serverError ? <div className=\"field-error\">{this.state.serverError}</div> : null}\n\t\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tname=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.text}\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\trowsMax={26}\n\t\t\t\t\t\t\t\t\t\t\trows={6}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Текст\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\terror={touched.text && Boolean(errors.text)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={errors.text && touched.text ? errors.text : \"\" }\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: \"355px\"}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Formik>\n\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\n\t\t\t\t\t\t\tОтмена\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.handleSubmit} color=\"primary\">\n\t\t\t\t\t\t\tСоздать\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default CreateCampaign;\n","import React, { Component } from 'react'\nimport axios from '../api/axios';\n\n// import * as Yup from 'yup';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport TablePagination from '../components/TablePagination';\nimport CreateCampaign from '../components/CreateCampaign';\nimport NeedSub from '../components/NeedSub';\nimport PageLoader from '../components/PageLoader';\n\n// const validationSchema =  Yup.object().shape({\n//   text: Yup.string()\n//   .required(<Translate id=\"validation.required\" />),\n// });\n\nexport default class Mailing extends Component {\n\tstate = {\n\t\tneedSub: false,\n\t\tdata: null,\n    pages: null,\n    tableLoading: false,\n\t\tcurrentPage: 1\n\t}\n\n\tcomponentDidMount = () => {\n    axios.get(`/api/compaign_list/${this.props.match.params.id}/`)\n\t\t.then(res => {\n\t\t\tthis.setState({\n\t\t\t\tdata: res.data.results,\n\t\t\t\tpages: res.data.count\n\t\t\t});\n\t\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t\t})\n\t\t.catch(err => {\n      if(err.response.status === 403){\n        this.setState({ needSub: true });\n      } else {\n        console.log(err);\n      }\n\t\t});\n\t}\n\n\thandleSubmit = (value) => {\n\t\tvar data = [...this.state.data];\n\t\tdata.unshift(value);\n\t\tthis.setState({ data: data });\n\t}\n\n  onPageChange = (newPage) => {\n    this.setState({ tableLoading: true });\n    axios.get(`/api/compaign_list/${this.props.match.params.id}/?page=${newPage}`)\n    .then(res => {\n\t\t\tthis.setState({\n\t\t\t\tdata: res.data.results,\n\t\t\t\tpages: res.data.count,\n        currentPage: newPage,\n        tableLoading: false\n\t\t\t});\n    })\n    .catch(err => {\n      console.log(err);\n    })\n  }\n\n  renderTableContent(){\n    if (!this.state.data.length) {\n      return <TableRow><TableCell align=\"center\" colSpan=\"4\">Нет данных</TableCell></TableRow>;\n    }\n  \treturn this.state.data.map((row, index) => {\n  \t\treturn (\n\t\t\t\t<TableRow key={row.id}>\n\t\t\t\t\t<TableCell>{row.date_in}</TableCell>\n\t\t\t\t\t<TableCell>{row.text}</TableCell>\n\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t{row.photo || row.video ? <a href={row.photo || row.video} target=\"blank\">Вложение</a> : null}\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t<TableCell align=\"right\">{row.status}</TableCell>\n\t\t\t\t</TableRow>\n  \t\t);\n  \t});\n  }\n\n\trender() {\n    if(this.state.needSub){\n      return <div className=\"wrapper\"><NeedSub botId={this.props.match.params.id} /></div>\n    }\n    if(!this.state.data) return <PageLoader />;\n\t\treturn (\n\t\t\t<div className=\"wrapper\" style={{ display: 'block'}}>\n\t\t\t\t<CreateCampaign botId={this.props.match.params.id} submit={this.handleSubmit} />\n\t\t\t\t{this.state.data !== null ? (\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<Table style={{width: '100%'}}>\n\t\t\t\t\t\t\t<TableHead style={{background: '#f5f5f5'}}>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell>Дата</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>Текст</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>Файл</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Статус</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n                {this.renderTableContent()}\n\t\t\t\t\t\t\t</TableBody>\n              <TableFooter>\n                <TableRow>\n                  <TablePagination\n                    loading={this.state.tableLoading}\n                    currentPage={this.state.currentPage}\n                    pages={this.state.pages}\n                    onPageChange={this.onPageChange}\n                  />\n                </TableRow>\n              </TableFooter>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</Paper>\n\t\t\t\t) : <CircularProgress style={{marginTop: '24px'}} />}\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import React from 'react';\n\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport PeopleIcon from '@material-ui/icons/PeopleOutlined';\n\nexport default ({ color, title, count }) => {\n  return (\n    <Paper className=\"client-count\">\n      <div className=\"client-count_icon\" style={{ background: color || '#61b5ff' }}>\n        <PeopleIcon style={{ fontSize: 48 }} />\n      </div>\n      <div className=\"client-count-content\">\n        <Typography variant=\"h6\">{title}</Typography>\n        <Typography variant=\"h4\">{count || 0}</Typography>\n      </div>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport axios from '../api/axios';\n\nimport NeedSub from '../components/NeedSub';\nimport ClientsCount from '../components/ClientsCount';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Analytics extends React.Component {\n  state = {\n    needSub: false,\n    data: null\n  }\n\n  componentDidMount = () => {\n    axios.get(`/api/analytics_data/${this.props.match.params.id}/`)\n    .then(res => {\n      this.setState({ data: res.data });\n    })\n    .catch(err => {\n      if(err.response.status === 403){\n        this.setState({ needSub: true });\n      }\n    });\n  }\n\n  render () {\n    if(this.state.needSub){\n      return <div className=\"wrapper\"><NeedSub botId={this.props.match.params.id}/></div>\n    }\n    if(!this.state.data){\n      return (\n        <div className=\"wrapper wrapper-oh\">\n          <div className=\"wrapper_loading\" >\n  \t         <CircularProgress />\n  \t\t\t  </div>\n        </div>\n      )\n    }\n    return (\n      <div className=\"wrapper\">\n        <div className=\"row\">\n          <div className=\"col-xl-4\">\n            <ClientsCount color=\"#61b5ff\" title=\"Все пользователи\" count={this.state.data.all_users_count} />\n          </div>\n          <div className=\"col-xl-4\">\n            <ClientsCount color=\"#80CBC4\" title=\"Новые пользователи\" count={this.state.data.today_users_count} />\n          </div>\n          <div className=\"col-xl-4\">\n            <ClientsCount color=\"#EF9A9A\" title=\"Отписались\" count={this.state.data.unsubscribe_users_count} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Analytics);\n","import React from 'react';\nimport axios from '../api/axios';\n\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport PageLoader from '../components/PageLoader';\n\nclass Payment extends React.Component {\n\tstate = {\n\t\tpayData: null\n\t}\n\n\tcomponentDidMount() {\n\t\taxios.get(`/api/tariff/${this.props.match.params.id}/`)\n\t\t.then(res => {\n\t\t\tthis.setState({ payData: res.data })\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err.response);\n\t\t})\n\t}\n\n\tprocessPayment(){\n\t\tlet payData = this.state.payData;\n\t  let widget = new window.cp.CloudPayments();\n\t\tlet data = {\n      bot_id: payData.bot_id\n  \t};\n\t  data.cloudPayments = {recurrent: { interval: 'Month', period: 1}};\n\t  widget.charge({\n      publicId: payData.publicId,\n      description: this.state.payData.description,\n      amount: payData.amount,\n      currency: 'RUB',\n      invoiceId: payData.invoiceId,\n      accountId: payData.accountId,\n      data: data\n\t  },\n\t  function (options) {\n\t\t\t// success\n\t  },\n\t  function (reason, options) {\n\t\t\t// fail\n\t  });\n\t}\n\n\tonPayClick = () => {\n\t\tthis.processPayment();\n\t}\n\n\trenderExpires(){\n\t\tif(this.state.payData.podpiska_do){\n\t\t return (\n\t\t\t <Typography variant=\"caption\" gutterBottom>\n\t\t\t\t Окончание подписки: {this.state.payData.podpiska_do}\n\t\t\t </Typography>\n\t\t )\n\t } else {\n\t\t return null;\n\t }\n }\n\n\trender() {\n\t\tif(!this.state.payData) return <PageLoader />;\n\t\treturn (\n\t\t\t<div className=\"wrapper\">\n\t\t\t\t<div className=\"row justify-content-center\">\n\n\t\t\t\t\t<div className=\"col-xl-3 col-md-6\">\n\t\t\t\t\t\t<Paper elevation={3} className=\"tariff\">\n\t\t\t\t\t\t\t<div className=\"tariff-header\">\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" align=\"center\">Free</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"tariff-content\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li>Конструктор ботов</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<div className=\"tariff-action\">\n\t\t\t\t\t\t\t\t<Button disabled={true} variant=\"contained\" size=\"large\">Бесплатно</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-xl-3 col-md-6\">\n\t\t\t\t\t\t<Paper elevation={3} className=\"tariff\">\n\t\t\t\t\t\t\t<div className=\"tariff-header tariff-header--pro\">\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" align=\"center\">Business</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"tariff-content\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li>Конструктор ботов</li>\n\t\t\t\t\t\t\t\t\t<li>Аналитика</li>\n\t\t\t\t\t\t\t\t\t<li>Клиенты</li>\n\t\t\t\t\t\t\t\t\t<li>Рассылки</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<div className=\"tariff-action\">\n\t\t\t\t\t\t\t\t{this.renderExpires()}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tstyle={{ boxShadow: 'none' }}\n\t\t\t\t\t\t\t\t\tdisabled={this.state.payData.podpiska_do ? true : false}\n\t\t\t\t\t\t\t\t\tonClick={this.onPayClick}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.payData.podpiska_do ? 'Текущий тариф' : `${this.state.payData.amount} RUB / Месяц`}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default Payment;\n","import React from 'react';\nimport * as Yup from 'yup';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form } from 'formik';\nimport Typography from '@material-ui/core/Typography';\n\nconst validationSchema =  Yup.object().shape({\n  email: Yup.string()\n  .email('Не валидный Email')\n  .required('Это поле обязательно'),\n  password: Yup.string()\n  .min(8, 'Минимальная длина пароля 8 символов')\n  .max(64, 'Максимальная длина пароля 64 символа')\n  .required('Это поле обязательно'),\n});\n\nconst LoginForm = ({ onSubmit, error }) => {\n  return (\n\t   <Formik\n\t\t\tonSubmit={onSubmit}\n\t\t\tinitialValues={{\n        email: '',\n        password: ''\n      }}\n\t\t\tvalidationSchema={validationSchema} >\n\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t<Form onSubmit={handleSubmit} name=\"login\" className=\"auth-form\">\n            {error ? <Typography variant=\"caption\" color=\"error\">\n              {error}\n            </Typography> : null}\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tvalue={values.email}\n\t\t\t\t\t\t\tlabel='Email'\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\thelperText={errors.email && touched.email ? errors.email : \"\" }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tstyle={{ minWidth: 350 }}\n\t\t\t\t\t\t/>\n            <br/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tvalue={values.password}\n              type=\"password\"\n\t\t\t\t\t\t\tlabel='Пароль'\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\thelperText={errors.password && touched.password ? errors.password : \"\" }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tstyle={{ minWidth: 350 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br/>\n            <Link to=\"/reset\">\n              <Typography variant=\"caption\">\n                Восстановить пароль\n              </Typography>\n            </Link>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"large\"\n              style={{ marginTop: 16 }}\n            >\n              Войти\n            </Button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t</Formik>\n  );\n}\n\nexport default LoginForm;\n","import React from 'react';\nimport * as Yup from 'yup';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { Formik, Form } from 'formik'\nimport Typography from '@material-ui/core/Typography';\n\nconst validationSchema =  Yup.object().shape({\n  email: Yup.string()\n  .email('Не валидный Email')\n  .required('Это поле обязательно'),\n  password: Yup.string()\n  .min(8, 'Минимальная длина пароля 8 символов')\n  .max(64, 'Максимальная длина пароля 64 символа')\n  .required('Это поле обязательно'),\n  password2: Yup.string()\n  .min(8, 'Минимальная длина пароля 8 символов')\n  .max(64, 'Максимальная длина пароля 64 символа')\n  .oneOf([Yup.ref('password')], 'Пароли не совпадают')\n  .required('Это поле обязательно'),\n});\n\nconst SignUpForm = ({ onSubmit, error }) => {\n  return (\n\t   <Formik\n\t\t\tonSubmit={onSubmit}\n\t\t\tinitialValues={{\n        email: '',\n        password: '',\n        password2: ''\n      }}\n\t\t\tvalidationSchema={validationSchema} >\n\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t<Form onSubmit={handleSubmit} name=\"login\" className=\"auth-form\">\n            {error ? <Typography variant=\"caption\" color=\"error\">\n              {error}\n            </Typography> : null}\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tvalue={values.email}\n\t\t\t\t\t\t\tlabel='Email'\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\thelperText={errors.email && touched.email ? errors.email : \"\" }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tstyle={{ minWidth: 350 }}\n\t\t\t\t\t\t/>\n            <br/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tvalue={values.password}\n              type=\"password\"\n\t\t\t\t\t\t\tlabel='Пароль'\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\thelperText={errors.password && touched.password ? errors.password : \"\" }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tstyle={{ minWidth: 350 }}\n\t\t\t\t\t\t/>\n            <br/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"password2\"\n\t\t\t\t\t\t\tvalue={values.password2}\n              type=\"password\"\n\t\t\t\t\t\t\tlabel='Повтор пароля'\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\terror={touched.password2 && Boolean(errors.password2)}\n\t\t\t\t\t\t\thelperText={errors.password2 && touched.password2 ? errors.password2 : \"\" }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tstyle={{ minWidth: 350 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br/>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"large\"\n              style={{ marginTop: 16 }}\n            >\n              Зарегистрироваться\n            </Button>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t</Formik>\n  );\n}\n\nexport default SignUpForm;\n","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport * as actions from './../store/actions';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport LoginForm from '../components/auth/LoginForm';\nimport SignupForm from '../components/auth/SignupForm';\n\nclass Auth extends React.Component {\n  state = {\n    tab: 0,\n    authError: false,\n    signUpError: false\n  }\n\n  onLoginSubmit = values => {\n    this.setState({ authError: false })\n    axios.post('/api/token/', values)\n      .then(({ data }) => {\n        this.props.signIn(data);\n      })\n      .catch(err => {\n        this.setState({ authError: err.response.data.detail })\n      });\n  }\n\n  onSignupSubmit = values => {\n    this.setState({ signUpError: false })\n    axios.post('/api/register/', values)\n      .then(({ data }) => {\n        this.props.signIn(data);\n      })\n      .catch(err => {\n        this.setState({ signUpError: err.response.data.detail })\n      });\n  }\n\n  onTabChange = (event, newValue) => {\n    this.setState({ tab: newValue, authError: false, signUpError: false  });\n  }\n\n  render(){\n    const form = this.state.tab === 0\n      ? <LoginForm onSubmit={this.onLoginSubmit} error={this.state.authError} />\n      : <SignupForm onSubmit={this.onSignupSubmit} error={this.state.authError} />;\n    return (\n      <div className=\"auth-wrapper container\">\n        <div className=\"auth\">\n          <Tabs\n            value={this.state.tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={this.onTabChange}\n            style={{ marginBottom: 16 }}\n          >\n            <Tab label=\"Вход\" />\n            <Tab label=\"Регистрация\" />\n          </Tabs>\n\n          {form}\n\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsignIn: (payload) => dispatch({ type: actions.SIGN_IN, payload })\n\t};\n}\n\nexport default connect(null, mapDispatchToProps)(Auth);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../store/actions';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nimport { Formik, Form } from 'formik'\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DoneOutlineIcon from '@material-ui/icons/DoneOutlineRounded';\nimport ReportIcon from '@material-ui/icons/Report';\nimport Zoom from '@material-ui/core/Zoom';\n\n\n\nconst validationSchema =  Yup.object().shape({\n\tpass: Yup.string()\n  .min(8, 'Минимальная длина пароля 8 символов')\n  .max(64, 'Максимальная длина пароля 64 символа')\n\t.required('Это поле обязательно!'),\n\trepeatPass: Yup.string()\n  .min(8, 'Минимальная длина пароля 8 символов')\n  .max(64, 'Максимальная длина пароля 64 символа')\n  .oneOf([Yup.ref('pass')], 'Пароли не совпадают')\n\t.required('Это поле обязательно!')\n});\n\n\nclass ChangePassword extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\tfinished: false,\n\t\terror: null,\n\t\tfieldError: null\n\t}\n\n\tcomponentDidMount(){\n\t\tlet params = this.props.match.params;\n\t\taxios.get(`/api/ch_pass/${params.userId}/${params.queryId}/`)\n\t\t.then(res => {\n\t\t\tthis.setState({ loading: false });\n\t\t})\n\t\t.catch((err) => {\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: err.response.data.error\n\t\t\t});\n\t\t});\n\t}\n\n\tonSubmit = (values) => {\n\t\tlet params = this.props.match.params;\n\t\tthis.setState({ loading: true });\n\t\taxios.post(`/api/ch_pass/${params.userId}/${params.queryId}/`, {\n\t\t\tpassword: values.pass,\n\t\t\tpassword2: values.repeatPass\n\t\t})\n\t\t.then(res => {\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tfinished: true,\n\t\t\t\tfieldError: null\n\t\t\t});\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: err.response.data.error\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<main className=\"auth-wrapper container\">\n\t\t\t\t<header className=\"auth-header\">\n\t\t\t\t\t<Link to=\"/\" className=\"auth_logo\">\n  \t\t\t\t\t<Typography align=\"center\" color=\"primary\" variant=\"h5\" gutterBottom>INBOT24</Typography>\n\t\t\t\t\t</Link>\n\t\t\t\t</header>\n\t\t\t\t{!this.state.finished && !this.state.loading && !this.state.error ? <div className=\"auth-form\">\n\t\t\t\t\t<Typography align=\"center\" variant=\"h5\" gutterBottom>\n\t\t\t\t\t  Смена пароля\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tonSubmit={(values) => this.onSubmit(values)}\n\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\tpass: '',\n\t\t\t\t\t\t\trepeatPass: ''\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tname=\"pass\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Новый пароль\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.pass}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.pass && Boolean(errors.pass)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.pass && touched.pass ? errors.pass : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{minWidth: \"300px\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tname=\"repeatPass\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Повторите пароль\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.repeatPass}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.repeatPass && Boolean(errors.repeatPass)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.repeatPass && touched.repeatPass ? errors.repeatPass : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{minWidth: \"300px\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t{!this.state.loading && this.state.fieldError ? <div>\n\t\t\t\t\t  \t\t\t\t\t<Typography className=\"auth_error\" variant=\"body2\" color=\"error\" gutterBottom style={{ marginLeft: 12 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.fieldError}\n\t\t\t\t\t  \t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</div> : null}\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: 14 }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t</div> : null}\n\t\t\t\t{this.state.finished ? <div>\n          <Zoom in={true} timeout={300}>\n            <div className=\"text-center\">\n              <DoneOutlineIcon color=\"primary\" style={{ fontSize: 64 }} />\n            </div>\n          </Zoom>\n\t\t\t\t\t<Typography align=\"center\" variant=\"h5\" gutterBottom>Пароль изменен!</Typography>\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tto=\"/auth\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tВойти\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div> : null}\n\t\t\t\t{this.state.loading ? <CircularProgress /> : null}\n\t\t\t\t{!this.state.loading && this.state.error ? <div>\n\t          <Zoom in={true} timeout={300}>\n\t            <div className=\"text-center\">\n\t              <ReportIcon color=\"error\" style={{ fontSize: 64 }} />\n\t            </div>\n\t          </Zoom>\n  \t\t\t\t\t<Typography align=\"center\" variant=\"body1\" color=\"error\" gutterBottom>\n\t\t\t\t\t\t\t{this.state.error}\n  \t\t\t\t\t</Typography>\n\t\t\t\t</div> : null}\n\t\t\t</main>\n\t\t);\n\t}\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tauth: (userData) => dispatch({ type: actions.SIGN_IN, userData }),\n\t}\n}\n\nexport default connect(null, mapDispatchToProps)(ChangePassword);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../store/actions';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { Redirect, Link } from 'react-router-dom';\n\nimport { Formik, Form } from 'formik'\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DoneOutlineIcon from '@material-ui/icons/DoneOutlineRounded';\nimport Zoom from '@material-ui/core/Zoom';\n\nconst validationSchema =  Yup.object().shape({\n\temail: Yup.string()\n\t.required(\"Это поле обязательно!\")\n});\n\n\nclass ResetPassword extends React.Component {\n\tstate = {\n\t\tloading: false,\n    success: false,\n\t\terror: null\n\t}\n\n\tonSubmit = (values) => {\n\t\tthis.setState({ loading: true })\n\t\taxios.post('/api/forgot_password/', {\n\t\t\temail: values.email\n\t\t})\n\t\t.then(({ data }) => {\n    \tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tsuccess: true,\n\t\t\t\terror: null\n\t\t\t});\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\terror: err.response.data.error\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\tif (null) {\n\t\t\treturn <Redirect to='/exchange' />;\n\t\t}\n\t\treturn (\n\t\t\t<main className=\"auth-wrapper container\">\n\t\t\t\t<header className=\"auth-header\">\n\t\t\t\t\t<Link to=\"/\" className=\"auth_logo\">\n  \t\t\t\t\t<Typography align=\"center\" color=\"primary\" variant=\"h5\" gutterBottom>INBOT24</Typography>\n\t\t\t\t\t</Link>\n\t\t\t\t</header>\n\n\t\t\t\t{!this.state.loading &&!this.state.success ? <div className=\"auth-form\">\n\t\t\t\t\t<Typography align=\"center\" variant=\"h5\" gutterBottom>\n            Восстановление пароля\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\temail: ''\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\t\t\tref={node => (this.form = node)}>\n\t\t\t\t\t\t\t{({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.email}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={errors.email && touched.email ? errors.email : \"\" }\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tstyle={{minWidth: \"300px\"}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{!this.state.loading && this.state.error ? <div>\n\t\t\t\t\t  \t\t\t\t\t<Typography className=\"auth_error\" variant=\"body2\" color=\"error\" gutterBottom style={{ marginLeft: 12 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.error}\n\t\t\t\t\t  \t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</div> : null}\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: 14 }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tВосстановить\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t</div> : null}\n        {this.state.success ? (\n          <div>\n            <Zoom in={true} timeout={300}>\n              <div className=\"text-center\">\n                <DoneOutlineIcon color=\"primary\" style={{ fontSize: 64 }} />\n              </div>\n            </Zoom>\n  \t\t\t\t\t<Typography align=\"center\" variant=\"h5\" gutterBottom>Письмо отправлено!</Typography>\n  \t\t\t\t\t<Typography align=\"center\" variant=\"body1\" gutterBottom>\n              Перейдите по ссылке в письме для восстаноления доступа к аккаунту\n  \t\t\t\t\t</Typography>\n          </div>\n        ) : null}\n        {this.state.loading ? <CircularProgress /> : null}\n\t\t\t</main>\n\t\t);\n\t}\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tauth: (userData) => dispatch({ type: actions.SIGN_IN, userData }),\n\t}\n}\n\nexport default connect(null, mapDispatchToProps)(ResetPassword);\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Sidebar from './components/Sidebar';\nimport EditorHeader from './components/EditorHeader';\nimport Bots from './pages/Bots';\nimport Editor from './pages/Editor';\nimport Clients from './pages/Clients';\nimport Mailing from './pages/Mailing';\nimport Analytics from './pages/Analytics';\nimport Payment from './pages/Payment';\n// import Orders from './pages/Orders';\n// import Future from './pages/Future';\n// import Connect from './pages/Connect';\n// import Integration from './pages/Integration';\n// import Settings from './pages/Settings';\n// import FAQ from './pages/FAQ';\nimport Auth from './pages/Auth';\nimport ChangePassword from './pages/ChangePassword';\nimport ResetPassword from './pages/ResetPassword';\n\nclass App extends Component {\n  renderAuthenticatedRoutes(){\n    return (\n      <React.Fragment>\n        <div>\n          <Route exact path='/' component={Bots} />\n          <Switch>\n            <Route path=\"/bot/:id\" component={EditorHeader} />\n          </Switch>\n          <div className=\"bot-wrapper\">\n      \t\t\t<Route exact path=\"/bot/:id/:page\" component={Sidebar} />\n            <Switch>\n              <Route exact path=\"/bot/:id/editor\" component={Editor} />\n              <Route exact path=\"/bot/:id/analytics\" component={Analytics} />\n              <Route exact path=\"/bot/:id/clients\" component={Clients} />\n              <Route exact path=\"/bot/:id/mailing\" component={Mailing} />\n              <Route exact path=\"/bot/:id/payment\" component={Payment} />\n              {/*\n              <Route exact path=\"/bot/:id/orders\" render={(props) => <Orders {...props} />} />\n              <Route exact path=\"/bot/:id/connect\" render={(props) => <Connect {...props} />} />\n              <Route exact path=\"/bot/:id/integration\" render={(props) => <Integration {...props} />} />\n              <Route exact path=\"/bot/:id/settings\" render={(props) => <Settings {...props} />} />\n              <Route exact path=\"/bot/:id/faq\" render={(props) => <FAQ {...props} />} />\n              */}\n              <Route path='' render={props => <Redirect to=\"/\" />} />\n            </Switch>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  renderDefaultRoutes(){\n    return (\n      <div className=\"app\">\n        <Switch>\n          <Route exact path='/' render={(props) => <Auth {...props} />}/>\n          <Route exact path='/reset' render={(props) => <ResetPassword {...props} />}/>\n          <Route path=\"/change_password/:userId/:queryId\" render={(props) => <ChangePassword {...props} />} />\n          <Route path='' render={props => <Redirect to=\"/\" />} />\n        </Switch>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Router>\n        {this.props.isSignedIn ? this.renderAuthenticatedRoutes() : this.renderDefaultRoutes()}\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  }\n};\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport './index.css';\nimport './sass/main.sass';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { LocalizeProvider } from \"react-localize-redux\";\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport MomentUtils from '@date-io/moment';\n\nimport store from './store/store';\n\nconst theme = createMuiTheme({\n\ttypography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n\t\t\tlight: \"#61b5ff\",\n\t\t\tmain: \"#0d86d7\",\n\t\t\tdark: \"#005aa5\",\n\t\t\tcontrastText: \"#ffffff\"\n\t\t},\n\t  secondary: {\n\t\t\tlight: \"#6d6d6d\",\n\t\t\tmain: \"#424242\",\n\t\t\tdark: \"#1b1b1b\",\n\t\t\tcontrastText: \"#ffffff\"\n\t\t}\n  }\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <MuiPickersUtilsProvider utils={MomentUtils}>\n      <MuiThemeProvider theme={theme}>\n        <LocalizeProvider><App/></LocalizeProvider>\n      </MuiThemeProvider>\n    </MuiPickersUtilsProvider>\n  </Provider>,\n\tdocument.querySelector('#root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}